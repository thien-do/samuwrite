function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function n(e){return e&&e.__esModule?e.default:e}var i={},o={},r=t.parcelRequirede7d;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},t.parcelRequirede7d=r),r.register("5XSRw",(function(t,n){var i,o;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},o=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("2wrGW",(function(t,n){var i,o,s;e(t.exports,"Fragment",(function(){return i}),(function(e){return i=e})),e(t.exports,"jsx",(function(){return o}),(function(e){return o=e})),e(t.exports,"jsxs",(function(){return s}),(function(e){return s=e})),r("bcl6z");var a=r("gQRSt"),l=60103;if(i=60107,"function"==typeof Symbol&&Symbol.for){var c=Symbol.for;l=c("react.element"),i=c("react.fragment")}var u=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d=Object.prototype.hasOwnProperty,h={key:!0,ref:!0,__self:!0,__source:!0};function p(e,t,n){var i,o={},r=null,s=null;for(i in void 0!==n&&(r=""+n),void 0!==t.key&&(r=""+t.key),void 0!==t.ref&&(s=t.ref),t)d.call(t,i)&&!h.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:l,type:e,key:r,ref:s,props:o,_owner:u.current}}o=p,s=p})),r.register("bcl6z",(function(e,t){var n=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var s,a,l=r(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))i.call(s,u)&&(l[u]=s[u]);if(n){a=n(s);for(var d=0;d<a.length;d++)o.call(s,a[d])&&(l[a[d]]=s[a[d]])}}return l}})),r.register("gQRSt",(function(e,t){e.exports=r("8vjpn")})),r.register("8vjpn",(function(t,n){var i,o,s,a,l,c,u,d,h,p,g,f,m,v,b,y,_,C,x,S,w,k,E,D,I,A,R,L;e(t.exports,"Fragment",(function(){return i}),(function(e){return i=e})),e(t.exports,"StrictMode",(function(){return o}),(function(e){return o=e})),e(t.exports,"Profiler",(function(){return s}),(function(e){return s=e})),e(t.exports,"Suspense",(function(){return a}),(function(e){return a=e})),e(t.exports,"Children",(function(){return l}),(function(e){return l=e})),e(t.exports,"Component",(function(){return c}),(function(e){return c=e})),e(t.exports,"PureComponent",(function(){return u}),(function(e){return u=e})),e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return d}),(function(e){return d=e})),e(t.exports,"cloneElement",(function(){return h}),(function(e){return h=e})),e(t.exports,"createContext",(function(){return p}),(function(e){return p=e})),e(t.exports,"createElement",(function(){return g}),(function(e){return g=e})),e(t.exports,"createFactory",(function(){return f}),(function(e){return f=e})),e(t.exports,"createRef",(function(){return m}),(function(e){return m=e})),e(t.exports,"forwardRef",(function(){return v}),(function(e){return v=e})),e(t.exports,"isValidElement",(function(){return b}),(function(e){return b=e})),e(t.exports,"lazy",(function(){return y}),(function(e){return y=e})),e(t.exports,"memo",(function(){return _}),(function(e){return _=e})),e(t.exports,"useCallback",(function(){return C}),(function(e){return C=e})),e(t.exports,"useContext",(function(){return x}),(function(e){return x=e})),e(t.exports,"useDebugValue",(function(){return S}),(function(e){return S=e})),e(t.exports,"useEffect",(function(){return w}),(function(e){return w=e})),e(t.exports,"useImperativeHandle",(function(){return k}),(function(e){return k=e})),e(t.exports,"useLayoutEffect",(function(){return E}),(function(e){return E=e})),e(t.exports,"useMemo",(function(){return D}),(function(e){return D=e})),e(t.exports,"useReducer",(function(){return I}),(function(e){return I=e})),e(t.exports,"useRef",(function(){return A}),(function(e){return A=e})),e(t.exports,"useState",(function(){return R}),(function(e){return R=e})),e(t.exports,"version",(function(){return L}),(function(e){return L=e}));var M=r("bcl6z"),T=60103,N=60106;i=60107,o=60108,s=60114;var P=60109,O=60110,F=60112;a=60113;var z=60115,B=60116;if("function"==typeof Symbol&&Symbol.for){var H=Symbol.for;T=H("react.element"),N=H("react.portal"),i=H("react.fragment"),o=H("react.strict_mode"),s=H("react.profiler"),P=H("react.provider"),O=H("react.context"),F=H("react.forward_ref"),a=H("react.suspense"),z=H("react.memo"),B=H("react.lazy")}var W="function"==typeof Symbol&&Symbol.iterator;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K={};function U(e,t,n){this.props=e,this.context=t,this.refs=K,this.updater=n||V}function q(){}function $(e,t,n){this.props=e,this.context=t,this.refs=K,this.updater=n||V}U.prototype.isReactComponent={},U.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(j(85));this.updater.enqueueSetState(this,e,t,"setState")},U.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},q.prototype=U.prototype;var G=$.prototype=new q;G.constructor=$,M(G,U.prototype),G.isPureReactComponent=!0;var Q={current:null},X=Object.prototype.hasOwnProperty,Z={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,n){var i,o={},r=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(r=""+t.key),t)X.call(t,i)&&!Z.hasOwnProperty(i)&&(o[i]=t[i]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===o[i]&&(o[i]=a[i]);return{$$typeof:T,type:e,key:r,ref:s,props:o,_owner:Q.current}}function Y(e){return"object"==typeof e&&null!==e&&e.$$typeof===T}var ee=/\/+/g;function te(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function ne(e,t,n,i,o){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var s,a=!1;if(null===e)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case T:case N:a=!0}}if(a)return o=o(a=e),e=""===i?"."+te(a,0):i,Array.isArray(o)?(n="",null!=e&&(n=e.replace(ee,"$&/")+"/"),ne(o,t,n,"",(function(e){return e}))):null!=o&&(Y(o)&&(o=function(e,t){return{$$typeof:T,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(ee,"$&/")+"/")+e)),t.push(o)),1;if(a=0,i=""===i?".":i+":",Array.isArray(e))for(var l=0;l<e.length;l++){var c=i+te(r=e[l],l);a+=ne(r,t,n,c,o)}else if("function"==typeof(c=null===(s=e)||"object"!=typeof s?null:"function"==typeof(s=W&&s[W]||s["@@iterator"])?s:null))for(e=c.call(e),l=0;!(r=e.next()).done;)a+=ne(r=r.value,t,n,c=i+te(r,l++),o);else if("object"===r)throw t=""+e,Error(j(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return a}function ie(e,t,n){if(null==e)return e;var i=[],o=0;return ne(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function oe(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var re={current:null};function se(){var e=re.current;if(null===e)throw Error(j(321));return e}l={map:ie,forEach:function(e,t,n){ie(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ie(e,(function(){t++})),t},toArray:function(e){return ie(e,(function(e){return e}))||[]},only:function(e){if(!Y(e))throw Error(j(143));return e}},c=U,u=$,d={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Q,IsSomeRendererActing:{current:!1},assign:M},h=function(e,t,n){if(null==e)throw Error(j(267,e));var i=M({},e.props),o=e.key,r=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(r=t.ref,s=Q.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)X.call(t,l)&&!Z.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:T,type:e.type,key:o,ref:r,props:i,_owner:s}},p=function(e,t){return void 0===t&&(t=null),(e={$$typeof:O,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:P,_context:e},e.Consumer=e},g=J,f=function(e){var t=J.bind(null,e);return t.type=e,t},m=function(){return{current:null}},v=function(e){return{$$typeof:F,render:e}},b=Y,y=function(e){return{$$typeof:B,_payload:{_status:-1,_result:e},_init:oe}},_=function(e,t){return{$$typeof:z,type:e,compare:void 0===t?null:t}},C=function(e,t){return se().useCallback(e,t)},x=function(e,t){return se().useContext(e,t)},S=function(){},w=function(e,t){return se().useEffect(e,t)},k=function(e,t,n){return se().useImperativeHandle(e,t,n)},E=function(e,t){return se().useLayoutEffect(e,t)},D=function(e,t){return se().useMemo(e,t)},I=function(e,t,n){return se().useReducer(e,t,n)},A=function(e){return se().useRef(e)},R=function(e){return se().useState(e)},L="17.0.2"})),r.register("cGLHe",(function(t,n){var i,o,s,a,l,c,u,d,h,p,g;e(t.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return i}),(function(e){return i=e})),e(t.exports,"createPortal",(function(){return o}),(function(e){return o=e})),e(t.exports,"findDOMNode",(function(){return s}),(function(e){return s=e})),e(t.exports,"flushSync",(function(){return a}),(function(e){return a=e})),e(t.exports,"hydrate",(function(){return l}),(function(e){return l=e})),e(t.exports,"render",(function(){return c}),(function(e){return c=e})),e(t.exports,"unmountComponentAtNode",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_batchedUpdates",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_createPortal",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_renderSubtreeIntoContainer",(function(){return p}),(function(e){return p=e})),e(t.exports,"version",(function(){return g}),(function(e){return g=e}));var f=r("gQRSt"),m=r("bcl6z"),v=r("gLJR3");function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!f)throw Error(b(227));var y=new Set,_={};function C(e,t){x(e,t),x(e+"Capture",t)}function x(e,t){for(_[e]=t,e=0;e<t.length;e++)y.add(t[e])}var S=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,k=Object.prototype.hasOwnProperty,E={},D={};function I(e,t,n,i,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){A[e]=new I(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];A[t]=new I(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){A[e]=new I(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){A[e]=new I(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){A[e]=new I(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){A[e]=new I(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){A[e]=new I(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){A[e]=new I(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){A[e]=new I(e,5,!1,e.toLowerCase(),null,!1,!1)}));var R=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}function M(e,t,n,i){var o=A.hasOwnProperty(t)?A[t]:null;(null!==o?0===o.type:!i&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,i){if(null==t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!k.call(D,e)||!k.call(E,e)&&(w.test(e)?D[e]=!0:(E[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(R,L);A[t]=new I(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(R,L);A[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(R,L);A[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){A[e]=new I(e,1,!1,e.toLowerCase(),null,!1,!1)})),A.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){A[e]=new I(e,1,!1,e.toLowerCase(),null,!0,!0)}));var T=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=60103,P=60106,O=60107,F=60108,z=60114,B=60109,H=60110,W=60112,j=60113,V=60120,K=60115,U=60116,q=60121,$=60128,G=60129,Q=60130,X=60131;if("function"==typeof Symbol&&Symbol.for){var Z=Symbol.for;N=Z("react.element"),P=Z("react.portal"),O=Z("react.fragment"),F=Z("react.strict_mode"),z=Z("react.profiler"),B=Z("react.provider"),H=Z("react.context"),W=Z("react.forward_ref"),j=Z("react.suspense"),V=Z("react.suspense_list"),K=Z("react.memo"),U=Z("react.lazy"),q=Z("react.block"),Z("react.scope"),$=Z("react.opaque.id"),G=Z("react.debug_trace_mode"),Q=Z("react.offscreen"),X=Z("react.legacy_hidden")}var J,Y="function"==typeof Symbol&&Symbol.iterator;function ee(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Y&&e[Y]||e["@@iterator"])?e:null}function te(e){if(void 0===J)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);J=t&&t[1]||""}return"\n"+J+e}var ne=!1;function ie(e,t){if(!e||ne)return"";ne=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var i=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){i=e}e.call(t.prototype)}else{try{throw Error()}catch(e){i=e}e()}}catch(e){if(e&&i&&"string"==typeof e.stack){for(var o=e.stack.split("\n"),r=i.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a])return"\n"+o[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{ne=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?te(e):""}function oe(e){switch(e.tag){case 5:return te(e.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1);case 11:return e=ie(e.type.render,!1);case 22:return e=ie(e.type._render,!1);case 1:return e=ie(e.type,!0);default:return""}}function re(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case O:return"Fragment";case P:return"Portal";case z:return"Profiler";case F:return"StrictMode";case j:return"Suspense";case V:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case H:return(e.displayName||"Context")+".Consumer";case B:return(e._context.displayName||"Context")+".Provider";case W:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case K:return re(e.type);case q:return re(e._render);case U:t=e._payload,e=e._init;try{return re(e(t))}catch(e){}}return null}function se(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ae(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function le(e){e._valueTracker||(e._valueTracker=function(e){var t=ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ce(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ae(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function ue(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function de(e,t){var n=t.checked;return m({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function he(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=se(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function pe(e,t){null!=(t=t.checked)&&M(e,"checked",t,!1)}function ge(e,t){pe(e,t);var n=se(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?me(e,t.type,n):t.hasOwnProperty("defaultValue")&&me(e,t.type,se(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function fe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function me(e,t,n){"number"===t&&ue(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ve(e,t){return e=m({children:void 0},t),(t=function(e){var t="";return f.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function be(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+se(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ye(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(b(91));return m({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _e(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(b(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(b(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:se(n)}}function Ce(e,t){var n=se(t.value),i=se(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function xe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Se="http://www.w3.org/1999/xhtml",we="http://www.w3.org/2000/svg";function ke(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ke(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var De,Ie,Ae=(Ie=function(e,t){if(e.namespaceURI!==we||"innerHTML"in e)e.innerHTML=t;else{for((De=De||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=De.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return Ie(e,t)}))}:Ie);function Re(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Le={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Me=["Webkit","ms","Moz","O"];function Te(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Le.hasOwnProperty(e)&&Le[e]?(""+t).trim():t+"px"}function Ne(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=Te(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(Le).forEach((function(e){Me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Le[t]=Le[e]}))}));var Pe=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(Pe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(b(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(b(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(b(62))}}function Fe(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ze(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Be=null,He=null,We=null;function je(e){if(e=po(e)){if("function"!=typeof Be)throw Error(b(280));var t=e.stateNode;t&&(t=fo(t),Be(e.stateNode,e.type,t))}}function Ve(e){He?We?We.push(e):We=[e]:He=e}function Ke(){if(He){var e=He,t=We;if(We=He=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Ue(e,t){return e(t)}function qe(e,t,n,i,o){return e(t,n,i,o)}function $e(){}var Ge=Ue,Qe=!1,Xe=!1;function Ze(){null===He&&null===We||($e(),Ke())}function Je(e,t){var n=e.stateNode;if(null===n)return null;var i=fo(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(b(231,t,typeof n));return n}var Ye=!1;if(S)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ye=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch(Ie){Ye=!1}function tt(e,t,n,i,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var nt=!1,it=null,ot=!1,rt=null,st={onError:function(e){nt=!0,it=e}};function at(e,t,n,i,o,r,s,a,l){nt=!1,it=null,tt.apply(st,arguments)}function lt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ct(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ut(e){if(lt(e)!==e)throw Error(b(188))}function dt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=lt(e)))throw Error(b(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var r=o.alternate;if(null===r){if(null!==(i=o.return)){n=i;continue}break}if(o.child===r.child){for(r=o.child;r;){if(r===n)return ut(o),e;if(r===i)return ut(o),t;r=r.sibling}throw Error(b(188))}if(n.return!==i.return)n=o,i=r;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s){for(a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s)throw Error(b(189))}}if(n.alternate!==i)throw Error(b(190))}if(3!==n.tag)throw Error(b(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function ht(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var pt,gt,ft,mt,vt=!1,bt=[],yt=null,_t=null,Ct=null,xt=new Map,St=new Map,wt=[],kt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Et(e,t,n,i,o){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:o,targetContainers:[i]}}function Dt(e,t){switch(e){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":xt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":St.delete(t.pointerId)}}function It(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e=Et(t,n,i,o,r),null!==t&&(null!==(t=po(t))&&gt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function At(e){var t=ho(e.target);if(null!==t){var n=lt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ct(n)))return e.blockedOn=t,void mt(e.lanePriority,(function(){v.unstable_runWithPriority(e.priority,(function(){ft(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Rt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=hn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=po(n))&&gt(t),e.blockedOn=n,!1;t.shift()}return!0}function Lt(e,t,n){Rt(e)&&n.delete(t)}function Mt(){for(vt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=po(e.blockedOn))&&pt(e);break}for(var t=e.targetContainers;0<t.length;){var n=hn(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&bt.shift()}null!==yt&&Rt(yt)&&(yt=null),null!==_t&&Rt(_t)&&(_t=null),null!==Ct&&Rt(Ct)&&(Ct=null),xt.forEach(Lt),St.forEach(Lt)}function Tt(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,v.unstable_scheduleCallback(v.unstable_NormalPriority,Mt)))}function Nt(e){function t(t){return Tt(t,e)}if(0<bt.length){Tt(bt[0],e);for(var n=1;n<bt.length;n++){var i=bt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==yt&&Tt(yt,e),null!==_t&&Tt(_t,e),null!==Ct&&Tt(Ct,e),xt.forEach(t),St.forEach(t),n=0;n<wt.length;n++)(i=wt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<wt.length&&null===(n=wt[0]).blockedOn;)At(n),null===n.blockedOn&&wt.shift()}function Pt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ot={animationend:Pt("Animation","AnimationEnd"),animationiteration:Pt("Animation","AnimationIteration"),animationstart:Pt("Animation","AnimationStart"),transitionend:Pt("Transition","TransitionEnd")},Ft={},zt={};function Bt(e){if(Ft[e])return Ft[e];if(!Ot[e])return e;var t,n=Ot[e];for(t in n)if(n.hasOwnProperty(t)&&t in zt)return Ft[e]=n[t];return e}S&&(zt=document.createElement("div").style,"AnimationEvent"in window||(delete Ot.animationend.animation,delete Ot.animationiteration.animation,delete Ot.animationstart.animation),"TransitionEvent"in window||delete Ot.transitionend.transition);var Ht=Bt("animationend"),Wt=Bt("animationiteration"),jt=Bt("animationstart"),Vt=Bt("transitionend"),Kt=new Map,Ut=new Map,qt=["abort","abort",Ht,"animationEnd",Wt,"animationIteration",jt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Vt,"transitionEnd","waiting","waiting"];function $t(e,t){for(var n=0;n<e.length;n+=2){var i=e[n],o=e[n+1];o="on"+(o[0].toUpperCase()+o.slice(1)),Ut.set(i,t),Kt.set(i,o),C(o,[i])}}(0,v.unstable_now)();var Gt=8;function Qt(e){if(0!=(1&e))return Gt=15,1;if(0!=(2&e))return Gt=14,2;if(0!=(4&e))return Gt=13,4;var t=24&e;return 0!==t?(Gt=12,t):0!=(32&e)?(Gt=11,32):0!==(t=192&e)?(Gt=10,t):0!=(256&e)?(Gt=9,256):0!==(t=3584&e)?(Gt=8,t):0!=(4096&e)?(Gt=7,4096):0!==(t=4186112&e)?(Gt=6,t):0!==(t=62914560&e)?(Gt=5,t):67108864&e?(Gt=4,67108864):0!=(134217728&e)?(Gt=3,134217728):0!==(t=805306368&e)?(Gt=2,t):0!=(1073741824&e)?(Gt=1,1073741824):(Gt=8,e)}function Xt(e,t){var n=e.pendingLanes;if(0===n)return Gt=0;var i=0,o=0,r=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==r)i=r,o=Gt=15;else if(0!==(r=134217727&n)){var l=r&~s;0!==l?(i=Qt(l),o=Gt):0!==(a&=r)&&(i=Qt(a),o=Gt)}else 0!==(r=n&~s)?(i=Qt(r),o=Gt):0!==a&&(i=Qt(a),o=Gt);if(0===i)return 0;if(i=n&((0>(i=31-nn(i))?0:1<<i)<<1)-1,0!==t&&t!==i&&0==(t&s)){if(Qt(t),o<=Gt)return t;Gt=o}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-nn(t)),i|=e[n],t&=~o;return i}function Zt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Yt(24&~t))?Jt(10,t):e;case 10:return 0===(e=Yt(192&~t))?Jt(8,t):e;case 8:return 0===(e=Yt(3584&~t))&&(0===(e=Yt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Yt(805306368&~t))&&(t=268435456),t}throw Error(b(358,e))}function Yt(e){return e&-e}function en(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tn(e,t,n){e.pendingLanes|=t;var i=t-1;e.suspendedLanes&=i,e.pingedLanes&=i,(e=e.eventTimes)[t=31-nn(t)]=n}var nn=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(on(e)/rn|0)|0},on=Math.log,rn=Math.LN2;var sn=v.unstable_UserBlockingPriority,an=v.unstable_runWithPriority,ln=!0;function cn(e,t,n,i){Qe||$e();var o=dn,r=Qe;Qe=!0;try{qe(o,e,t,n,i)}finally{(Qe=r)||Ze()}}function un(e,t,n,i){an(sn,dn.bind(null,e,t,n,i))}function dn(e,t,n,i){var o;if(ln)if((o=0==(4&t))&&0<bt.length&&-1<kt.indexOf(e))e=Et(null,e,t,n,i),bt.push(e);else{var r=hn(e,t,n,i);if(null===r)o&&Dt(e,i);else{if(o){if(-1<kt.indexOf(e))return e=Et(r,e,t,n,i),void bt.push(e);if(function(e,t,n,i,o){switch(t){case"focusin":return yt=It(yt,e,t,n,i,o),!0;case"dragenter":return _t=It(_t,e,t,n,i,o),!0;case"mouseover":return Ct=It(Ct,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return xt.set(r,It(xt.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,St.set(r,It(St.get(r)||null,e,t,n,i,o)),!0}return!1}(r,e,t,n,i))return;Dt(e,i)}Ki(e,t,i,null,n)}}}function hn(e,t,n,i){var o=ze(i);if(null!==(o=ho(o))){var r=lt(o);if(null===r)o=null;else{var s=r.tag;if(13===s){if(null!==(o=ct(r)))return o;o=null}else if(3===s){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null)}}return Ki(e,t,i,o,n),null}var pn=null,gn=null,fn=null;function mn(){if(fn)return fn;var e,t,n=gn,i=n.length,o="value"in pn?pn.value:pn.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return fn=o.slice(e,1<t?1-t:void 0)}function vn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function bn(){return!0}function yn(){return!1}function _n(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?bn:yn,this.isPropagationStopped=yn,this}return m(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=bn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=bn)},persist:function(){},isPersistent:bn}),t}var Cn,xn,Sn,wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kn=_n(wn),En=m({},wn,{view:0,detail:0}),Dn=_n(En),In=m({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&"mousemove"===e.type?(Cn=e.screenX-Sn.screenX,xn=e.screenY-Sn.screenY):xn=Cn=0,Sn=e),Cn)},movementY:function(e){return"movementY"in e?e.movementY:xn}}),An=_n(In),Rn=_n(m({},In,{dataTransfer:0})),Ln=_n(m({},En,{relatedTarget:0})),Mn=_n(m({},wn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=_n(m({},wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Nn=_n(m({},wn,{data:0})),Pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},On={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Fn[e])&&!!t[e]}function Bn(){return zn}var Hn=_n(m({},En,{key:function(e){if(e.key){var t=Pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=vn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?On[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(e){return"keypress"===e.type?vn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?vn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Wn=_n(m({},In,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=_n(m({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn})),Vn=_n(m({},wn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Kn=_n(m({},In,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Un=[9,13,27,32],qn=S&&"CompositionEvent"in window,$n=null;S&&"documentMode"in document&&($n=document.documentMode);var Gn=S&&"TextEvent"in window&&!$n,Qn=S&&(!qn||$n&&8<$n&&11>=$n),Xn=String.fromCharCode(32),Zn=!1;function Jn(e,t){switch(e){case"keyup":return-1!==Un.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ei=!1;var ti={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ni(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ti[e.type]:"textarea"===t}function ii(e,t,n,i){Ve(i),0<(t=qi(t,"onChange")).length&&(n=new kn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var oi=null,ri=null;function si(e){zi(e,0)}function ai(e){if(ce(go(e)))return e}function li(e,t){if("change"===e)return t}var ci=!1;if(S){var ui;if(S){var di="oninput"in document;if(!di){var hi=document.createElement("div");hi.setAttribute("oninput","return;"),di="function"==typeof hi.oninput}ui=di}else ui=!1;ci=ui&&(!document.documentMode||9<document.documentMode)}function pi(){oi&&(oi.detachEvent("onpropertychange",gi),ri=oi=null)}function gi(e){if("value"===e.propertyName&&ai(ri)){var t=[];if(ii(t,ri,e,ze(e)),e=si,Qe)e(t);else{Qe=!0;try{Ue(e,t)}finally{Qe=!1,Ze()}}}}function fi(e,t,n){"focusin"===e?(pi(),ri=n,(oi=t).attachEvent("onpropertychange",gi)):"focusout"===e&&pi()}function mi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ai(ri)}function vi(e,t){if("click"===e)return ai(t)}function bi(e,t){if("input"===e||"change"===e)return ai(t)}var yi="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},_i=Object.prototype.hasOwnProperty;function Ci(e,t){if(yi(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!_i.call(t,n[i])||!yi(e[n[i]],t[n[i]]))return!1;return!0}function xi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Si(e,t){var n,i=xi(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xi(i)}}function wi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?wi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ki(){for(var e=window,t=ue();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=ue((e=t.contentWindow).document)}return t}function Ei(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Di=S&&"documentMode"in document&&11>=document.documentMode,Ii=null,Ai=null,Ri=null,Li=!1;function Mi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Li||null==Ii||Ii!==ue(i)||("selectionStart"in(i=Ii)&&Ei(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},Ri&&Ci(Ri,i)||(Ri=i,0<(i=qi(Ai,"onSelect")).length&&(t=new kn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ii)))}$t("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),$t("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),$t(qt,2);for(var Ti="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ni=0;Ni<Ti.length;Ni++)Ut.set(Ti[Ni],0);x("onMouseEnter",["mouseout","mouseover"]),x("onMouseLeave",["mouseout","mouseover"]),x("onPointerEnter",["pointerout","pointerover"]),x("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oi=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pi));function Fi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,r,s,a,l){if(at.apply(this,arguments),nt){if(!nt)throw Error(b(198));var c=it;nt=!1,it=null,ot||(ot=!0,rt=c)}}(i,t,void 0,e),e.currentTarget=null}function zi(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;Fi(o,a,c),r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;Fi(o,a,c),r=l}}}if(ot)throw e=rt,ot=!1,rt=null,e}function Bi(e,t){var n=mo(t),i=e+"__bubble";n.has(i)||(Vi(t,e,2,!1),n.add(i))}var Hi="_reactListening"+Math.random().toString(36).slice(2);function Wi(e){e[Hi]||(e[Hi]=!0,y.forEach((function(t){Oi.has(t)||ji(t,!1,e,null),ji(t,!0,e,null)})))}function ji(e,t,n,i){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===e&&9!==n.nodeType&&(r=n.ownerDocument),null!==i&&!t&&Oi.has(e)){if("scroll"!==e)return;o|=2,r=i}var s=mo(r),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(o|=4),Vi(r,e,o,t),s.add(a))}function Vi(e,t,n,i){var o=Ut.get(t);switch(void 0===o?2:o){case 0:o=cn;break;case 1:o=un;break;default:o=dn}n=o.bind(null,t,n,e),o=void 0,!Ye||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ki(e,t,n,i,o){var r=i;if(0==(1&t)&&0==(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=ho(a)))return;if(5===(l=s.tag)||6===l){i=r=s;continue e}a=a.parentNode}}i=i.return}!function(e,t,n){if(Xe)return e(t,n);Xe=!0;try{Ge(e,t,n)}finally{Xe=!1,Ze()}}((function(){var i=r,o=ze(n),s=[];e:{var a=Kt.get(e);if(void 0!==a){var l=kn,c=e;switch(e){case"keypress":if(0===vn(n))break e;case"keydown":case"keyup":l=Hn;break;case"focusin":c="focus",l=Ln;break;case"focusout":c="blur",l=Ln;break;case"beforeblur":case"afterblur":l=Ln;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Ht:case Wt:case jt:l=Mn;break;case Vt:l=Vn;break;case"scroll":l=Dn;break;case"wheel":l=Kn;break;case"copy":case"cut":case"paste":l=Tn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Wn}var u=0!=(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var p,g=i;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Je(g,h))&&u.push(Ui(g,f,p)))),d)break;g=g.return}0<u.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!ho(c)&&!c[co])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?ho(c):null)&&(c!==(d=lt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=An,f="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=Wn,f="onPointerLeave",h="onPointerEnter",g="pointer"),d=null==l?a:go(l),p=null==c?a:go(c),(a=new u(f,g+"leave",l,n,o)).target=d,a.relatedTarget=p,f=null,ho(o)===i&&((u=new u(h,g+"enter",c,n,o)).target=p,u.relatedTarget=d,f=u),d=f,l&&c)e:{for(h=c,g=0,p=u=l;p;p=$i(p))g++;for(p=0,f=h;f;f=$i(f))p++;for(;0<g-p;)u=$i(u),g--;for(;0<p-g;)h=$i(h),p--;for(;g--;){if(u===h||null!==h&&u===h.alternate)break e;u=$i(u),h=$i(h)}u=null}else u=null;null!==l&&Gi(s,a,l,u,!1),null!==c&&null!==d&&Gi(s,d,c,u,!0)}if("select"===(l=(a=i?go(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=li;else if(ni(a))if(ci)m=bi;else{m=mi;var v=fi}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=vi);switch(m&&(m=m(e,i))?ii(s,m,n,o):(v&&v(e,a,i),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&me(a,"number",a.value)),v=i?go(i):window,e){case"focusin":(ni(v)||"true"===v.contentEditable)&&(Ii=v,Ai=i,Ri=null);break;case"focusout":Ri=Ai=Ii=null;break;case"mousedown":Li=!0;break;case"contextmenu":case"mouseup":case"dragend":Li=!1,Mi(s,n,o);break;case"selectionchange":if(Di)break;case"keydown":case"keyup":Mi(s,n,o)}var b;if(qn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else ei?Jn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Qn&&"ko"!==n.locale&&(ei||"onCompositionStart"!==y?"onCompositionEnd"===y&&ei&&(b=mn()):(gn="value"in(pn=o)?pn.value:pn.textContent,ei=!0)),0<(v=qi(i,y)).length&&(y=new Nn(y,e,null,n,o),s.push({event:y,listeners:v}),b?y.data=b:null!==(b=Yn(n))&&(y.data=b))),(b=Gn?function(e,t){switch(e){case"compositionend":return Yn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Xn);case"textInput":return(e=t.data)===Xn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(ei)return"compositionend"===e||!qn&&Jn(e,t)?(e=mn(),fn=gn=pn=null,ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(i=qi(i,"onBeforeInput")).length&&(o=new Nn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:i}),o.data=b))}zi(s,t)}))}function Ui(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qi(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Je(e,n))&&i.unshift(Ui(e,r,o)),null!=(r=Je(e,t))&&i.push(Ui(e,r,o))),e=e.return}return i}function $i(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gi(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Je(n,r))&&s.unshift(Ui(n,l,a)):o||null!=(l=Je(n,r))&&s.push(Ui(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Qi(){}var Xi=null,Zi=null;function Ji(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Yi(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var eo="function"==typeof setTimeout?setTimeout:void 0,to="function"==typeof clearTimeout?clearTimeout:void 0;function no(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function io(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function oo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ro=0;var so=Math.random().toString(36).slice(2),ao="__reactFiber$"+so,lo="__reactProps$"+so,co="__reactContainer$"+so,uo="__reactEvents$"+so;function ho(e){var t=e[ao];if(t)return t;for(var n=e.parentNode;n;){if(t=n[co]||n[ao]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=oo(e);null!==e;){if(n=e[ao])return n;e=oo(e)}return t}n=(e=n).parentNode}return null}function po(e){return!(e=e[ao]||e[co])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function go(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(b(33))}function fo(e){return e[lo]||null}function mo(e){var t=e[uo];return void 0===t&&(t=e[uo]=new Set),t}var vo=[],bo=-1;function yo(e){return{current:e}}function _o(e){0>bo||(e.current=vo[bo],vo[bo]=null,bo--)}function Co(e,t){bo++,vo[bo]=e.current,e.current=t}var xo={},So=yo(xo),wo=yo(!1),ko=xo;function Eo(e,t){var n=e.type.contextTypes;if(!n)return xo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Do(e){return null!=(e=e.childContextTypes)}function Io(){_o(wo),_o(So)}function Ao(e,t,n){if(So.current!==xo)throw Error(b(168));Co(So,t),Co(wo,n)}function Ro(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(b(108,re(t)||"Unknown",o));return m({},n,i)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,ko=So.current,Co(So,e),Co(wo,wo.current),!0}function Mo(e,t,n){var i=e.stateNode;if(!i)throw Error(b(169));n?(e=Ro(e,t,ko),i.__reactInternalMemoizedMergedChildContext=e,_o(wo),_o(So),Co(So,e)):_o(wo),Co(wo,n)}var To=null,No=null,Po=v.unstable_runWithPriority,Oo=v.unstable_scheduleCallback,Fo=v.unstable_cancelCallback,zo=v.unstable_shouldYield,Bo=v.unstable_requestPaint,Ho=v.unstable_now,Wo=v.unstable_getCurrentPriorityLevel,jo=v.unstable_ImmediatePriority,Vo=v.unstable_UserBlockingPriority,Ko=v.unstable_NormalPriority,Uo=v.unstable_LowPriority,qo=v.unstable_IdlePriority,$o={},Go=void 0!==Bo?Bo:function(){},Qo=null,Xo=null,Zo=!1,Jo=Ho(),Yo=1e4>Jo?Ho:function(){return Ho()-Jo};function er(){switch(Wo()){case jo:return 99;case Vo:return 98;case Ko:return 97;case Uo:return 96;case qo:return 95;default:throw Error(b(332))}}function tr(e){switch(e){case 99:return jo;case 98:return Vo;case 97:return Ko;case 96:return Uo;case 95:return qo;default:throw Error(b(332))}}function nr(e,t){return e=tr(e),Po(e,t)}function ir(e,t,n){return e=tr(e),Oo(e,t,n)}function or(){if(null!==Xo){var e=Xo;Xo=null,Fo(e)}rr()}function rr(){if(!Zo&&null!==Qo){Zo=!0;var e=0;try{var t=Qo;nr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Qo=null}catch(t){throw null!==Qo&&(Qo=Qo.slice(e+1)),Oo(jo,or),t}finally{Zo=!1}}}var sr=T.ReactCurrentBatchConfig;function ar(e,t){if(e&&e.defaultProps){for(var n in t=m({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var lr=yo(null),cr=null,ur=null,dr=null;function hr(){dr=ur=cr=null}function pr(e){var t=lr.current;_o(lr),e.type._context._currentValue=t}function gr(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function fr(e,t){cr=e,dr=ur=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(qs=!0),e.firstContext=null)}function mr(e,t){if(dr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(dr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ur){if(null===cr)throw Error(b(308));ur=t,cr.dependencies={lanes:0,firstContext:t,responders:null}}else ur=ur.next=t;return e._currentValue}var vr=!1;function br(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function yr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function xr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sr(e,t,n,i){var o=e.updateQueue;vr=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var u=e.alternate;if(null!==u){var d=(u=u.updateQueue).lastBaseUpdate;d!==s&&(null===d?u.firstBaseUpdate=c:d.next=c,u.lastBaseUpdate=l)}}if(null!==r){for(d=o.baseState,s=0,u=c=l=null;;){a=r.lane;var h=r.eventTime;if((i&a)===a){null!==u&&(u=u.next={eventTime:h,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var p=e,g=r;switch(a=t,h=n,g.tag){case 1:if("function"==typeof(p=g.payload)){d=p.call(h,d,a);break e}d=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(a="function"==typeof(p=g.payload)?p.call(h,d,a):p))break e;d=m({},d,a);break e;case 2:vr=!0}}null!==r.callback&&(e.flags|=32,null===(a=o.effects)?o.effects=[r]:a.push(r))}else h={eventTime:h,lane:a,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,s|=a;if(null===(r=r.next)){if(null===(a=o.shared.pending))break;r=a.next,a.next=null,o.lastBaseUpdate=a,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,Xa|=s,e.lanes=s,e.memoizedState=d}}function wr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!=typeof o)throw Error(b(191,o));o.call(i)}}}var kr=(new f.Component).refs;function Er(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:m({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Dr={isMounted:function(e){return!!(e=e._reactInternals)&&lt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Cl(),o=xl(e),r=_r(i,o);r.payload=t,null!=n&&(r.callback=n),Cr(e,r),Sl(e,o,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Cl(),o=xl(e),r=_r(i,o);r.tag=1,r.payload=t,null!=n&&(r.callback=n),Cr(e,r),Sl(e,o,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Cl(),i=xl(e),o=_r(n,i);o.tag=2,null!=t&&(o.callback=t),Cr(e,o),Sl(e,i,n)}};function Ir(e,t,n,i,o,r,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!Ci(n,i)||!Ci(o,r))}function Ar(e,t,n){var i=!1,o=xo,r=t.contextType;return"object"==typeof r&&null!==r?r=mr(r):(o=Do(t)?ko:So.current,r=(i=null!=(i=t.contextTypes))?Eo(e,o):xo),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Dr,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function Rr(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Dr.enqueueReplaceState(t,t.state,null)}function Lr(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=kr,br(e);var r=t.contextType;"object"==typeof r&&null!==r?o.context=mr(r):(r=Do(t)?ko:So.current,o.context=Eo(e,r)),Sr(e,n,o,i),o.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(Er(e,t,r,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Dr.enqueueReplaceState(o,o.state,null),Sr(e,n,o,i),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4)}var Mr=Array.isArray;function Tr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(b(309));var i=n.stateNode}if(!i)throw Error(b(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===kr&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(b(284));if(!n._owner)throw Error(b(290,e))}return e}function Nr(e,t){if("textarea"!==e.type)throw Error(b(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Pr(e){function t(t,n){if(e){var i=t.lastEffect;null!==i?(i.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=tc(e,t)).index=0,e.sibling=null,e}function r(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags=2,n):i:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function a(e,t,n,i){return null===t||6!==t.tag?((t=rc(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,i){return null!==t&&t.elementType===n.type?((i=o(t,n.props)).ref=Tr(e,t,n),i.return=e,i):((i=nc(n.type,n.key,n.props,null,e.mode,i)).ref=Tr(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=sc(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=ic(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=rc(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case N:return(n=nc(t.type,t.key,t.props,null,e.mode,n)).ref=Tr(e,null,t),n.return=e,n;case P:return(t=sc(t,e.mode,n)).return=e,t}if(Mr(t)||ee(t))return(t=ic(t,e.mode,n,null)).return=e,t;Nr(e,t)}return null}function h(e,t,n,i){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:a(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case N:return n.key===o?n.type===O?u(e,t,n.props.children,i,o):l(e,t,n,i):null;case P:return n.key===o?c(e,t,n,i):null}if(Mr(n)||ee(n))return null!==o?null:u(e,t,n,i,null);Nr(e,n)}return null}function p(e,t,n,i,o){if("string"==typeof i||"number"==typeof i)return a(t,e=e.get(n)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case N:return e=e.get(null===i.key?n:i.key)||null,i.type===O?u(t,e,i.props.children,o,i.key):l(t,e,i,o);case P:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o)}if(Mr(i)||ee(i))return u(t,e=e.get(n)||null,i,o,null);Nr(t,i)}return null}return function(a,l,c,u){var g="object"==typeof c&&null!==c&&c.type===O&&null===c.key;g&&(c=c.props.children);var f="object"==typeof c&&null!==c;if(f)switch(c.$$typeof){case N:e:{for(f=c.key,g=l;null!==g;){if(g.key===f){switch(g.tag){case 7:if(c.type===O){n(a,g.sibling),(l=o(g,c.props.children)).return=a,a=l;break e}break;default:if(g.elementType===c.type){n(a,g.sibling),(l=o(g,c.props)).ref=Tr(a,g,c),l.return=a,a=l;break e}}n(a,g);break}t(a,g),g=g.sibling}c.type===O?((l=ic(c.props.children,a.mode,u,c.key)).return=a,a=l):((u=nc(c.type,c.key,c.props,null,a.mode,u)).ref=Tr(a,l,c),u.return=a,a=u)}return s(a);case P:e:{for(g=c.key;null!==l;){if(l.key===g){if(4===l.tag&&l.stateNode.containerInfo===c.containerInfo&&l.stateNode.implementation===c.implementation){n(a,l.sibling),(l=o(l,c.children||[])).return=a,a=l;break e}n(a,l);break}t(a,l),l=l.sibling}(l=sc(c,a.mode,u)).return=a,a=l}return s(a)}if("string"==typeof c||"number"==typeof c)return c=""+c,null!==l&&6===l.tag?(n(a,l.sibling),(l=o(l,c)).return=a,a=l):(n(a,l),(l=rc(c,a.mode,u)).return=a,a=l),s(a);if(Mr(c))return function(o,s,a,l){for(var c=null,u=null,g=s,f=s=0,m=null;null!==g&&f<a.length;f++){g.index>f?(m=g,g=null):m=g.sibling;var v=h(o,g,a[f],l);if(null===v){null===g&&(g=m);break}e&&g&&null===v.alternate&&t(o,g),s=r(v,s,f),null===u?c=v:u.sibling=v,u=v,g=m}if(f===a.length)return n(o,g),c;if(null===g){for(;f<a.length;f++)null!==(g=d(o,a[f],l))&&(s=r(g,s,f),null===u?c=g:u.sibling=g,u=g);return c}for(g=i(o,g);f<a.length;f++)null!==(m=p(g,o,f,a[f],l))&&(e&&null!==m.alternate&&g.delete(null===m.key?f:m.key),s=r(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&g.forEach((function(e){return t(o,e)})),c}(a,l,c,u);if(ee(c))return function(o,s,a,l){var c=ee(a);if("function"!=typeof c)throw Error(b(150));if(null==(a=c.call(a)))throw Error(b(151));for(var u=c=null,g=s,f=s=0,m=null,v=a.next();null!==g&&!v.done;f++,v=a.next()){g.index>f?(m=g,g=null):m=g.sibling;var y=h(o,g,v.value,l);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(o,g),s=r(y,s,f),null===u?c=y:u.sibling=y,u=y,g=m}if(v.done)return n(o,g),c;if(null===g){for(;!v.done;f++,v=a.next())null!==(v=d(o,v.value,l))&&(s=r(v,s,f),null===u?c=v:u.sibling=v,u=v);return c}for(g=i(o,g);!v.done;f++,v=a.next())null!==(v=p(g,o,f,v.value,l))&&(e&&null!==v.alternate&&g.delete(null===v.key?f:v.key),s=r(v,s,f),null===u?c=v:u.sibling=v,u=v);return e&&g.forEach((function(e){return t(o,e)})),c}(a,l,c,u);if(f&&Nr(a,c),void 0===c&&!g)switch(a.tag){case 1:case 22:case 0:case 11:case 15:throw Error(b(152,re(a.type)||"Component"))}return n(a,l)}}var Or=Pr(!0),Fr=Pr(!1),zr={},Br=yo(zr),Hr=yo(zr),Wr=yo(zr);function jr(e){if(e===zr)throw Error(b(174));return e}function Vr(e,t){switch(Co(Wr,t),Co(Hr,e),Co(Br,zr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ee(null,"");break;default:t=Ee(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_o(Br),Co(Br,t)}function Kr(){_o(Br),_o(Hr),_o(Wr)}function Ur(e){jr(Wr.current);var t=jr(Br.current),n=Ee(t,e.type);t!==n&&(Co(Hr,e),Co(Br,n))}function qr(e){Hr.current===e&&(_o(Br),_o(Hr))}var $r=yo(0);function Gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qr=null,Xr=null,Zr=!1;function Jr(e,t){var n=Yl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Yr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function es(e){if(Zr){var t=Xr;if(t){var n=t;if(!Yr(e,t)){if(!(t=io(n.nextSibling))||!Yr(e,t))return e.flags=-1025&e.flags|2,Zr=!1,void(Qr=e);Jr(Qr,n)}Qr=e,Xr=io(t.firstChild)}else e.flags=-1025&e.flags|2,Zr=!1,Qr=e}}function ts(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Qr=e}function ns(e){if(e!==Qr)return!1;if(!Zr)return ts(e),Zr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Yi(t,e.memoizedProps))for(t=Xr;t;)Jr(e,t),t=io(t.nextSibling);if(ts(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Xr=io(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Xr=null}}else Xr=Qr?io(e.stateNode.nextSibling):null;return!0}function is(){Xr=Qr=null,Zr=!1}var os=[];function rs(){for(var e=0;e<os.length;e++)os[e]._workInProgressVersionPrimary=null;os.length=0}var ss=T.ReactCurrentDispatcher,as=T.ReactCurrentBatchConfig,ls=0,cs=null,us=null,ds=null,hs=!1,ps=!1;function gs(){throw Error(b(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yi(e[n],t[n]))return!1;return!0}function ms(e,t,n,i,o,r){if(ls=r,cs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ss.current=null===e||null===e.memoizedState?js:Vs,e=n(i,o),ps){r=0;do{if(ps=!1,!(25>r))throw Error(b(301));r+=1,ds=us=null,t.updateQueue=null,ss.current=Ks,e=n(i,o)}while(ps)}if(ss.current=Ws,t=null!==us&&null!==us.next,ls=0,ds=us=cs=null,hs=!1,t)throw Error(b(300));return e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ds?cs.memoizedState=ds=e:ds=ds.next=e,ds}function bs(){if(null===us){var e=cs.alternate;e=null!==e?e.memoizedState:null}else e=us.next;var t=null===ds?cs.memoizedState:ds.next;if(null!==t)ds=t,us=e;else{if(null===e)throw Error(b(310));e={memoizedState:(us=e).memoizedState,baseState:us.baseState,baseQueue:us.baseQueue,queue:us.queue,next:null},null===ds?cs.memoizedState=ds=e:ds=ds.next=e}return ds}function ys(e,t){return"function"==typeof t?t(e):t}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=e;var i=us,o=i.baseQueue,r=n.pending;if(null!==r){if(null!==o){var s=o.next;o.next=r.next,r.next=s}i.baseQueue=o=r,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var a=s=r=null,l=o;do{var c=l.lane;if((ls&c)===c)null!==a&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),i=l.eagerReducer===e?l.eagerState:e(i,l.action);else{var u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===a?(s=a=u,r=i):a=a.next=u,cs.lanes|=c,Xa|=c}l=l.next}while(null!==l&&l!==o);null===a?r=i:a.next=s,yi(i,t.memoizedState)||(qs=!0),t.memoizedState=i,t.baseState=r,t.baseQueue=a,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function Cs(e){var t=bs(),n=t.queue;if(null===n)throw Error(b(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,r=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{r=e(r,s.action),s=s.next}while(s!==o);yi(r,t.memoizedState)||(qs=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function xs(e,t,n){var i=t._getVersion;i=i(t._source);var o=t._workInProgressVersionPrimary;if(null!==o?e=o===i:(e=e.mutableReadLanes,(e=(ls&e)===e)&&(t._workInProgressVersionPrimary=i,os.push(t))),e)return n(t._source);throw os.push(t),Error(b(350))}function Ss(e,t,n,i){var o=ja;if(null===o)throw Error(b(349));var r=t._getVersion,s=r(t._source),a=ss.current,l=a.useState((function(){return xs(o,t,n)})),c=l[1],u=l[0];l=ds;var d=e.memoizedState,h=d.refs,p=h.getSnapshot,g=d.source;d=d.subscribe;var f=cs;return e.memoizedState={refs:h,source:t,subscribe:i},a.useEffect((function(){h.getSnapshot=n,h.setSnapshot=c;var e=r(t._source);if(!yi(s,e)){e=n(t._source),yi(u,e)||(c(e),e=xl(f),o.mutableReadLanes|=e&o.pendingLanes),e=o.mutableReadLanes,o.entangledLanes|=e;for(var i=o.entanglements,a=e;0<a;){var l=31-nn(a),d=1<<l;i[l]|=e,a&=~d}}}),[n,t,i]),a.useEffect((function(){return i(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var i=xl(f);o.mutableReadLanes|=i&o.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,i]),yi(p,n)&&yi(g,t)&&yi(d,i)||((e={pending:null,dispatch:null,lastRenderedReducer:ys,lastRenderedState:u}).dispatch=c=Hs.bind(null,cs,e),l.queue=e,l.baseQueue=null,u=xs(o,t,n),l.memoizedState=l.baseState=u),u}function ws(e,t,n){return Ss(bs(),e,t,n)}function ks(e){var t=vs();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ys,lastRenderedState:e}).dispatch=Hs.bind(null,cs,e),[t.memoizedState,e]}function Es(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=cs.updateQueue)?(t={lastEffect:null},cs.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ds(e){return e={current:e},vs().memoizedState=e}function Is(){return bs().memoizedState}function As(e,t,n,i){var o=vs();cs.flags|=e,o.memoizedState=Es(1|t,n,void 0,void 0===i?null:i)}function Rs(e,t,n,i){var o=bs();i=void 0===i?null:i;var r=void 0;if(null!==us){var s=us.memoizedState;if(r=s.destroy,null!==i&&fs(i,s.deps))return void Es(t,n,r,i)}cs.flags|=e,o.memoizedState=Es(1|t,n,r,i)}function Ls(e,t){return As(516,4,e,t)}function Ms(e,t){return Rs(516,4,e,t)}function Ts(e,t){return Rs(4,2,e,t)}function Ns(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ps(e,t,n){return n=null!=n?n.concat([e]):null,Rs(4,2,Ns.bind(null,t,e),n)}function Os(){}function Fs(e,t){var n=bs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fs(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zs(e,t){var n=bs();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&fs(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Bs(e,t){var n=er();nr(98>n?98:n,(function(){e(!0)})),nr(97<n?97:n,(function(){var n=as.transition;as.transition=1;try{e(!1),t()}finally{as.transition=n}}))}function Hs(e,t,n){var i=Cl(),o=xl(e),r={lane:o,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?r.next=r:(r.next=s.next,s.next=r),t.pending=r,s=e.alternate,e===cs||null!==s&&s===cs)ps=hs=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(r.eagerReducer=s,r.eagerState=l,yi(l,a))return}catch(e){}Sl(e,o,i)}}var Ws={readContext:mr,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useOpaqueIdentifier:gs,unstable_isNewReconciler:!1},js={readContext:mr,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:mr,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,As(4,2,Ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return As(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=vs();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e=(e=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Hs.bind(null,cs,e),[i.memoizedState,e]},useRef:Ds,useState:ks,useDebugValue:Os,useDeferredValue:function(e){var t=ks(e),n=t[0],i=t[1];return Ls((function(){var t=as.transition;as.transition=1;try{i(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){var e=ks(!1),t=e[0];return Ds(e=Bs.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var i=vs();return i.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},Ss(i,e,t,n)},useOpaqueIdentifier:function(){if(Zr){var e=!1,t={$$typeof:$,toString:i=function(){throw e||(e=!0,n("r:"+(ro++).toString(36))),Error(b(355))},valueOf:i},n=ks(t)[1];return 0==(2&cs.mode)&&(cs.flags|=516,Es(5,(function(){n("r:"+(ro++).toString(36))}),void 0,null)),t}var i;return ks(t="r:"+(ro++).toString(36)),t},unstable_isNewReconciler:!1},Vs={readContext:mr,useCallback:Fs,useContext:mr,useEffect:Ms,useImperativeHandle:Ps,useLayoutEffect:Ts,useMemo:zs,useReducer:_s,useRef:Is,useState:function(){return _s(ys)},useDebugValue:Os,useDeferredValue:function(e){var t=_s(ys),n=t[0],i=t[1];return Ms((function(){var t=as.transition;as.transition=1;try{i(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){var e=_s(ys)[0];return[Is().current,e]},useMutableSource:ws,useOpaqueIdentifier:function(){return _s(ys)[0]},unstable_isNewReconciler:!1},Ks={readContext:mr,useCallback:Fs,useContext:mr,useEffect:Ms,useImperativeHandle:Ps,useLayoutEffect:Ts,useMemo:zs,useReducer:Cs,useRef:Is,useState:function(){return Cs(ys)},useDebugValue:Os,useDeferredValue:function(e){var t=Cs(ys),n=t[0],i=t[1];return Ms((function(){var t=as.transition;as.transition=1;try{i(e)}finally{as.transition=t}}),[e]),n},useTransition:function(){var e=Cs(ys)[0];return[Is().current,e]},useMutableSource:ws,useOpaqueIdentifier:function(){return Cs(ys)[0]},unstable_isNewReconciler:!1},Us=T.ReactCurrentOwner,qs=!1;function $s(e,t,n,i){t.child=null===e?Fr(t,null,n,i):Or(t,e.child,n,i)}function Gs(e,t,n,i,o){n=n.render;var r=t.ref;return fr(t,o),i=ms(e,t,n,i,r,o),null===e||qs?(t.flags|=1,$s(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ga(e,t,o))}function Qs(e,t,n,i,o,r){if(null===e){var s=n.type;return"function"!=typeof s||ec(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=nc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Xs(e,t,s,i,o,r))}return s=e.child,0==(o&r)&&(o=s.memoizedProps,(n=null!==(n=n.compare)?n:Ci)(o,i)&&e.ref===t.ref)?ga(e,t,r):(t.flags|=1,(e=tc(s,i)).ref=t.ref,e.return=t,t.child=e)}function Xs(e,t,n,i,o,r){if(null!==e&&Ci(e.memoizedProps,i)&&e.ref===t.ref){if(qs=!1,0==(r&o))return t.lanes=e.lanes,ga(e,t,r);0!=(16384&e.flags)&&(qs=!0)}return Ys(e,t,n,i,r)}function Zs(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},Ll(t,n);else{if(0==(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Ll(t,e),null;t.memoizedState={baseLanes:0},Ll(t,null!==r?r.baseLanes:n)}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Ll(t,i);return $s(e,t,o,n),t.child}function Js(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ys(e,t,n,i,o){var r=Do(n)?ko:So.current;return r=Eo(t,r),fr(t,o),n=ms(e,t,n,i,r,o),null===e||qs?(t.flags|=1,$s(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~o,ga(e,t,o))}function ea(e,t,n,i,o){if(Do(n)){var r=!0;Lo(t)}else r=!1;if(fr(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Ar(t,n,i),Lr(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"==typeof c&&null!==c?c=mr(c):c=Eo(t,c=Do(n)?ko:So.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof s.getSnapshotBeforeUpdate;d||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==i||l!==c)&&Rr(t,s,i,c),vr=!1;var h=t.memoizedState;s.state=h,Sr(t,i,s,o),l=t.memoizedState,a!==i||h!==l||wo.current||vr?("function"==typeof u&&(Er(t,n,u,i),l=t.memoizedState),(a=vr||Ir(t,n,a,i,h,l,c))?(d||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4)):("function"==typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"==typeof s.componentDidMount&&(t.flags|=4),i=!1)}else{s=t.stateNode,yr(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ar(t.type,a),s.props=c,d=t.pendingProps,h=s.context,"object"==typeof(l=n.contextType)&&null!==l?l=mr(l):l=Eo(t,l=Do(n)?ko:So.current);var p=n.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||h!==l)&&Rr(t,s,i,l),vr=!1,h=t.memoizedState,s.state=h,Sr(t,i,s,o);var g=t.memoizedState;a!==d||h!==g||wo.current||vr?("function"==typeof p&&(Er(t,n,p,i),g=t.memoizedState),(c=vr||Ir(t,n,c,i,h,g,l))?(u||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=l,i=c):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),i=!1)}return ta(e,t,n,i,r,o)}function ta(e,t,n,i,o,r){Js(e,t);var s=0!=(64&t.flags);if(!i&&!s)return o&&Mo(t,n,!1),ga(e,t,r);i=t.stateNode,Us.current=t;var a=s&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=Or(t,e.child,null,r),t.child=Or(t,null,a,r)):$s(e,t,a,r),t.memoizedState=i.state,o&&Mo(t,n,!0),t.child}function na(e){var t=e.stateNode;t.pendingContext?Ao(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(0,t.context,!1),Vr(e,t.containerInfo)}var ia,oa,ra,sa={dehydrated:null,retryLane:0};function aa(e,t,n){var i,o=t.pendingProps,r=$r.current,s=!1;return(i=0!=(64&t.flags))||(i=(null===e||null!==e.memoizedState)&&0!=(2&r)),i?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(r|=1),Co($r,1&r),null===e?(void 0!==o.fallback&&es(t),e=o.children,r=o.fallback,s?(e=la(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=sa,e):"number"==typeof o.unstable_expectedLoadTime?(e=la(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=sa,t.lanes=33554432,e):((n=oc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(o=ua(e,t,o.children,o.fallback,n),s=t.child,r=e.child.memoizedState,s.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=sa,o):(n=ca(e,t,o.children,n),t.memoizedState=null,n))}function la(e,t,n,i){var o=e.mode,r=e.child;return t={mode:"hidden",children:t},0==(2&o)&&null!==r?(r.childLanes=0,r.pendingProps=t):r=oc(t,o,0,null),n=ic(n,o,i,null),r.return=e,n.return=e,r.sibling=n,e.child=r,n}function ca(e,t,n,i){var o=e.child;return e=o.sibling,n=tc(o,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=i),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ua(e,t,n,i,o){var r=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0==(2&r)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=tc(s,a),null!==e?i=tc(e,i):(i=ic(i,r,o,null)).flags|=2,i.return=t,n.return=t,n.sibling=i,t.child=n,i}function da(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),gr(e.return,t)}function ha(e,t,n,i,o,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,lastEffect:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=o,s.lastEffect=r)}function pa(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if($s(e,t,i.children,n),0!=(2&(i=$r.current)))i=1&i|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&da(e,n);else if(19===e.tag)da(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Co($r,i),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Gr(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ha(t,!1,o,n,r,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Gr(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ha(t,!0,n,null,r,t.lastEffect);break;case"together":ha(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Xa|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(b(153));if(null!==t.child){for(n=tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function fa(e,t){if(!Zr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ma(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Do(t.type)&&Io(),null;case 3:return Kr(),_o(wo),_o(So),rs(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ns(t)?t.flags|=4:i.hydrate||(t.flags|=256)),null;case 5:qr(t);var o=jr(Wr.current);if(n=t.type,null!==e&&null!=t.stateNode)oa(e,t,n,i),e.ref!==t.ref&&(t.flags|=128);else{if(!i){if(null===t.stateNode)throw Error(b(166));return null}if(e=jr(Br.current),ns(t)){i=t.stateNode,n=t.type;var r=t.memoizedProps;switch(i[ao]=t,i[lo]=r,n){case"dialog":Bi("cancel",i),Bi("close",i);break;case"iframe":case"object":case"embed":Bi("load",i);break;case"video":case"audio":for(e=0;e<Pi.length;e++)Bi(Pi[e],i);break;case"source":Bi("error",i);break;case"img":case"image":case"link":Bi("error",i),Bi("load",i);break;case"details":Bi("toggle",i);break;case"input":he(i,r),Bi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!r.multiple},Bi("invalid",i);break;case"textarea":_e(i,r),Bi("invalid",i)}for(var s in Oe(n,r),e=null,r)r.hasOwnProperty(s)&&(o=r[s],"children"===s?"string"==typeof o?i.textContent!==o&&(e=["children",o]):"number"==typeof o&&i.textContent!==""+o&&(e=["children",""+o]):_.hasOwnProperty(s)&&null!=o&&"onScroll"===s&&Bi("scroll",i));switch(n){case"input":le(i),fe(i,r,!0);break;case"textarea":le(i),xe(i);break;case"select":case"option":break;default:"function"==typeof r.onClick&&(i.onclick=Qi)}i=e,t.updateQueue=i,null!==i&&(t.flags|=4)}else{switch(s=9===o.nodeType?o:o.ownerDocument,e===Se&&(e=ke(n)),e===Se?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof i.is?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),"select"===n&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[ao]=t,e[lo]=i,ia(e,t),t.stateNode=e,s=Fe(n,i),n){case"dialog":Bi("cancel",e),Bi("close",e),o=i;break;case"iframe":case"object":case"embed":Bi("load",e),o=i;break;case"video":case"audio":for(o=0;o<Pi.length;o++)Bi(Pi[o],e);o=i;break;case"source":Bi("error",e),o=i;break;case"img":case"image":case"link":Bi("error",e),Bi("load",e),o=i;break;case"details":Bi("toggle",e),o=i;break;case"input":he(e,i),o=de(e,i),Bi("invalid",e);break;case"option":o=ve(e,i);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=m({},i,{value:void 0}),Bi("invalid",e);break;case"textarea":_e(e,i),o=ye(e,i),Bi("invalid",e);break;default:o=i}Oe(n,o);var a=o;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];"style"===r?Ne(e,l):"dangerouslySetInnerHTML"===r?null!=(l=l?l.__html:void 0)&&Ae(e,l):"children"===r?"string"==typeof l?("textarea"!==n||""!==l)&&Re(e,l):"number"==typeof l&&Re(e,""+l):"suppressContentEditableWarning"!==r&&"suppressHydrationWarning"!==r&&"autoFocus"!==r&&(_.hasOwnProperty(r)?null!=l&&"onScroll"===r&&Bi("scroll",e):null!=l&&M(e,r,l,s))}switch(n){case"input":le(e),fe(e,i,!1);break;case"textarea":le(e),xe(e);break;case"option":null!=i.value&&e.setAttribute("value",""+se(i.value));break;case"select":e.multiple=!!i.multiple,null!=(r=i.value)?be(e,!!i.multiple,r,!1):null!=i.defaultValue&&be(e,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qi)}Ji(n,i)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)ra(0,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(b(166));n=jr(Wr.current),jr(Br.current),ns(t)?(i=t.stateNode,n=t.memoizedProps,i[ao]=t,i.nodeValue!==n&&(t.flags|=4)):((i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ao]=t,t.stateNode=i)}return null;case 13:return _o($r),i=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(i=null!==i,n=!1,null===e?void 0!==t.memoizedProps.fallback&&ns(t):n=null!==e.memoizedState,i&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&$r.current)?0===$a&&($a=3):(0!==$a&&3!==$a||($a=4),null===ja||0==(134217727&Xa)&&0==(134217727&Za)||Dl(ja,Ka))),(i||n)&&(t.flags|=4),null);case 4:return Kr(),null===e&&Wi(t.stateNode.containerInfo),null;case 10:return pr(t),null;case 17:return Do(t.type)&&Io(),null;case 19:if(_o($r),null===(i=t.memoizedState))return null;if(r=0!=(64&t.flags),null===(s=i.rendering))if(r)fa(i,!1);else{if(0!==$a||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(s=Gr(e))){for(t.flags|=64,fa(i,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=n,n=t.child;null!==n;)e=i,(r=n).flags&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(s=r.alternate)?(r.childLanes=0,r.lanes=e,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=s.childLanes,r.lanes=s.lanes,r.child=s.child,r.memoizedProps=s.memoizedProps,r.memoizedState=s.memoizedState,r.updateQueue=s.updateQueue,r.type=s.type,e=s.dependencies,r.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co($r,1&$r.current|2),t.child}e=e.sibling}null!==i.tail&&Yo()>tl&&(t.flags|=64,r=!0,fa(i,!1),t.lanes=33554432)}else{if(!r)if(null!==(e=Gr(s))){if(t.flags|=64,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fa(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!Zr)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*Yo()-i.renderingStartTime>tl&&1073741824!==n&&(t.flags|=64,r=!0,fa(i,!1),t.lanes=33554432);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=i.last)?n.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=Yo(),n.sibling=null,t=$r.current,Co($r,r?1&t|2:1&t),n):null;case 23:case 24:return Ml(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==i.mode&&(t.flags|=4),null}throw Error(b(156,t.tag))}function va(e){switch(e.tag){case 1:Do(e.type)&&Io();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Kr(),_o(wo),_o(So),rs(),0!=(64&(t=e.flags)))throw Error(b(285));return e.flags=-4097&t|64,e;case 5:return qr(e),null;case 13:return _o($r),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return _o($r),null;case 4:return Kr(),null;case 10:return pr(e),null;case 23:case 24:return Ml(),null;default:return null}}function ba(e,t){try{var n="",i=t;do{n+=oe(i),i=i.return}while(i);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o}}function ya(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}ia=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},oa=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,jr(Br.current);var r,s=null;switch(n){case"input":o=de(e,o),i=de(e,i),s=[];break;case"option":o=ve(e,o),i=ve(e,i),s=[];break;case"select":o=m({},o,{value:void 0}),i=m({},i,{value:void 0}),s=[];break;case"textarea":o=ye(e,o),i=ye(e,i),s=[];break;default:"function"!=typeof o.onClick&&"function"==typeof i.onClick&&(e.onclick=Qi)}for(c in Oe(n,i),n=null,o)if(!i.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var a=o[c];for(r in a)a.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(_.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=null!=o?o[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(null!=l||null!=a))if("style"===c)if(a){for(r in a)!a.hasOwnProperty(r)||l&&l.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in l)l.hasOwnProperty(r)&&a[r]!==l[r]&&(n||(n={}),n[r]=l[r])}else n||(s||(s=[]),s.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(_.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Bi("scroll",e),s||a===l||(s=[])):"object"==typeof l&&null!==l&&l.$$typeof===$?l.toString():(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},ra=function(e,t,n,i){n!==i&&(t.flags|=4)};var _a="function"==typeof WeakMap?WeakMap:Map;function Ca(e,t,n){(n=_r(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){rl||(rl=!0,sl=i),ya(0,t)},n}function xa(e,t,n){(n=_r(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;n.payload=function(){return ya(0,t),i(o)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof i&&(null===al?al=new Set([this]):al.add(this),ya(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var Sa="function"==typeof WeakSet?WeakSet:Set;function wa(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ql(e,t)}else t.current=null}function ka(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ar(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&no(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(b(163))}function Ea(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var i=e.create;e.destroy=i()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var o=e;i=o.next,0!=(4&(o=o.tag))&&0!=(1&o)&&(ql(n,e),Ul(n,e)),e=i}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(i=n.elementType===n.type?t.memoizedProps:ar(n.type,t.memoizedProps),e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&wr(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}wr(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Ji(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(b(163))}function Da(e,t){for(var n=e;;){if(5===n.tag){var i=n.stateNode;if(t)"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none";else{i=n.stateNode;var o=n.memoizedProps.style;o=null!=o&&o.hasOwnProperty("display")?o.display:null,i.style.display=Te("display",o)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Ia(e,t){if(No&&"function"==typeof No.onCommitFiberUnmount)try{No.onCommitFiberUnmount(To,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n,o=i.destroy;if(i=i.tag,void 0!==o)if(0!=(4&i))ql(t,n);else{i=t;try{o()}catch(e){Ql(i,e)}}n=n.next}while(n!==e)}break;case 1:if(wa(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Ql(t,e)}break;case 5:wa(t);break;case 4:Na(e,t)}}function Aa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ra(e){return 5===e.tag||3===e.tag||4===e.tag}function La(e){e:{for(var t=e.return;null!==t;){if(Ra(t))break e;t=t.return}throw Error(b(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(b(161))}16&n.flags&&(Re(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ra(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}i?Ma(e,n,t):Ta(e,n,t)}function Ma(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(Ma(e,t,n),e=e.sibling;null!==e;)Ma(e,t,n),e=e.sibling}function Ta(e,t,n){var i=e.tag,o=5===i||6===i;if(o)e=o?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(Ta(e,t,n),e=e.sibling;null!==e;)Ta(e,t,n),e=e.sibling}function Na(e,t){for(var n,i,o=t,r=!1;;){if(!r){r=o.return;e:for(;;){if(null===r)throw Error(b(160));switch(n=r.stateNode,r.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}r=r.return}r=!0}if(5===o.tag||6===o.tag){e:for(var s=e,a=o,l=a;;)if(Ia(s,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===a)break e;for(;null===l.sibling;){if(null===l.return||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=n,a=o.stateNode,8===s.nodeType?s.parentNode.removeChild(a):s.removeChild(a)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ia(e,o),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(r=!1)}o.sibling.return=o.return,o=o.sibling}}function Pa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{3==(3&i.tag)&&(e=i.destroy,i.destroy=void 0,void 0!==e&&e()),i=i.next}while(i!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){i=t.memoizedProps;var o=null!==e?e.memoizedProps:i;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[lo]=i,"input"===e&&"radio"===i.type&&null!=i.name&&pe(n,i),Fe(e,o),t=Fe(e,i),o=0;o<r.length;o+=2){var s=r[o],a=r[o+1];"style"===s?Ne(n,a):"dangerouslySetInnerHTML"===s?Ae(n,a):"children"===s?Re(n,a):M(n,s,a,t)}switch(e){case"input":ge(n,i);break;case"textarea":Ce(n,i);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?be(n,!!i.multiple,r,!1):e!==!!i.multiple&&(null!=i.defaultValue?be(n,!!i.multiple,i.defaultValue,!0):be(n,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(b(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Nt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(el=Yo(),Da(t.child,!0)),void Oa(t);case 19:return void Oa(t);case 17:return;case 23:case 24:return void Da(t,null!==t.memoizedState)}throw Error(b(163))}function Oa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Sa),t.forEach((function(t){var i=Zl.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function Fa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var za=Math.ceil,Ba=T.ReactCurrentDispatcher,Ha=T.ReactCurrentOwner,Wa=0,ja=null,Va=null,Ka=0,Ua=0,qa=yo(0),$a=0,Ga=null,Qa=0,Xa=0,Za=0,Ja=0,Ya=null,el=0,tl=1/0;function nl(){tl=Yo()+500}var il,ol=null,rl=!1,sl=null,al=null,ll=!1,cl=null,ul=90,dl=[],hl=[],pl=null,gl=0,fl=null,ml=-1,vl=0,bl=0,yl=null,_l=!1;function Cl(){return 0!=(48&Wa)?Yo():-1!==ml?ml:ml=Yo()}function xl(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===er()?1:2;if(0===vl&&(vl=Qa),0!==sr.transition){0!==bl&&(bl=null!==Ya?Ya.pendingLanes:0),e=vl;var t=4186112&~bl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=er(),0!=(4&Wa)&&98===e?e=Jt(12,vl):e=Jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),vl),e}function Sl(e,t,n){if(50<gl)throw gl=0,fl=null,Error(b(185));if(null===(e=wl(e,t)))return null;tn(e,t,n),e===ja&&(Za|=t,4===$a&&Dl(e,Ka));var i=er();1===t?0!=(8&Wa)&&0==(48&Wa)?Il(e):(kl(e,n),0===Wa&&(nl(),or())):(0==(4&Wa)||98!==i&&99!==i||(null===pl?pl=new Set([e]):pl.add(e)),kl(e,n)),Ya=e}function wl(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function kl(e,t){for(var n=e.callbackNode,i=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-nn(s),l=1<<a,c=r[a];if(-1===c){if(0==(l&i)||0!=(l&o)){c=t,Qt(l);var u=Gt;r[a]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);s&=~l}if(i=Xt(e,e===ja?Ka:0),t=Gt,0===i)null!==n&&(n!==$o&&Fo(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==$o&&Fo(n)}15===t?(n=Il.bind(null,e),null===Qo?(Qo=[n],Xo=Oo(jo,rr)):Qo.push(n),n=$o):14===t?n=ir(99,Il.bind(null,e)):n=ir(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(b(358,e))}}(t),El.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function El(e){if(ml=-1,bl=vl=0,0!=(48&Wa))throw Error(b(327));var t=e.callbackNode;if(Kl()&&e.callbackNode!==t)return null;var n=Xt(e,e===ja?Ka:0);if(0===n)return null;var i=n,o=Wa;Wa|=16;var r=Pl();for(ja===e&&Ka===i||(nl(),Tl(e,i));;)try{zl();break}catch(t){Nl(e,t)}if(hr(),Ba.current=r,Wa=o,null!==Va?i=0:(ja=null,Ka=0,i=$a),0!=(Qa&Za))Tl(e,0);else if(0!==i){if(2===i&&(Wa|=64,e.hydrate&&(e.hydrate=!1,no(e.containerInfo)),0!==(n=Zt(e))&&(i=Ol(e,n))),1===i)throw t=Ga,Tl(e,0),Dl(e,n),kl(e,Yo()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,i){case 0:case 1:throw Error(b(345));case 2:Wl(e);break;case 3:if(Dl(e,n),(62914560&n)===n&&10<(i=el+500-Yo())){if(0!==Xt(e,0))break;if(((o=e.suspendedLanes)&n)!==n){Cl(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=eo(Wl.bind(null,e),i);break}Wl(e);break;case 4:if(Dl(e,n),(4186112&n)===n)break;for(i=e.eventTimes,o=-1;0<n;){var s=31-nn(n);r=1<<s,(s=i[s])>o&&(o=s),n&=~r}if(n=o,10<(n=(120>(n=Yo()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*za(n/1960))-n)){e.timeoutHandle=eo(Wl.bind(null,e),n);break}Wl(e);break;case 5:Wl(e);break;default:throw Error(b(329))}}return kl(e,Yo()),e.callbackNode===t?El.bind(null,e):null}function Dl(e,t){for(t&=~Ja,t&=~Za,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nn(t),i=1<<n;e[n]=-1,t&=~i}}function Il(e){if(0!=(48&Wa))throw Error(b(327));if(Kl(),e===ja&&0!=(e.expiredLanes&Ka)){var t=Ka,n=Ol(e,t);0!=(Qa&Za)&&(n=Ol(e,t=Xt(e,t)))}else n=Ol(e,t=Xt(e,0));if(0!==e.tag&&2===n&&(Wa|=64,e.hydrate&&(e.hydrate=!1,no(e.containerInfo)),0!==(t=Zt(e))&&(n=Ol(e,t))),1===n)throw n=Ga,Tl(e,0),Dl(e,t),kl(e,Yo()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Wl(e),kl(e,Yo()),null}function Al(e,t){var n=Wa;Wa|=1;try{return e(t)}finally{0===(Wa=n)&&(nl(),or())}}function Rl(e,t){var n=Wa;Wa&=-2,Wa|=8;try{return e(t)}finally{0===(Wa=n)&&(nl(),or())}}function Ll(e,t){Co(qa,Ua),Ua|=t,Qa|=t}function Ml(){Ua=qa.current,_o(qa)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,to(n)),null!==Va)for(n=Va.return;null!==n;){var i=n;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&Io();break;case 3:Kr(),_o(wo),_o(So),rs();break;case 5:qr(i);break;case 4:Kr();break;case 13:case 19:_o($r);break;case 10:pr(i);break;case 23:case 24:Ml()}n=n.return}ja=e,Va=tc(e.current,null),Ka=Ua=Qa=t,$a=0,Ga=null,Ja=Za=Xa=0}function Nl(e,t){for(;;){var n=Va;try{if(hr(),ss.current=Ws,hs){for(var i=cs.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}hs=!1}if(ls=0,ds=us=cs=null,ps=!1,Ha.current=null,null===n||null===n.return){$a=1,Ga=t,Va=null;break}e:{var r=e,s=n.return,a=n,l=t;if(t=Ka,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var d=0!=(1&$r.current),h=s;do{var p;if(p=13===h.tag){var g=h.memoizedState;if(null!==g)p=null!==g.dehydrated;else{var f=h.memoizedProps;p=void 0!==f.fallback&&(!0!==f.unstable_avoidThisFallback||!d)}}if(p){var m=h.updateQueue;if(null===m){var v=new Set;v.add(c),h.updateQueue=v}else m.add(c);if(0==(2&h.mode)){if(h.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var b=_r(-1,1);b.tag=2,Cr(a,b)}a.lanes|=1;break e}l=void 0,a=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new _a,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var _=Xl.bind(null,r,c,a);c.then(_,_)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);l=Error((re(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==$a&&($a=2),l=ba(l,a),h=s;do{switch(h.tag){case 3:r=l,h.flags|=4096,t&=-t,h.lanes|=t,xr(h,Ca(0,r,t));break e;case 1:r=l;var C=h.type,x=h.stateNode;if(0==(64&h.flags)&&("function"==typeof C.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===al||!al.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,xr(h,xa(h,r,t));break e}}h=h.return}while(null!==h)}Hl(n)}catch(e){t=e,Va===n&&null!==n&&(Va=n=n.return);continue}break}}function Pl(){var e=Ba.current;return Ba.current=Ws,null===e?Ws:e}function Ol(e,t){var n=Wa;Wa|=16;var i=Pl();for(ja===e&&Ka===t||Tl(e,t);;)try{Fl();break}catch(t){Nl(e,t)}if(hr(),Wa=n,Ba.current=i,null!==Va)throw Error(b(261));return ja=null,Ka=0,$a}function Fl(){for(;null!==Va;)Bl(Va)}function zl(){for(;null!==Va&&!zo();)Bl(Va)}function Bl(e){var t=il(e.alternate,e,Ua);e.memoizedProps=e.pendingProps,null===t?Hl(e):Va=t,Ha.current=null}function Hl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ma(n,t,Ua)))return void(Va=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ua)||0==(4&n.mode)){for(var i=0,o=n.child;null!==o;)i|=o.lanes|o.childLanes,o=o.sibling;n.childLanes=i}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=va(t)))return n.flags&=2047,void(Va=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Va=t);Va=t=e}while(null!==t);0===$a&&($a=5)}function Wl(e){var t=er();return nr(99,jl.bind(null,e,t)),null}function jl(e,t){do{Kl()}while(null!==cl);if(0!=(48&Wa))throw Error(b(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(b(177));e.callbackNode=null;var i=n.lanes|n.childLanes,o=i,r=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;for(var s=e.eventTimes,a=e.expirationTimes;0<r;){var l=31-nn(r),c=1<<l;o[l]=0,s[l]=-1,a[l]=-1,r&=~c}if(null!==pl&&0==(24&i)&&pl.has(e)&&pl.delete(e),e===ja&&(Va=ja=null,Ka=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){if(o=Wa,Wa|=32,Ha.current=null,Xi=ln,Ei(s=ki())){if("selectionStart"in s)a={start:s.selectionStart,end:s.selectionEnd};else e:if(a=(a=s.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&0!==c.rangeCount){a=c.anchorNode,r=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{a.nodeType,l.nodeType}catch(e){a=null;break e}var u=0,d=-1,h=-1,p=0,g=0,f=s,m=null;t:for(;;){for(var v;f!==a||0!==r&&3!==f.nodeType||(d=u+r),f!==l||0!==c&&3!==f.nodeType||(h=u+c),3===f.nodeType&&(u+=f.nodeValue.length),null!==(v=f.firstChild);)m=f,f=v;for(;;){if(f===s)break t;if(m===a&&++p===r&&(d=u),m===l&&++g===c&&(h=u),null!==(v=f.nextSibling))break;m=(f=m).parentNode}f=v}a=-1===d||-1===h?null:{start:d,end:h}}else a=null;a=a||{start:0,end:0}}else a=null;Zi={focusedElem:s,selectionRange:a},ln=!1,yl=null,_l=!1,ol=i;do{try{Vl()}catch(e){if(null===ol)throw Error(b(330));Ql(ol,e),ol=ol.nextEffect}}while(null!==ol);yl=null,ol=i;do{try{for(s=e;null!==ol;){var y=ol.flags;if(16&y&&Re(ol.stateNode,""),128&y){var _=ol.alternate;if(null!==_){var C=_.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&y){case 2:La(ol),ol.flags&=-3;break;case 6:La(ol),ol.flags&=-3,Pa(ol.alternate,ol);break;case 1024:ol.flags&=-1025;break;case 1028:ol.flags&=-1025,Pa(ol.alternate,ol);break;case 4:Pa(ol.alternate,ol);break;case 8:Na(s,a=ol);var x=a.alternate;Aa(a),null!==x&&Aa(x)}ol=ol.nextEffect}}catch(e){if(null===ol)throw Error(b(330));Ql(ol,e),ol=ol.nextEffect}}while(null!==ol);if(C=Zi,_=ki(),y=C.focusedElem,s=C.selectionRange,_!==y&&y&&y.ownerDocument&&wi(y.ownerDocument.documentElement,y)){null!==s&&Ei(y)&&(_=s.start,void 0===(C=s.end)&&(C=_),"selectionStart"in y?(y.selectionStart=_,y.selectionEnd=Math.min(C,y.value.length)):(C=(_=y.ownerDocument||document)&&_.defaultView||window).getSelection&&(C=C.getSelection(),a=y.textContent.length,x=Math.min(s.start,a),s=void 0===s.end?x:Math.min(s.end,a),!C.extend&&x>s&&(a=s,s=x,x=a),a=Si(y,x),r=Si(y,s),a&&r&&(1!==C.rangeCount||C.anchorNode!==a.node||C.anchorOffset!==a.offset||C.focusNode!==r.node||C.focusOffset!==r.offset)&&((_=_.createRange()).setStart(a.node,a.offset),C.removeAllRanges(),x>s?(C.addRange(_),C.extend(r.node,r.offset)):(_.setEnd(r.node,r.offset),C.addRange(_))))),_=[];for(C=y;C=C.parentNode;)1===C.nodeType&&_.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<_.length;y++)(C=_[y]).element.scrollLeft=C.left,C.element.scrollTop=C.top}ln=!!Xi,Zi=Xi=null,e.current=n,ol=i;do{try{for(y=e;null!==ol;){var S=ol.flags;if(36&S&&Ea(y,ol.alternate,ol),128&S){_=void 0;var w=ol.ref;if(null!==w){var k=ol.stateNode;switch(ol.tag){case 5:_=k;break;default:_=k}"function"==typeof w?w(_):w.current=_}}ol=ol.nextEffect}}catch(e){if(null===ol)throw Error(b(330));Ql(ol,e),ol=ol.nextEffect}}while(null!==ol);ol=null,Go(),Wa=o}else e.current=n;if(ll)ll=!1,cl=e,ul=t;else for(ol=i;null!==ol;)t=ol.nextEffect,ol.nextEffect=null,8&ol.flags&&((S=ol).sibling=null,S.stateNode=null),ol=t;if(0===(i=e.pendingLanes)&&(al=null),1===i?e===fl?gl++:(gl=0,fl=e):gl=0,n=n.stateNode,No&&"function"==typeof No.onCommitFiberRoot)try{No.onCommitFiberRoot(To,n,void 0,64==(64&n.current.flags))}catch(e){}if(kl(e,Yo()),rl)throw rl=!1,e=sl,sl=null,e;return 0!=(8&Wa)||or(),null}function Vl(){for(;null!==ol;){var e=ol.alternate;_l||null===yl||(0!=(8&ol.flags)?ht(ol,yl)&&(_l=!0):13===ol.tag&&Fa(e,ol)&&ht(ol,yl)&&(_l=!0));var t=ol.flags;0!=(256&t)&&ka(e,ol),0==(512&t)||ll||(ll=!0,ir(97,(function(){return Kl(),null}))),ol=ol.nextEffect}}function Kl(){if(90!==ul){var e=97<ul?97:ul;return ul=90,nr(e,$l)}return!1}function Ul(e,t){dl.push(t,e),ll||(ll=!0,ir(97,(function(){return Kl(),null})))}function ql(e,t){hl.push(t,e),ll||(ll=!0,ir(97,(function(){return Kl(),null})))}function $l(){if(null===cl)return!1;var e=cl;if(cl=null,0!=(48&Wa))throw Error(b(331));var t=Wa;Wa|=32;var n=hl;hl=[];for(var i=0;i<n.length;i+=2){var o=n[i],r=n[i+1],s=o.destroy;if(o.destroy=void 0,"function"==typeof s)try{s()}catch(e){if(null===r)throw Error(b(330));Ql(r,e)}}for(n=dl,dl=[],i=0;i<n.length;i+=2){o=n[i],r=n[i+1];try{var a=o.create;o.destroy=a()}catch(e){if(null===r)throw Error(b(330));Ql(r,e)}}for(a=e.current.firstEffect;null!==a;)e=a.nextEffect,a.nextEffect=null,8&a.flags&&(a.sibling=null,a.stateNode=null),a=e;return Wa=t,or(),!0}function Gl(e,t,n){Cr(e,t=Ca(0,t=ba(n,t),1)),t=Cl(),null!==(e=wl(e,1))&&(tn(e,1,t),kl(e,t))}function Ql(e,t){if(3===e.tag)Gl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Gl(n,e,t);break}if(1===n.tag){var i=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===al||!al.has(i))){var o=xa(n,e=ba(t,e),1);if(Cr(n,o),o=Cl(),null!==(n=wl(n,1)))tn(n,1,o),kl(n,o);else if("function"==typeof i.componentDidCatch&&(null===al||!al.has(i)))try{i.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Xl(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=Cl(),e.pingedLanes|=e.suspendedLanes&n,ja===e&&(Ka&n)===n&&(4===$a||3===$a&&(62914560&Ka)===Ka&&500>Yo()-el?Tl(e,0):Ja|=n),kl(e,t)}function Zl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===er()?1:2:(0===vl&&(vl=Qa),0===(t=Yt(62914560&~vl))&&(t=4194304))),n=Cl(),null!==(e=wl(e,t))&&(tn(e,t,n),kl(e,n))}function Jl(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yl(e,t,n,i){return new Jl(e,t,n,i)}function ec(e){return!(!(e=e.prototype)||!e.isReactComponent)}function tc(e,t){var n=e.alternate;return null===n?((n=Yl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function nc(e,t,n,i,o,r){var s=2;if(i=e,"function"==typeof e)ec(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case O:return ic(n.children,o,r,t);case G:s=8,o|=16;break;case F:s=8,o|=1;break;case z:return(e=Yl(12,n,t,8|o)).elementType=z,e.type=z,e.lanes=r,e;case j:return(e=Yl(13,n,t,o)).type=j,e.elementType=j,e.lanes=r,e;case V:return(e=Yl(19,n,t,o)).elementType=V,e.lanes=r,e;case Q:return oc(n,o,r,t);case X:return(e=Yl(24,n,t,o)).elementType=X,e.lanes=r,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case B:s=10;break e;case H:s=9;break e;case W:s=11;break e;case K:s=14;break e;case U:s=16,i=null;break e;case q:s=22;break e}throw Error(b(130,null==e?e:typeof e,""))}return(t=Yl(s,n,t,o)).elementType=e,t.type=i,t.lanes=r,t}function ic(e,t,n,i){return(e=Yl(7,e,i,t)).lanes=n,e}function oc(e,t,n,i){return(e=Yl(23,e,i,t)).elementType=Q,e.lanes=n,e}function rc(e,t,n){return(e=Yl(6,e,null,t)).lanes=n,e}function sc(e,t,n){return(t=Yl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ac(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=en(0),this.expirationTimes=en(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.mutableSourceEagerHydrationData=null}function lc(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}function cc(e,t,n,i){var o=t.current,r=Cl(),s=xl(o);e:if(n){t:{if(lt(n=n._reactInternals)!==n||1!==n.tag)throw Error(b(170));var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Do(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(null!==a);throw Error(b(171))}if(1===n.tag){var l=n.type;if(Do(l)){n=Ro(n,l,a);break e}}n=a}else n=xo;return null===t.context?t.context=n:t.pendingContext=n,(t=_r(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),Cr(o,t),Sl(o,s,r),s}function uc(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function dc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function hc(e,t){dc(e,t),(e=e.alternate)&&dc(e,t)}function pc(e,t,n){var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ac(e,t,null!=n&&!0===n.hydrate),t=Yl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,br(t),e[co]=n.current,Wi(8===e.nodeType?e.parentNode:e),i)for(e=0;e<i.length;e++){var o=(t=i[e])._getVersion;o=o(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,o]:n.mutableSourceEagerHydrationData.push(t,o)}this._internalRoot=n}function gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function fc(e,t,n,i,o){var r=n._reactRootContainer;if(r){var s=r._internalRoot;if("function"==typeof o){var a=o;o=function(){var e=uc(s);a.call(e)}}cc(t,s,e,o)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new pc(e,0,t?{hydrate:!0}:void 0)}(n,i),s=r._internalRoot,"function"==typeof o){var l=o;o=function(){var e=uc(s);l.call(e)}}Rl((function(){cc(t,s,e,o)}))}return uc(s)}function mc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gc(t))throw Error(b(200));return lc(e,t,null,n)}il=function(e,t,n){var i=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||wo.current)qs=!0;else{if(0==(n&i)){switch(qs=!1,t.tag){case 3:na(t),is();break;case 5:Ur(t);break;case 1:Do(t.type)&&Lo(t);break;case 4:Vr(t,t.stateNode.containerInfo);break;case 10:i=t.memoizedProps.value;var o=t.type._context;Co(lr,o._currentValue),o._currentValue=i;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?aa(e,t,n):(Co($r,1&$r.current),null!==(t=ga(e,t,n))?t.sibling:null);Co($r,1&$r.current);break;case 19:if(i=0!=(n&t.childLanes),0!=(64&e.flags)){if(i)return pa(e,t,n);t.flags|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Co($r,$r.current),i)break;return null;case 23:case 24:return t.lanes=0,Zs(e,t,n)}return ga(e,t,n)}qs=0!=(16384&e.flags)}else qs=!1;switch(t.lanes=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=Eo(t,So.current),fr(t,n),o=ms(null,t,i,e,o,n),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Do(i)){var r=!0;Lo(t)}else r=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,br(t);var s=i.getDerivedStateFromProps;"function"==typeof s&&Er(t,i,s,e),o.updater=Dr,t.stateNode=o,o._reactInternals=t,Lr(t,i,e,n),t=ta(null,t,i,!0,r,n)}else t.tag=0,$s(null,t,o,n),t=t.child;return t;case 16:o=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=(r=o._init)(o._payload),t.type=o,r=t.tag=function(e){if("function"==typeof e)return ec(e)?1:0;if(null!=e){if((e=e.$$typeof)===W)return 11;if(e===K)return 14}return 2}(o),e=ar(o,e),r){case 0:t=Ys(null,t,o,e,n);break e;case 1:t=ea(null,t,o,e,n);break e;case 11:t=Gs(null,t,o,e,n);break e;case 14:t=Qs(null,t,o,ar(o.type,e),i,n);break e}throw Error(b(306,o,""))}return t;case 0:return i=t.type,o=t.pendingProps,Ys(e,t,i,o=t.elementType===i?o:ar(i,o),n);case 1:return i=t.type,o=t.pendingProps,ea(e,t,i,o=t.elementType===i?o:ar(i,o),n);case 3:if(na(t),i=t.updateQueue,null===e||null===i)throw Error(b(282));if(i=t.pendingProps,o=null!==(o=t.memoizedState)?o.element:null,yr(e,t),Sr(t,i,null,n),(i=t.memoizedState.element)===o)is(),t=ga(e,t,n);else{if((r=(o=t.stateNode).hydrate)&&(Xr=io(t.stateNode.containerInfo.firstChild),Qr=t,r=Zr=!0),r){if(null!=(e=o.mutableSourceEagerHydrationData))for(o=0;o<e.length;o+=2)(r=e[o])._workInProgressVersionPrimary=e[o+1],os.push(r);for(n=Fr(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else $s(e,t,i,n),is();t=t.child}return t;case 5:return Ur(t),null===e&&es(t),i=t.type,o=t.pendingProps,r=null!==e?e.memoizedProps:null,s=o.children,Yi(i,o)?s=null:null!==r&&Yi(i,r)&&(t.flags|=16),Js(e,t),$s(e,t,s,n),t.child;case 6:return null===e&&es(t),null;case 13:return aa(e,t,n);case 4:return Vr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Or(t,null,i,n):$s(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,Gs(e,t,i,o=t.elementType===i?o:ar(i,o),n);case 7:return $s(e,t,t.pendingProps,n),t.child;case 8:case 12:return $s(e,t,t.pendingProps.children,n),t.child;case 10:e:{i=t.type._context,o=t.pendingProps,s=t.memoizedProps,r=o.value;var a=t.type._context;if(Co(lr,a._currentValue),a._currentValue=r,null!==s)if(a=s.value,0===(r=yi(a,r)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(a,r):1073741823))){if(s.children===o.children&&!wo.current){t=ga(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i&&0!=(c.observedBits&r)){1===a.tag&&((c=_r(-1,n&-n)).tag=2,Cr(a,c)),a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),gr(a.return,n),l.lanes|=n;break}c=c.next}}else s=10===a.tag&&a.type===t.type?null:a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}$s(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=(r=t.pendingProps).children,fr(t,n),i=i(o=mr(o,r.unstable_observedBits)),t.flags|=1,$s(e,t,i,n),t.child;case 14:return r=ar(o=t.type,t.pendingProps),Qs(e,t,o,r=ar(o.type,r),i,n);case 15:return Xs(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:ar(i,o),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Do(i)?(e=!0,Lo(t)):e=!1,fr(t,n),Ar(t,i,o),Lr(t,i,o,n),ta(null,t,i,!0,e,n);case 19:return pa(e,t,n);case 23:case 24:return Zs(e,t,n)}throw Error(b(156,t.tag))},pc.prototype.render=function(e){cc(e,this._internalRoot,null,null)},pc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;cc(null,e,null,(function(){t[co]=null}))},pt=function(e){13===e.tag&&(Sl(e,4,Cl()),hc(e,4))},gt=function(e){13===e.tag&&(Sl(e,67108864,Cl()),hc(e,67108864))},ft=function(e){if(13===e.tag){var t=Cl(),n=xl(e);Sl(e,n,t),hc(e,n)}},mt=function(e,t){return t()},Be=function(e,t,n){switch(t){case"input":if(ge(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=fo(i);if(!o)throw Error(b(90));ce(i),ge(i,o)}}}break;case"textarea":Ce(e,n);break;case"select":null!=(t=n.value)&&be(e,!!n.multiple,t,!1)}},Ue=Al,qe=function(e,t,n,i,o){var r=Wa;Wa|=4;try{return nr(98,e.bind(null,t,n,i,o))}finally{0===(Wa=r)&&(nl(),or())}},$e=function(){0==(49&Wa)&&(function(){if(null!==pl){var e=pl;pl=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,kl(e,Yo())}))}or()}(),Kl())},Ge=function(e,t){var n=Wa;Wa|=2;try{return e(t)}finally{0===(Wa=n)&&(nl(),or())}};var vc={Events:[po,go,fo,Ve,Ke,Kl,{current:!1}]},bc={findFiberByHostInstance:ho,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},yc={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=dt(e))?null:e.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var _c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_c.isDisabled&&_c.supportsFiber)try{To=_c.inject(yc),No=_c}catch(Ie){}}i=vc,o=mc,s=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(b(188));throw Error(b(268,Object.keys(e)))}return e=null===(e=dt(t))?null:e.stateNode},a=function(e,t){var n=Wa;if(0!=(48&n))return e(t);Wa|=1;try{if(e)return nr(99,e.bind(null,t))}finally{Wa=n,or()}},l=function(e,t,n){if(!gc(t))throw Error(b(200));return fc(null,e,t,!0,n)},c=function(e,t,n){if(!gc(t))throw Error(b(200));return fc(null,e,t,!1,n)},u=function(e){if(!gc(e))throw Error(b(40));return!!e._reactRootContainer&&(Rl((function(){fc(null,null,e,!1,(function(){e._reactRootContainer=null,e[co]=null}))})),!0)},d=Al,h=function(e,t){return mc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},p=function(e,t,n,i){if(!gc(n))throw Error(b(200));if(null==e||void 0===e._reactInternals)throw Error(b(38));return fc(e,t,n,!1,i)},g="17.0.2"})),r.register("gLJR3",(function(e,t){e.exports=r("2GxGg")})),r.register("2GxGg",(function(t,n){var i,o,r,s,a,l,c,u,d,h,p,g,f,m,v,b,y,_,C,x,S,w,k;if(e(t.exports,"unstable_now",(function(){return i}),(function(e){return i=e})),e(t.exports,"unstable_shouldYield",(function(){return o}),(function(e){return o=e})),e(t.exports,"unstable_forceFrameRate",(function(){return r}),(function(e){return r=e})),e(t.exports,"unstable_IdlePriority",(function(){return s}),(function(e){return s=e})),e(t.exports,"unstable_ImmediatePriority",(function(){return a}),(function(e){return a=e})),e(t.exports,"unstable_LowPriority",(function(){return l}),(function(e){return l=e})),e(t.exports,"unstable_NormalPriority",(function(){return c}),(function(e){return c=e})),e(t.exports,"unstable_Profiling",(function(){return u}),(function(e){return u=e})),e(t.exports,"unstable_UserBlockingPriority",(function(){return d}),(function(e){return d=e})),e(t.exports,"unstable_cancelCallback",(function(){return h}),(function(e){return h=e})),e(t.exports,"unstable_continueExecution",(function(){return p}),(function(e){return p=e})),e(t.exports,"unstable_getCurrentPriorityLevel",(function(){return g}),(function(e){return g=e})),e(t.exports,"unstable_getFirstCallbackNode",(function(){return f}),(function(e){return f=e})),e(t.exports,"unstable_next",(function(){return m}),(function(e){return m=e})),e(t.exports,"unstable_pauseExecution",(function(){return v}),(function(e){return v=e})),e(t.exports,"unstable_requestPaint",(function(){return b}),(function(e){return b=e})),e(t.exports,"unstable_runWithPriority",(function(){return y}),(function(e){return y=e})),e(t.exports,"unstable_scheduleCallback",(function(){return _}),(function(e){return _=e})),e(t.exports,"unstable_wrapCallback",(function(){return C}),(function(e){return C=e})),"object"==typeof performance&&"function"==typeof performance.now){var E=performance;i=function(){return E.now()}}else{var D=Date,I=D.now();i=function(){return D.now()-I}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var A=null,R=null,L=function(){if(null!==A)try{var e=i();A(!0,e),A=null}catch(e){throw setTimeout(L,0),e}};x=function(e){null!==A?setTimeout(x,0,e):(A=e,setTimeout(L,0))},S=function(e,t){R=setTimeout(e,t)},w=function(){clearTimeout(R)},o=function(){return!1},k=r=function(){}}else{var M=window.setTimeout,T=window.clearTimeout;if("undefined"!=typeof console){var N=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof N&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var P=!1,O=null,F=-1,z=5,B=0;o=function(){return i()>=B},k=function(){},r=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<e?Math.floor(1e3/e):5};var H=new MessageChannel,W=H.port2;H.port1.onmessage=function(){if(null!==O){var e=i();B=e+z;try{O(!0,e)?W.postMessage(null):(P=!1,O=null)}catch(e){throw W.postMessage(null),e}}else P=!1},x=function(e){O=e,P||(P=!0,W.postMessage(null))},S=function(e,t){F=M((function(){e(i())}),t)},w=function(){T(F),F=-1}}function j(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,o=e[i];if(!(void 0!==o&&0<U(o,t)))break e;e[i]=t,e[n]=o,n=i}}function V(e){return void 0===(e=e[0])?null:e}function K(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length;i<o;){var r=2*(i+1)-1,s=e[r],a=r+1,l=e[a];if(void 0!==s&&0>U(s,n))void 0!==l&&0>U(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[r]=n,i=r);else{if(!(void 0!==l&&0>U(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function U(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var q=[],$=[],G=1,Q=null,X=3,Z=!1,J=!1,Y=!1;function ee(e){for(var t=V($);null!==t;){if(null===t.callback)K($);else{if(!(t.startTime<=e))break;K($),t.sortIndex=t.expirationTime,j(q,t)}t=V($)}}function te(e){if(Y=!1,ee(e),!J)if(null!==V(q))J=!0,x(ne);else{var t=V($);null!==t&&S(te,t.startTime-e)}}function ne(e,t){J=!1,Y&&(Y=!1,w()),Z=!0;var n=X;try{for(ee(t),Q=V(q);null!==Q&&(!(Q.expirationTime>t)||e&&!o());){var r=Q.callback;if("function"==typeof r){Q.callback=null,X=Q.priorityLevel;var s=r(Q.expirationTime<=t);t=i(),"function"==typeof s?Q.callback=s:Q===V(q)&&K(q),ee(t)}else K(q);Q=V(q)}if(null!==Q)var a=!0;else{var l=V($);null!==l&&S(te,l.startTime-t),a=!1}return a}finally{Q=null,X=n,Z=!1}}s=5,a=1,l=4,c=3,u=null,d=2,h=function(e){e.callback=null},p=function(){J||Z||(J=!0,x(ne))},g=function(){return X},f=function(){return V(q)},m=function(e){switch(X){case 1:case 2:case 3:var t=3;break;default:t=X}var n=X;X=t;try{return e()}finally{X=n}},v=function(){},b=k,y=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=X;X=e;try{return t()}finally{X=n}},_=function(e,t,n){var o=i();switch("object"==typeof n&&null!==n?n="number"==typeof(n=n.delay)&&0<n?o+n:o:n=o,e){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return e={id:G++,callback:t,priorityLevel:e,startTime:n,expirationTime:r=n+r,sortIndex:-1},n>o?(e.sortIndex=n,j($,e),null===V(q)&&e===V($)&&(Y?w():Y=!0,S(te,n-o))):(e.sortIndex=r,j(q,e),J||Z||(J=!0,x(ne))),e},C=function(e){var t=X;return function(){var n=X;X=t;try{return e.apply(this,arguments)}finally{X=n}}}})),r.register("72XCp",(function(t,n){e(t.exports,"Emitter",(function(){return r("gWzAP").Emitter})),e(t.exports,"languages",(function(){return r("gWzAP").languages})),e(t.exports,"editor",(function(){return r("gWzAP").editor})),e(t.exports,"MarkerSeverity",(function(){return r("gWzAP").MarkerSeverity})),e(t.exports,"Range",(function(){return r("gWzAP").Range})),e(t.exports,"Uri",(function(){return r("gWzAP").Uri})),r("gWzAP")})),r.register("1KxRK",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("gdzU6"))]).then((()=>r("jMtcf")))})),r.register("9aH8p",(function(e,t){var n=r("jm4Hx");e.exports=n((function(e){return new Promise((function(t,n){var i=document.getElementsByTagName("link");if([].concat(i).some((function(t){return t.href===e&&t.rel.indexOf("stylesheet")>-1})))t();else{var o=document.createElement("link");o.rel="stylesheet",o.href=e,o.onerror=function(e){o.onerror=o.onload=null,o.remove(),n(e)},o.onload=function(){o.onerror=o.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(o)}}))}))})),r.register("jm4Hx",(function(e,t){var n={},i={},o={};function r(e){switch(e){case"preload":return i;case"prefetch":return o;default:return n}}e.exports=function(e,t){return function(n){var i=r(t);return i[n]?i[n]:i[n]=e.apply(null,arguments).catch((function(e){throw delete i[n],e}))}}})),r.register("48WC3",(function(t,n){e(t.exports,"Emitter",(function(){return r("gWzAP").Emitter})),e(t.exports,"languages",(function(){return r("gWzAP").languages})),e(t.exports,"editor",(function(){return r("gWzAP").editor})),e(t.exports,"MarkerSeverity",(function(){return r("gWzAP").MarkerSeverity})),e(t.exports,"Range",(function(){return r("gWzAP").Range})),e(t.exports,"Uri",(function(){return r("gWzAP").Uri})),r("gWzAP")})),r.register("73fqL",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("4N2qU"))]).then((()=>r("fhxC8")))})),r.register("eMe6U",(function(t,n){e(t.exports,"Emitter",(function(){return r("gWzAP").Emitter})),e(t.exports,"languages",(function(){return r("gWzAP").languages})),e(t.exports,"editor",(function(){return r("gWzAP").editor})),e(t.exports,"Range",(function(){return r("gWzAP").Range})),e(t.exports,"Uri",(function(){return r("gWzAP").Uri})),r("gWzAP")})),r.register("azIy9",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("fUfzu"))]).then((()=>r("6JQIk")))})),r.register("a3CkB",(function(t,n){e(t.exports,"languages",(function(){return r("gWzAP").languages})),r("gWzAP")})),r.register("4NmJ3",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("jiB7Q")).then((()=>r("kBSns")))})),r.register("eaMBj",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("fjkzB")).then((()=>r("lmWx6")))})),r.register("3kh2T",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("7ix6Q")).then((()=>r("jtDIf")))})),r.register("dIXGI",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("q0Evl")).then((()=>r("lhvdt")))})),r.register("kwM1S",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("aDJIn")).then((()=>r("akTeV")))})),r.register("crVMR",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("a9v04")).then((()=>r("ljQG7")))})),r.register("4kkck",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("kOFUj")).then((()=>r("lVe9P")))})),r.register("flSRh",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("hFvsW")).then((()=>r("kc1Dj")))})),r.register("gcurD",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("1ll3h")).then((()=>r("5ZGJH")))})),r.register("3Q5AE",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("eFMdR")).then((()=>r("anAbr")))})),r.register("cKy9U",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("a3D1z")).then((()=>r("lrbDf")))})),r.register("l812H",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("HBtgD")).then((()=>r("4kcPm")))})),r.register("3gkwJ",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("7U5oE")).then((()=>r("RawHF")))})),r.register("fBYZw",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("4AIN3")).then((()=>r("bukbK")))})),r.register("b3Mwb",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("bo3ZI")).then((()=>r("9q5SS")))})),r.register("8xT0V",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("1w4A7")).then((()=>r("jXdj3")))})),r.register("cDVC1",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("dOkIw")).then((()=>r("8s9Mx")))})),r.register("g7s61",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("97VZ3")).then((()=>r("1AAhW")))})),r.register("6vzuU",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("cSHcV")).then((()=>r("hmz5T")))})),r.register("cVAZf",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("fDyfK"))]).then((()=>r("aQfWt")))})),r.register("bs3RA",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("7YXcK")).then((()=>r("9vRC1")))})),r.register("3GCEY",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("6NCI9"))]).then((()=>r("1TaDo")))})),r.register("ci6qT",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("0EpJ8")).then((()=>r("lAxzW")))})),r.register("eLSKU",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("1i3EY")).then((()=>r("7eZrs")))})),r.register("5qz5D",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("4Av9n")),import("./"+r("5XSRw").resolve("k0wdv"))]).then((()=>r("kP848")))})),r.register("bTeKH",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("2OiLn")).then((()=>r("i8CZT")))})),r.register("7sDYu",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("eKYNU")).then((()=>r("bzgte")))})),r.register("57zpE",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("jwDNA")).then((()=>r("lvYhD")))})),r.register("4r9L8",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("6uDtW")).then((()=>r("3owaH")))})),r.register("4BZeN",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("bqD2x")).then((()=>r("a1EWN")))})),r.register("qu843",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("jrO9e"))]).then((()=>r("alq6P")))})),r.register("5oBK2",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("fjWND")).then((()=>r("khHjS")))})),r.register("jbbkI",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("jmEcv")).then((()=>r("BCqYY")))})),r.register("15MYQ",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("4bI77")).then((()=>r("kRoQX")))})),r.register("7DjGk",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("geg4T")).then((()=>r("6aCTD")))})),r.register("gjoTl",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("j87Tu")).then((()=>r("8eF0v")))})),r.register("djgcC",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("ktv1M")).then((()=>r("j2XxS")))})),r.register("cczWf",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("jM5I0")).then((()=>r("hmvD7")))})),r.register("6gcf7",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("cW2bH")).then((()=>r("6y7vz")))})),r.register("d2tTj",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("gb9jr")).then((()=>r("l10So")))})),r.register("l8deG",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("8wYo8")).then((()=>r("cBeRr")))})),r.register("iYarc",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("1CQoP")).then((()=>r("7ZsOm")))})),r.register("7c4pI",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("9UnyL")).then((()=>r("gKLdt")))})),r.register("8BYIO",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("eF8VY")).then((()=>r("f3XPt")))})),r.register("hhZnx",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("46jH1")).then((()=>r("i5rPL")))})),r.register("4lrQf",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("4qslc")).then((()=>r("5LQJC")))})),r.register("kRHwN",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("cYmsT"))]).then((()=>r("55y4T")))})),r.register("lH87K",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("bSPKF")).then((()=>r("dCGAZ")))})),r.register("ncXf6",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("eSTbt")).then((()=>r("6eUEh")))})),r.register("jLLKk",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("eGkmN"))]).then((()=>r("6s3pK")))})),r.register("i4aQg",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("6HuOE")).then((()=>r("g46Tx")))})),r.register("4SqeX",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("99LDo")).then((()=>r("cNgQ2")))})),r.register("eFZ1Z",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("kwGtx")).then((()=>r("g0VEe")))})),r.register("CWeDR",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("8YLfj")).then((()=>r("gKjea")))})),r.register("7QBTK",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("dAlmO")).then((()=>r("5m1wI")))})),r.register("9MWgL",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("cZYkg")).then((()=>r("lpY7k")))})),r.register("cEx2v",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("69Oze")).then((()=>r("lMNXz")))})),r.register("con78",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("kqj7f")).then((()=>r("kZTZj")))})),r.register("2pCDE",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("e4qnq")).then((()=>r("gV56U")))})),r.register("03Ji7",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("cS52b")).then((()=>r("2YhlI")))})),r.register("OleC8",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("1nexj")).then((()=>r("13RtZ")))})),r.register("dG779",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("5F8IZ")).then((()=>r("3q5MR")))})),r.register("j3ogR",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("fzK0t")).then((()=>r("hdqGo")))})),r.register("9FdAn",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("3iUjC")).then((()=>r("jglsk")))})),r.register("cJsy1",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("bBPhW")).then((()=>r("izxb4")))})),r.register("8R7dE",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("d9ORg")).then((()=>r("jkcBN")))})),r.register("ank77",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("5dHy7")).then((()=>r("gf2Yy")))})),r.register("8IICG",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("hAuWT")).then((()=>r("ed0Tu")))})),r.register("73s2c",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("gPu9Q")).then((()=>r("5mOOW")))})),r.register("cIfEN",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("4Av9n"))]).then((()=>r("kapl3")))})),r.register("g5bI1",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("d4cPu")).then((()=>r("1QUP2")))})),r.register("dZcf8",(function(e,t){e.exports=Promise.all([r("9aH8p")(new URL(r("5XSRw").resolve("bibKH"),import.meta.url).toString()),import("./"+r("5XSRw").resolve("6ThOT"))]).then((()=>r("1RXh8")))})),r.register("jqfNc",(function(e,t){e.exports=import("./"+r("5XSRw").resolve("fCOKC")).then((()=>r("hZmTA")))})),r.register("5tNzO",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=e.exports.Vim=void 0;var n,i=(n=r("2nDk7"))&&n.__esModule?n:{default:n};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h",context:"normal"},{keys:"<Del>",type:"keyToKey",toKeys:"x",context:"normal"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B",context:"normal"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b",context:"normal"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"visual"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],a=s.length,l=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"global",shortName:"g"}],c=i.default.Pos,u=function(){function e(e,n){e.attached=!1,this==i.default.keyMap.vim&&i.default.rmClass(e.getWrapperElement(),"cm-fat-cursor"),n&&n.attach==t||function(e){e.setOption("disableInput",!1),e.off("cursorActivity",Ge),e.state.vim=null,e.leaveVimMode()}(e)}function t(e,n){this==i.default.keyMap.vim&&(e.attached=!0),n&&n.attach==t||function(e){e.setOption("disableInput",!0),e.setOption("showCursorWhenSelecting",!1),i.default.signal(e,"vim-mode-change",{mode:"normal"}),e.on("cursorActivity",Ge),N(e),e.enterVimMode()}(e)}function n(e,t){if(t){if(this[e])return this[e];var n=function(e){if("'"==e.charAt(0))return e.charAt(1);if("AltGraph"==e)return!1;var t=e.split(/-(?!$)/),n=t[t.length-1];if(1==t.length&&1==t[0].length)return!1;if(2==t.length&&"Shift"==t[0]&&1==n.length)return!1;for(var i=!1,o=0;o<t.length;o++){var s=t[o];s in r?t[o]=r[s]:i=!0,s in u&&(t[o]=u[s])}if(!i)return!1;x(n)&&(t[t.length-1]=n.toLowerCase());return"<"+t.join("-")+">"}(e);if(!n)return!1;var o=i.default.Vim.findKey(t,n);return"function"==typeof o&&i.default.signal(t,"vim-keypress",n),o}}i.default.defineOption("vimMode",!1,(function(e,t,n){t&&"vim"!=e.getOption("keyMap")?e.setOption("keyMap","vim"):!t&&n!=i.default.Init&&/^vim/.test(e.getOption("keyMap"))&&e.setOption("keyMap","default")}));var r={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A"},u={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"};var d=/[\d]/,h=[i.default.isWordChar,function(e){return e&&!i.default.isWordChar(e)&&!/\s/.test(e)}],p=[function(e){return/\S/.test(e)}];function g(e,t){for(var n=[],i=e;i<e+t;i++)n.push(String.fromCharCode(i));return n}var f=g(65,26),m=g(97,26),v=g(48,10),b=[].concat(f,m,v,["<",">"]),y=[].concat(f,m,v,["-",'"',".",":","/"]);function _(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function C(e){return/^[a-z]$/.test(e)}function x(e){return/^[A-Z]$/.test(e)}function S(e){return/^\s*$/.test(e)}function w(e){return-1!=".?!".indexOf(e)}function k(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}var E={};function D(e,t,n,i,o){if(void 0===t&&!o)throw Error("defaultValue is required unless callback is provided");if(n||(n="string"),E[e]={type:n,defaultValue:t,callback:o},i)for(var r=0;r<i.length;r++)E[i[r]]=E[e];t&&I(e,t)}function I(e,t,n,i){var o=E[e],r=(i=i||{}).scope;if(!o)return new Error("Unknown option: "+e);if("boolean"==o.type){if(t&&!0!==t)return new Error("Invalid argument: "+e+"="+t);!1!==t&&(t=!0)}o.callback?("local"!==r&&o.callback(t,void 0),"global"!==r&&n&&o.callback(t,n)):("local"!==r&&(o.value="boolean"==o.type?!!t:t),"global"!==r&&n&&(n.state.vim.options[e]={value:t}))}function A(e,t,n){var i=E[e],o=(n=n||{}).scope;if(!i)return new Error("Unknown option: "+e);if(i.callback){var r=t&&i.callback(void 0,t);return"global"!==o&&void 0!==r?r:"local"!==o?i.callback():void 0}return((r="global"!==o&&t&&t.state.vim.options[e])||"local"!==o&&i||{}).value}D("filetype",void 0,"string",["ft"],(function(e,t){if(void 0!==t){if(void 0===e)return"null"==(n=t.getOption("mode"))?"":n;var n=""==e?"null":e;t.setOption("mode",n)}}));var R,L,M=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function T(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=M()}function N(e){return e.state.vim||(e.state.vim={inputState:new F,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),e.state.vim}function P(){var e,t,n,i,o;for(var r in R={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:(e=100,t=-1,n=0,i=0,o=new Array(e),{cachedCursor:void 0,add:function(r,s,a){var l=o[t%e];function c(n){var i=++t%e,s=o[i];s&&s.clear(),o[i]=r.setBookmark(n)}if(l){var u=l.find();u&&!Y(u,s)&&c(s)}else c(s);c(a),n=t,(i=t-e+1)<0&&(i=0)},move:function(r,s){(t+=s)>n?t=n:t<i&&(t=i);var a=o[(e+t)%e];if(a&&!a.find()){var l,c=s>0?1:-1,u=r.getCursor();do{if((a=o[(e+(t+=c))%e])&&(l=a.find())&&!Y(u,l))break}while(t<n&&t>i)}return a}}),macroModeState:new T,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new H({}),searchHistoryController:new W,exCommandHistoryController:new W},E){var s=E[r];s.value=s.defaultValue}}T.prototype={exitMacroRecordMode:function(){var e=R.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=R.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var O={buildKeyMap:function(){},getRegisterController:function(){return R.registerController},resetVimGlobalState_:P,getVimGlobalState_:function(){return R},maybeInitVimState_:N,suppressErrorLogging:!1,InsertModeKey:Xe,map:function(e,t,n){Ve.map(e,t,n)},unmap:function(e,t){Ve.unmap(e,t)},noremap:function(e,t,n){function i(e){return e?[e]:["normal","insert","visual"]}for(var o=i(n),r=s.length,l=r-a;l<r&&o.length;l++){var c=s[l];if(!(c.keys!=t||n&&c.context&&c.context!==n||"ex"===c.type.substr(0,2)||"key"===c.type.substr(0,3))){var u={};for(var d in c)u[d]=c[d];u.keys=e,n&&!u.context&&(u.context=n),this._mapCommand(u);var h=i(c.context);o=o.filter((function(e){return-1===h.indexOf(e)}))}}},setOption:I,getOption:A,defineOption:D,defineEx:function(e,t,n){if(t){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered')}else t=e;je[e]=n,Ve.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(e,t,n){var i=this.findKey(e,t,n);if("function"==typeof i)return i()},findKey:function(e,t,n){var o,r=N(e);function a(){var i=R.macroModeState;if(i.isRecording){if("q"==t)return i.exitMacroRecordMode(),z(e),!0;"mapping"!=n&&function(e,t){if(e.isPlaying)return;var n=e.latestRegister,i=R.registerController.getRegister(n);i&&i.pushText(t)}(i,t)}}function l(){if("<Esc>"==t)return z(e),r.visualMode?he(e):r.insertMode&&Ke(e),!0}return!1===(o=r.insertMode?function(){if(l())return!0;for(var n=r.inputState.keyBuffer=r.inputState.keyBuffer+t,i=1==t.length,o=j.matchCommand(n,s,r.inputState,"insert");n.length>1&&"full"!=o.type;){n=r.inputState.keyBuffer=n.slice(1);var a=j.matchCommand(n,s,r.inputState,"insert");"none"!=a.type&&(o=a)}if("none"==o.type)return z(e),!1;if("partial"==o.type)return L&&window.clearTimeout(L),L=window.setTimeout((function(){r.insertMode&&r.inputState.keyBuffer&&z(e)}),A("insertModeEscKeysTimeout")),!i;if(L&&window.clearTimeout(L),i){for(var c=e.listSelections(),u=0;u<c.length;u++){var d=c[u].head;e.replaceRange("",Q(d,0,-(n.length-1)),d,"+input")}R.macroModeState.lastInsertModeChanges.changes.pop()}return z(e),o.command}():function(){if(a()||l())return!0;var n=r.inputState.keyBuffer=r.inputState.keyBuffer+t;if(/^[1-9]\d*$/.test(n))return!0;if(!(i=/^(\d*)(.*)$/.exec(n)))return z(e),!1;var i,o=r.visualMode?"visual":"normal",c=j.matchCommand(i[2]||i[1],s,r.inputState,o);return"none"==c.type?(z(e),!1):"partial"==c.type||(r.inputState.keyBuffer="",(i=/^(\d*)(.*)$/.exec(n))[1]&&"0"!=i[1]&&r.inputState.pushRepeatDigit(i[1]),c.command)}())?r.insertMode||1!==t.length?void 0:function(){return!0}:!0===o?function(){return!0}:function(){return e.operation((function(){e.curOp.isVimOp=!0;try{"keyToKey"==o.type?function(n){for(var o;n;)o=/<\w+-.+?>|<\w+>|./.exec(n),t=o[0],n=n.substring(o.index+t.length),i.default.Vim.handleKey(e,t,"mapping")}(o.toKeys):j.processCommand(e,r,o)}catch(t){throw e.state.vim=void 0,N(e),i.default.Vim.suppressErrorLogging||console.log(t),t}return!0}))}},handleEx:function(e,t){Ve.processCommand(e,t)},defineMotion:function(e,t){V[e]=t},defineAction:function(e,t){q[e]=t},defineOperator:function(e,t){U[e]=t},mapCommand:function(e,t,n,i,o){var r={keys:e,type:t};for(var s in r[t]=n,r[t+"Args"]=i,o)r[s]=o[s];Ue(r)},_mapCommand:Ue,defineRegister:function(e,t){var n=R.registerController.registers;if(!e||1!=e.length)throw Error("Register name must be 1 character");if(n[e])throw Error("Register already defined "+e);n[e]=t,y.push(e)},exitVisualMode:he,exitInsertMode:Ke};function F(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function z(e,t){e.state.vim.inputState=new F,i.default.signal(e,"vim-command-done",t)}function B(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function H(e){this.registers=e,this.unnamedRegister=e['"']=new B,e["."]=new B,e[":"]=new B,e["/"]=new B}function W(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}F.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},F.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},B.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(M(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},H.prototype={pushText:function(e,t,n,i,o){i&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var r=this.isValidRegister(e)?this.getRegister(e):null;if(r){x(e)?r.pushText(n,i):r.setText(n,i,o),this.unnamedRegister.setText(r.toString(),i)}else{switch(t){case"yank":this.registers[0]=new B(n,i,o);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new B(n,i):(this.shiftNumericRegisters_(),this.registers[1]=new B(n,i))}this.unnamedRegister.setText(n,i,o)}},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new B),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&k(e,y)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},W.prototype={nextMatch:function(e,t){var n=this.historyBuffer,i=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var o=this.iterator+i;t?o>=0:o<n.length;o+=i)for(var r=n[o],s=0;s<=r.length;s++)if(this.initialPrefix==r.substring(0,s))return this.iterator=o,r;return o>=n.length?(this.iterator=n.length,this.initialPrefix):o<0?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var j={matchCommand:function(e,t,n,i){var o,r=function(e,t,n,i){for(var o,r=[],s=[],a=0;a<t.length;a++){var l=t[a];"insert"==n&&"insert"!=l.context||l.context&&l.context!=n||i.operator&&"action"==l.type||!(o=X(e,l.keys))||("partial"==o&&r.push(l),"full"==o&&s.push(l))}return{partial:r.length&&r,full:s.length&&s}}(e,t,i,n);if(!r.full&&!r.partial)return{type:"none"};if(!r.full&&r.partial)return{type:"partial"};for(var s=0;s<r.full.length;s++){var a=r.full[s];o||(o=a)}if("<character>"==o.keys.slice(-11)){var l=function(e){var t=/^.*(<[^>]+>)$/.exec(e),n=t?t[1]:e.slice(-1);if(n.length>1)switch(n){case"<CR>":n="\n";break;case"<Space>":n=" ";break;default:n=""}return n}(e);if(!l)return{type:"none"};n.selectedCharacter=l}return{type:"full",command:o}},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=G(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var i=t.inputState;if(i.operator){if(i.operator==n.operator)return i.motion="expandToLine",i.motionArgs={linewise:!0},void this.evalInput(e,t);z(e)}i.operator=n.operator,i.operatorArgs=G(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var i=t.visualMode,o=G(n.operatorMotionArgs);o&&i&&o.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),i||this.processMotion(e,t,n)},processAction:function(e,t,n){var i=t.inputState,o=i.getRepeat(),r=!!o,s=G(n.actionArgs)||{};i.selectedCharacter&&(s.selectedCharacter=i.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),s.repeat=o||1,s.repeatIsExplicit=r,s.registerName=i.registerName,z(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,i,n),q[n.action](e,s,t)},processSearch:function(e,t,n){if(e.getSearchCursor){var o=n.searchArgs.forward,r=n.searchArgs.wholeWordOnly;we(e).setReversed(!o);var s=o?"/":"?",a=we(e).getQuery(),l=e.getScrollInfo();switch(n.searchArgs.querySrc){case"prompt":var c=R.macroModeState;if(c.isPlaying)p(h=c.replaySearchQueries.shift(),!0,!1);else Te(e,{onClose:function(t){e.scrollTo(l.left,l.top),p(t,!0,!0);var n=R.macroModeState;n.isRecording&&function(e,t){if(!e.isPlaying){var n=e.latestRegister,i=R.registerController.getRegister(n);i&&i.pushSearchQuery&&i.pushSearchQuery(t)}}(n,t)},prefix:s,desc:Me,onKeyUp:function(t,n,r){var s,a,c,u=i.default.keyName(t);"Up"==u||"Down"==u?(s="Up"==u,a=t.target?t.target.selectionEnd:0,r(n=R.searchHistoryController.nextMatch(n,s)||""),a&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(a,t.target.value.length))):"Left"!=u&&"Right"!=u&&"Ctrl"!=u&&"Alt"!=u&&"Shift"!=u&&R.searchHistoryController.reset();try{c=Ne(e,n,!0,!0)}catch(e){}c?e.scrollIntoView(Oe(e,!o,c),30):(Fe(e),e.scrollTo(l.left,l.top))},onKeyDown:function(t,n,o){var r=i.default.keyName(t);"Esc"==r||"Ctrl-C"==r||"Ctrl-["==r||"Backspace"==r&&""==n?(R.searchHistoryController.pushInput(n),R.searchHistoryController.reset(),Ne(e,a),Fe(e),e.scrollTo(l.left,l.top),i.default.e_stop(t),z(e),o(),e.focus()):"Up"==r||"Down"==r?i.default.e_stop(t):"Ctrl-U"==r&&(i.default.e_stop(t),o(""))}});break;case"wordUnderCursor":var u=pe(e,!1,!0,!1,!0),d=!0;if(u||(u=pe(e,!1,!0,!1,!1),d=!1),!u)return;var h=e.getLine(u.start.line).substring(u.start.ch,u.end.ch);d&&r?h="\\b"+h+"\\b":h=h.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1"),R.jumpList.cachedCursor=e.getCursor(),e.setCursor(u.start),p(h,!0,!1)}}function p(i,o,r){R.searchHistoryController.pushInput(i),R.searchHistoryController.reset();try{Ne(e,i,o,r)}catch(t){return Le(e,"Invalid regex: "+i),void z(e)}j.processMotion(e,t,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:n.searchArgs.toJumplist}})}},processEx:function(e,t,n){function o(t){R.exCommandHistoryController.pushInput(t),R.exCommandHistoryController.reset(),Ve.processCommand(e,t)}function r(t,n,o){var r,s,a=i.default.keyName(t);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a||"Backspace"==a&&""==n)&&(R.exCommandHistoryController.pushInput(n),R.exCommandHistoryController.reset(),i.default.e_stop(t),z(e),o(),e.focus()),"Up"==a||"Down"==a?(i.default.e_stop(t),r="Up"==a,s=t.target?t.target.selectionEnd:0,o(n=R.exCommandHistoryController.nextMatch(n,r)||""),s&&t.target&&(t.target.selectionEnd=t.target.selectionStart=Math.min(s,t.target.value.length))):"Ctrl-U"==a?(i.default.e_stop(t),o("")):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&R.exCommandHistoryController.reset()}"keyToEx"==n.type?Ve.processCommand(e,n.exArgs.input):t.visualMode?Te(e,{onClose:o,prefix:":",value:"'<,'>",onKeyDown:r,selectValueOnOpen:!1}):Te(e,{onClose:o,prefix:":",onKeyDown:r})},evalInput:function(e,t){var n,i,o,r=t.inputState,s=r.motion,a=r.motionArgs||{},l=r.operator,u=r.operatorArgs||{},d=r.registerName,h=t.sel,p=J(t.visualMode?$(e,h.head):e.getCursor("head")),g=J(t.visualMode?$(e,h.anchor):e.getCursor("anchor")),f=J(p),m=J(g);if(l&&this.recordLastEdit(t,r),(o=void 0!==r.repeatOverride?r.repeatOverride:r.getRepeat())>0&&a.explicitRepeat?a.repeatIsExplicit=!0:(a.noRepeat||!a.explicitRepeat&&0===o)&&(o=1,a.repeatIsExplicit=!1),r.selectedCharacter&&(a.selectedCharacter=u.selectedCharacter=r.selectedCharacter),a.repeat=o,z(e),s){var v=V[s](e,p,a,t);if(t.lastMotion=V[s],!v)return;if(a.toJumplist){var b=R.jumpList,y=b.cachedCursor;y?(ge(e,y,v),delete b.cachedCursor):ge(e,p,v)}v instanceof Array?(i=v[0],n=v[1]):n=v,n||(n=J(p)),t.visualMode?(t.visualBlock&&n.ch===1/0||(n=$(e,n,t.visualBlock)),i&&(i=$(e,i,!0)),i=i||m,h.anchor=i,h.head=n,ue(e),_e(e,t,"<",ee(i,n)?i:n),_e(e,t,">",ee(i,n)?n:i)):l||(n=$(e,n),e.setCursor(n.line,n.ch))}if(l){if(u.lastSel){i=m;var _=u.lastSel,C=Math.abs(_.head.line-_.anchor.line),x=Math.abs(_.head.ch-_.anchor.ch);n=_.visualLine?c(m.line+C,m.ch):_.visualBlock?c(m.line+C,m.ch+x):_.head.line==_.anchor.line?c(m.line,m.ch+x):c(m.line+C,m.ch),t.visualMode=!0,t.visualLine=_.visualLine,t.visualBlock=_.visualBlock,h=t.sel={anchor:i,head:n},ue(e)}else t.visualMode&&(u.lastSel={anchor:J(h.anchor),head:J(h.head),visualBlock:t.visualBlock,visualLine:t.visualLine});var w,k,E,D,I;if(t.visualMode){if(w=te(h.head,h.anchor),k=ne(h.head,h.anchor),E=t.visualLine||u.linewise,I=de(e,{anchor:w,head:k},D=t.visualBlock?"block":E?"line":"char"),E){var A=I.ranges;if("block"==D)for(var L=0;L<A.length;L++)A[L].head.ch=oe(e,A[L].head.line);else"line"==D&&(A[0].head=c(A[0].head.line+1,0))}}else{if(w=J(i||m),ee(k=J(n||f),w)){var M=w;w=k,k=M}(E=a.linewise||u.linewise)?function(e,t,n){t.ch=0,n.ch=0,n.line++}(0,w,k):a.forward&&function(e,t,n){var i=e.getRange(t,n);if(/\n\s*$/.test(i)){var o=i.split("\n");o.pop();for(var r=o.pop();o.length>0&&r&&S(r);r=o.pop())n.line--,n.ch=0;r?(n.line--,n.ch=oe(e,n.line)):n.ch=0}}(e,w,k),I=de(e,{anchor:w,head:k},D="char",!a.inclusive||E)}e.setSelections(I.ranges,I.primary),t.lastMotion=null,u.repeat=o,u.registerName=d,u.linewise=E;var T=U[l](e,u,I.ranges,m,n);t.visualMode&&he(e,null!=T),T&&e.setCursor(T)}},recordLastEdit:function(e,t,n){var i=R.macroModeState;i.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,i.lastInsertModeChanges.changes=[],i.lastInsertModeChanges.expectCursorActivityForChange=!1)}},V={moveToTopLine:function(e,t,n){var i=Be(e).top+n.repeat-1;return c(i,e.findFirstNonWhiteSpaceCharacter(i))},moveToMiddleLine:function(e){var t=Be(e),n=Math.floor(.5*(t.top+t.bottom));return c(n,e.findFirstNonWhiteSpaceCharacter(n))},moveToBottomLine:function(e,t,n){var i=Be(e).bottom-n.repeat+1;return c(i,e.findFirstNonWhiteSpaceCharacter(i))},expandToLine:function(e,t,n){return c(t.line+n.repeat-1,1/0)},findNext:function(e,t,n){var i=we(e),o=i.getQuery();if(o){var r=!n.forward;return r=i.isReversed()?!r:r,Pe(e,o),Oe(e,r,o,n.repeat)}},goToMark:function(e,t,n,i){var o=He(e,i,n.selectedCharacter);return o?n.linewise?{line:o.line,ch:e.findFirstNonWhiteSpaceCharacter(o.line)}:o:null},moveToOtherHighlightedEnd:function(e,t,n,i){if(i.visualBlock&&n.sameLine){var o=i.sel;return[$(e,c(o.anchor.line,o.head.ch)),$(e,c(o.head.line,o.anchor.ch))]}return[i.sel.head,i.sel.anchor]},jumpToMark:function(e,t,n,i){for(var o=t,r=0;r<n.repeat;r++){var s=o;for(var a in i.marks)if(C(a)){var l=i.marks[a].find();if(!((n.forward?ee(l,s):ee(s,l))||n.linewise&&l.line==s.line)){var u=Y(s,o),d=n.forward?ie(s,l,o):ie(o,l,s);(u||d)&&(o=l)}}}return n.linewise&&(o=c(o.line,e.findFirstNonWhiteSpaceCharacter(o.line))),o},moveByCharacters:function(e,t,n){var i=t,o=n.repeat,r=n.forward?i.ch+o:i.ch-o;return c(i.line,r)},moveByLines:function(e,t,n,i){var o=t,r=o.ch;switch(i.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:r=i.lastHPos;break;default:i.lastHPos=r}var s=n.repeat+(n.repeatOffset||0),a=n.forward?o.line+s:o.line-s,l=e.firstLine(),u=e.lastLine();return a<l&&o.line==l?this.moveToStartOfLine(e,t,n,i):a>u&&o.line==u?this.moveToEol(e,t,n,i):(n.toFirstChar&&(r=e.findFirstNonWhiteSpaceCharacter(a),i.lastHPos=r),i.lastHSPos=e.charCoords(c(a,r),"div").left,c(a,r))},moveByDisplayLines:function(e,t,n,i){var o=t;switch(i.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:i.lastHSPos=e.charCoords(o,"div").left}var r=n.repeat;if((a=e.findPosV(o,n.forward?r:-r,"line",i.lastHSPos)).hitSide)if(n.forward)var s={top:e.charCoords(a,"div").top+8,left:i.lastHSPos},a=e.coordsChar(s,"div");else{var l=e.charCoords(c(e.firstLine(),0),"div");l.left=i.lastHSPos,a=e.coordsChar(l,"div")}return i.lastHPos=a.ch,a},moveByPage:function(e,t,n){var i=t,o=n.repeat;return e.findPosV(i,n.forward?o:-o,"page")},moveByParagraph:function(e,t,n){var i=n.forward?1:-1;return xe(e,t,n.repeat,i)},moveBySentence:function(e,t,n){var i=n.forward?1:-1;return function(e,t,n,i){function o(e,t){if(t.pos+t.dir<0||t.pos+t.dir>=t.line.length){if(t.ln+=t.dir,!_(e,t.ln))return t.line=null,t.ln=null,void(t.pos=null);t.line=e.getLine(t.ln),t.pos=t.dir>0?0:t.line.length-1}else t.pos+=t.dir}function r(e,t,n,i){var r=""===(c=e.getLine(t)),s={line:c,ln:t,pos:n,dir:i},a={ln:s.ln,pos:s.pos},l=""===s.line;for(o(e,s);null!==s.line;){if(a.ln=s.ln,a.pos=s.pos,""===s.line&&!l)return{ln:s.ln,pos:s.pos};if(r&&""!==s.line&&!S(s.line[s.pos]))return{ln:s.ln,pos:s.pos};!w(s.line[s.pos])||r||s.pos!==s.line.length-1&&!S(s.line[s.pos+1])||(r=!0),o(e,s)}var c=e.getLine(a.ln);a.pos=0;for(var u=c.length-1;u>=0;--u)if(!S(c[u])){a.pos=u;break}return a}function s(e,t,n,i){var r={line:l=e.getLine(t),ln:t,pos:n,dir:i},s={ln:r.ln,pos:null},a=""===r.line;for(o(e,r);null!==r.line;){if(""===r.line&&!a)return null!==s.pos?s:{ln:r.ln,pos:r.pos};if(w(r.line[r.pos])&&null!==s.pos&&(r.ln!==s.ln||r.pos+1!==s.pos))return s;""===r.line||S(r.line[r.pos])||(a=!1,s={ln:r.ln,pos:r.pos}),o(e,r)}var l=e.getLine(s.ln);s.pos=0;for(var c=0;c<l.length;++c)if(!S(l[c])){s.pos=c;break}return s}var a={ln:t.line,pos:t.ch};for(;n>0;)a=i<0?s(e,a.ln,a.pos,i):r(e,a.ln,a.pos,i),n--;return c(a.ln,a.pos)}(e,t,n.repeat,i)},moveByScroll:function(e,t,n,i){var o=e.getScrollInfo(),r=null,s=n.repeat;s||(s=Math.floor(o.clientHeight/(2*e.defaultTextHeight())));var a=e.charCoords(t,"local");if(n.repeat=s,!(r=V.moveByDisplayLines(e,t,n,i)))return null;var l=e.charCoords(r,"local");return e.scrollTo(null,o.top+l.top-a.top),r},moveByWords:function(e,t,n){return function(e,t,n,i,o,r){var s=J(t),a=[];(i&&!o||!i&&o)&&n++;for(var l=!(i&&o),u=0;u<n;u++){var d=be(e,t,i,r,l);if(!d){var h=oe(e,e.lastLine());a.push(i?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}a.push(d),t=c(d.line,i?d.to-1:d.from)}var p=a.length!=n,g=a[0],f=a.pop();return i&&!o?(p||g.from==s.ch&&g.line==s.line||(f=a.pop()),c(f.line,f.from)):i&&o?c(f.line,f.to-1):!i&&o?(p||g.to==s.ch&&g.line==s.line||(f=a.pop()),c(f.line,f.to)):c(f.line,f.from)}(e,t,n.repeat,!!n.forward,!!n.wordEnd,!!n.bigWord)},moveTillCharacter:function(e,t,n){var i=ye(e,n.repeat,n.forward,n.selectedCharacter),o=n.forward?-1:1;return fe(o,n),i?(i.ch+=o,i):null},moveToCharacter:function(e,t,n){var i=n.repeat;return fe(0,n),ye(e,i,n.forward,n.selectedCharacter)||t},moveToSymbol:function(e,t,n){return function(e,t,n,i){var o=J(e.getCursor()),r=n?1:-1,s=n?e.lineCount():-1,a=o.ch,l=o.line,u=e.getLine(l),d={lineText:u,nextCh:u.charAt(a),lastCh:null,index:a,symb:i,reverseSymb:(n?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:n,depth:0,curMoveThrough:!1},h=me[i];if(!h)return o;var p=ve[h].init,g=ve[h].isComplete;p&&p(d);for(;l!==s&&t;){if(d.index+=r,d.nextCh=d.lineText.charAt(d.index),!d.nextCh){if(l+=r,d.lineText=e.getLine(l)||"",r>0)d.index=0;else{var f=d.lineText.length;d.index=f>0?f-1:0}d.nextCh=d.lineText.charAt(d.index)}g(d)&&(o.line=l,o.ch=d.index,t--)}return d.nextCh||d.curMoveThrough?c(l,d.index):o}(e,n.repeat,n.forward,n.selectedCharacter)||t},moveToColumn:function(e,t,n,i){var o=n.repeat;return i.lastHPos=o-1,i.lastHSPos=e.charCoords(t,"div").left,function(e,t){var n=e.getCursor().line;return $(e,c(n,t-1))}(e,o)},moveToEol:function(e,t,n,i){var o=t;i.lastHPos=1/0;var r=c(o.line+n.repeat-1,1/0),s=e.clipPos(r);return s.ch--,i.lastHSPos=e.charCoords(s,"div").left,r},moveToFirstNonWhiteSpaceCharacter:function(e,t){var n=t;return c(n.line,e.findFirstNonWhiteSpaceCharacter(n.line))},moveToMatchedSymbol:function(e,t){var n=t,i=n.line,o=n.ch;return o<e.getLine(i).length?e.findMatchingBracket(c(i,o)).to:n},moveToStartOfLine:function(e,t){return c(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t,n){var i=n.forward?e.lastLine():e.firstLine();return n.repeatIsExplicit&&(i=n.repeat-e.getOption("firstLineNumber")),c(i,e.findFirstNonWhiteSpaceCharacter(i))},textObjectManipulation:function(e,t,n,i){var o=n.selectedCharacter;"b"==o?o="(":"B"==o&&(o="{");var r,s=!n.textObjectInner;if({"(":")",")":"(","{":"}","}":"{","[":"]","]":"["}[o])r=function(e,t,n,i){var o,r,s=t,a={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[n],l={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[n],u=e.getLine(s.line).charAt(s.ch)===l?1:0;if(o=e.scanForBracket(c(s.line,s.ch+u),-1,void 0,{bracketRegex:a}),r=e.scanForBracket(c(s.line,s.ch+u),1,void 0,{bracketRegex:a}),!o||!r)return{start:s,end:s};if(o=o.pos,r=r.pos,o.line==r.line&&o.ch>r.ch||o.line>r.line){var d=o;o=r,r=d}i?r.ch+=1:o.ch+=1;return{start:o,end:r}}(e,t,o,s);else if({"'":!0,'"':!0}[o])r=function(e,t,n,i){var o,r,s,a,l=J(t),u=e.getLine(l.line).split(""),d=u.indexOf(n);l.ch<d?l.ch=d:d<l.ch&&u[l.ch]==n&&(r=l.ch,--l.ch);if(u[l.ch]!=n||r)for(s=l.ch;s>-1&&!o;s--)u[s]==n&&(o=s+1);else o=l.ch+1;if(o&&!r)for(s=o,a=u.length;s<a&&!r;s++)u[s]==n&&(r=s);if(!o||!r)return{start:l,end:l};i&&(--o,++r);return{start:c(l.line,o),end:c(l.line,r)}}(e,t,o,s);else if("W"===o)r=pe(e,s,!0,!0);else if("w"===o)r=pe(e,s,!0,!1);else{if("p"!==o)return null;if(r=xe(e,t,n.repeat,0,s),n.linewise=!0,i.visualMode)i.visualLine||(i.visualLine=!0);else{var a=i.inputState.operatorArgs;a&&(a.linewise=!0),r.end.line--}}return e.state.vim.visualMode?function(e,t,n){var i,o=e.state.vim.sel,r=o.head,s=o.anchor;ee(n,t)&&(i=n,n=t,t=i);ee(r,s)?(r=te(t,r),s=ne(s,n)):(s=te(t,s),-1==(r=Q(r=ne(r,n),0,-1)).ch&&r.line!=e.firstLine()&&(r=c(r.line-1,oe(e,r.line-1))));return[s,r]}(e,r.start,r.end):[r.start,r.end]},repeatLastCharacterSearch:function(e,t,n){var i=R.lastCharacterSearch,o=n.repeat,r=n.forward===i.forward,s=(i.increment?1:0)*(r?-1:1);e.moveH(-1*s,"char"),n.inclusive=!!r;var a=ye(e,o,r,i.selectedCharacter);return a?(a.ch+=s,a):(e.moveH(s,"char"),t)}};function K(e,t){for(var n=[],i=0;i<t;i++)n.push(e);return n}var U={change:function(e,t,n){var o,r,s=e.state.vim;if(R.macroModeState.lastInsertModeChanges.inVisualBlock=s.visualBlock,s.visualMode){r=e.getSelection();var a=K("",n.length);e.replaceSelections(a),o=te(n[0].head,n[0].anchor)}else{var l=n[0].anchor,u=n[0].head;r=e.getRange(l,u);var d=s.lastEditInputState||{};if("moveByWords"==d.motion&&!S(r)){var h=/\s+$/.exec(r);h&&d.motionArgs&&d.motionArgs.forward&&(u=Q(u,0,-h[0].length),r=r.slice(0,-h[0].length))}var p=new c(l.line-1,Number.MAX_VALUE),g=e.firstLine()==e.lastLine();u.line>e.lastLine()&&t.linewise&&!g?e.replaceRange("",p,u):e.replaceRange("",l,u),t.linewise&&(g||(e.setCursor(p),i.default.commands.newlineAndIndent(e)),l.ch=Number.MAX_VALUE),o=l}R.registerController.pushText(t.registerName,"change",r,t.linewise,n.length>1),q.enterInsertMode(e,{head:o},e.state.vim)},delete:function(e,t,n){var i,o;e.pushUndoStop();var r=e.state.vim;if(r.visualBlock){o=e.getSelection();var s=K("",n.length);e.replaceSelections(s),i=n[0].anchor}else{var a=n[0].anchor,l=n[0].head;t.linewise&&l.line!=e.firstLine()&&a.line==e.lastLine()&&a.line==l.line-1&&(a.line==e.firstLine()?a.ch=0:a=c(a.line-1,oe(e,a.line-1))),o=e.getRange(a,l),e.replaceRange("",a,l),i=a,t.linewise&&(i=V.moveToFirstNonWhiteSpaceCharacter(e,a))}return R.registerController.pushText(t.registerName,"delete",o,t.linewise,r.visualBlock),$(e,i,r.insertMode)},indent:function(e,t,n){var i=e.state.vim,o=n[0].anchor.line,r=i.visualBlock?n[n.length-1].anchor.line:n[0].head.line,s=i.visualMode?t.repeat:1;t.linewise&&r--,e.pushUndoStop();for(var a=o;a<=r;a++)for(var l=0;l<s;l++)e.indentLine(a,t.indentRight);return e.pushUndoStop(),V.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},indentAuto:function(e,t,n){return e.execCommand("indentAuto"),V.moveToFirstNonWhiteSpaceCharacter(e,n[0].anchor)},changeCase:function(e,t,n,i,o){for(var r=e.getSelections(),s=[],a=t.toLower,l=0;l<r.length;l++){var c=r[l],u="";if(!0===a)u=c.toLowerCase();else if(!1===a)u=c.toUpperCase();else for(var d=0;d<c.length;d++){var h=c.charAt(d);u+=x(h)?h.toLowerCase():h.toUpperCase()}s.push(u)}return e.replaceSelections(s),t.shouldMoveCursor?o:!e.state.vim.visualMode&&t.linewise&&n[0].anchor.line+1==n[0].head.line?V.moveToFirstNonWhiteSpaceCharacter(e,i):t.linewise?i:te(n[0].anchor,n[0].head)},yank:function(e,t,n,i){var o=e.state.vim,r=e.getSelection(),s=o.visualMode?te(o.sel.anchor,o.sel.head,n[0].head,n[0].anchor):i;return R.registerController.pushText(t.registerName,"yank",r,t.linewise,o.visualBlock),s}};var q={jumpListWalk:function(e,t,n){if(!n.visualMode){var i=t.repeat,o=t.forward,r=R.jumpList.move(e,o?i:-i),s=r?r.find():void 0;s=s||e.getCursor(),e.setCursor(s)}},scroll:function(e,t,n){if(!n.visualMode){var i=t.repeat||1,o=e.defaultTextHeight(),r=e.getScrollInfo().top,s=o*i,a=t.forward?r+s:r-s,l=J(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)a>c.top?(l.line+=(a-c.top)/o,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,a);else{var u=a+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/o,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,a)}}},scrollToCursor:function(e,t){e.moveCurrentLineTo(t.position)},replayMacro:function(e,t,n){var i=t.selectedCharacter,o=t.repeat,r=R.macroModeState;for("@"==i&&(i=r.latestRegister);o--;)qe(e,n,r,i)},enterMacroRecordMode:function(e,t){var n=R.macroModeState,i=t.selectedCharacter;R.registerController.isValidRegister(i)&&n.enterMacroRecordMode(e,i)},toggleOverwrite:function(e){e.replaceMode?(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),i.default.signal(e,"vim-mode-change",{mode:"insert"})):(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),i.default.signal(e,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(e,t,n){if(!e.getOption("readOnly")){n.insertMode=!0,n.insertModeRepeat=t&&t.repeat||1,e.leaveVimMode();var o=t?t.insertAt:null,r=n.sel,s=t.head||e.getCursor("head"),a=e.listSelections().length;if("eol"==o)s=c(s.line,oe(e,s.line));else if("charAfter"==o)s=Q(s,0,1);else if("firstNonBlank"==o)s=V.moveToFirstNonWhiteSpaceCharacter(e,s);else if("startOfSelectedArea"==o)n.visualBlock?(s=c(Math.min(r.head.line,r.anchor.line),Math.min(r.head.ch,r.anchor.ch)),a=Math.abs(r.head.line-r.anchor.line)+1):s=r.head.line<r.anchor.line?r.head:c(r.anchor.line,0);else if("endOfSelectedArea"==o)n.visualBlock?(s=c(Math.min(r.head.line,r.anchor.line),Math.max(r.head.ch+1,r.anchor.ch)),a=Math.abs(r.head.line-r.anchor.line)+1):s=r.head.line>=r.anchor.line?Q(r.head,0,1):c(r.anchor.line,0);else if("inplace"==o&&n.visualMode)return;e.setOption("disableInput",!1),n.visualMode&&he(e),t&&t.replace?(e.toggleOverwrite(!0),e.setOption("keyMap","vim-replace"),i.default.signal(e,"vim-mode-change",{mode:"replace"})):(e.toggleOverwrite(!1),e.setOption("keyMap","vim-insert"),i.default.signal(e,"vim-mode-change",{mode:"insert"})),R.macroModeState.isPlaying||(e.on("change",$e),i.default.on(e.getInputField(),"keydown",Ze)),le(e,s,a)}},toggleVisualMode:function(e,t,n){var o,r=t.repeat,s=e.getCursor();n.visualMode?n.visualLine^t.linewise||n.visualBlock^t.blockwise?(n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,i.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""}),ue(e)):he(e):(n.visualMode=!0,n.visualLine=!!t.linewise,n.visualBlock=!!t.blockwise,o=$(e,c(s.line,s.ch+r-1),!0),n.sel={anchor:s,head:o},i.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""}),ue(e),_e(e,n,"<",te(s,o)),_e(e,n,">",ne(s,o)))},reselectLastSelection:function(e,t,n){var o=n.lastSelection;if(n.visualMode&&ce(e,n),o){var r=o.anchorMark.find(),s=o.headMark.find();if(!r||!s)return;n.sel={anchor:r,head:s},n.visualMode=!0,n.visualLine=o.visualLine,n.visualBlock=o.visualBlock,ue(e),_e(e,n,"<",te(r,s)),_e(e,n,">",ne(r,s)),i.default.signal(e,"vim-mode-change",{mode:"visual",subMode:n.visualLine?"linewise":n.visualBlock?"blockwise":""})}},joinLines:function(e,t,n){var i,o;if(n.visualMode){if(i=e.getCursor("anchor"),ee(o=e.getCursor("head"),i)){var r=o;o=i,i=r}o.ch=oe(e,o.line)-1}else{var s=Math.max(t.repeat,2);i=e.getCursor(),o=$(e,c(i.line+s-1,1/0))}for(var a=0,l=i.line;l<o.line;l++){a=oe(e,i.line);r=c(i.line+1,oe(e,i.line+1));var u=e.getRange(i,r);u=u.replace(/\n\s*/g," "),e.replaceRange(u,i,r)}var d=c(i.line,a);n.visualMode&&he(e,!1),e.setCursor(d)},newLineAndEnterInsertMode:function(e,t,n){n.insertMode=!0;var o=J(e.getCursor());o.line!==e.firstLine()||t.after?(o.line=t.after?o.line:o.line-1,o.ch=oe(e,o.line),e.setCursor(o),(i.default.commands.newlineAndIndentContinueComment||i.default.commands.newlineAndIndent)(e)):(e.replaceRange("\n",c(e.firstLine(),0)),e.setCursor(e.firstLine(),0));this.enterInsertMode(e,{repeat:t.repeat},n)},paste:function(e,t,n){var i=J(e.getCursor()),o=R.registerController.getRegister(t.registerName);if(p=o.toString()){if(t.matchIndent){var r=e.getOption("tabSize"),s=function(e){var t=e.split("\t").length-1,n=e.split(" ").length-1;return t*r+1*n},a=e.getLine(e.getCursor().line),l=s(a.match(/^\s*/)[0]),u=p.replace(/\n$/,""),d=p!==u,h=s(p.match(/^\s*/)[0]),p=u.replace(/^\s*/gm,(function(t){var n=l+(s(t)-h);if(n<0)return"";if(e.getOption("indentWithTabs")){var i=Math.floor(n/r);return Array(i+1).join("\t")}return Array(n+1).join(" ")}));p+=d?"\n":""}if(t.repeat>1)p=Array(t.repeat+1).join(p);var g,f,m=o.linewise,v=o.blockwise;if(m)n.visualMode?p=n.visualLine?p.slice(0,-1):"\n"+p.slice(0,p.length-1)+"\n":t.after?(p="\n"+p.slice(0,p.length-1),i.ch=oe(e,i.line)):i.ch=0;else{if(v){p=p.split("\n");for(var b=0;b<p.length;b++)p[b]=""==p[b]?" ":p[b]}i.ch+=t.after?1:0}if(n.visualMode){var y;n.lastPastedText=p;var _=function(e,t){var n=t.lastSelection,i=function(){var t=e.listSelections(),n=t[0],i=t[t.length-1];return[ee(n.anchor,n.head)?n.anchor:n.head,ee(i.anchor,i.head)?i.head:i.anchor]},o=function(){var t=e.getCursor(),i=e.getCursor(),o=n.visualBlock;if(o){var r=o.width,s=o.height;i=c(t.line+s,t.ch+r);for(var a=[],l=t.line;l<i.line;l++){var u={anchor:c(l,t.ch),head:c(l,i.ch)};a.push(u)}e.setSelections(a)}else{var d=n.anchorMark.find(),h=n.headMark.find(),p=h.line-d.line,g=h.ch-d.ch;i={line:i.line+p,ch:p?i.ch:g+i.ch},n.visualLine&&(t=c(t.line,0),i=c(i.line,oe(e,i.line))),e.setSelection(t,i)}return[t,i]};return t.visualMode?i():o()}(e,n),C=_[0],x=_[1],S=e.getSelection(),w=e.listSelections(),k=new Array(w.length).join("1").split("1");n.lastSelection&&(y=n.lastSelection.headMark.find()),R.registerController.unnamedRegister.setText(S),v?(e.replaceSelections(k),x=c(C.line+p.length-1,C.ch),e.setCursor(C),ae(e,x),e.replaceSelections(p),g=C):n.visualBlock?(e.replaceSelections(k),e.setCursor(C),e.replaceRange(p,C,C),g=C):(e.replaceRange(p,C,x),g=e.posFromIndex(e.indexFromPos(C)+p.length-1)),y&&(n.lastSelection.headMark=e.setBookmark(y)),m&&(g.ch=0)}else if(v){e.setCursor(i);for(b=0;b<p.length;b++){var E=i.line+b;E>e.lastLine()&&e.replaceRange("\n",c(E,0)),oe(e,E)<i.ch&&se(e,E,i.ch)}e.setCursor(i),ae(e,c(i.line+p.length-1,i.ch)),e.replaceSelections(p),g=i}else e.replaceRange(p,i),m&&t.after?g=c(i.line+1,e.findFirstNonWhiteSpaceCharacter(i.line+1)):m&&!t.after?g=c(i.line,e.findFirstNonWhiteSpaceCharacter(i.line)):!m&&t.after?(f=e.indexFromPos(i),g=e.posFromIndex(f+p.length-1)):(f=e.indexFromPos(i),g=e.posFromIndex(f+p.length));n.visualMode&&he(e,!1),e.setCursor(g)}},undo:function(e,t){e.operation((function(){Z(e,i.default.commands.undo,t.repeat)(),e.setCursor(e.getCursor("anchor"))}))},redo:function(e,t){Z(e,i.default.commands.redo,t.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){_e(e,n,t.selectedCharacter,e.getCursor())},replace:function(e,t,n){var o,r,s=t.selectedCharacter,a=e.getCursor(),l=e.listSelections();if(n.visualMode)a=e.getCursor("start"),r=e.getCursor("end");else{var u=e.getLine(a.line);(o=a.ch+t.repeat)>u.length&&(o=u.length),r=c(a.line,o)}if("\n"==s)n.visualMode||e.replaceRange("",a,r),(i.default.commands.newlineAndIndentContinueComment||i.default.commands.newlineAndIndent)(e);else{var d=e.getRange(a,r);if(d=d.replace(/[^\n]/g,s),n.visualBlock){var h=new Array(e.getOption("tabSize")+1).join(" ");d=(d=e.getSelection()).replace(/\t/g,h).replace(/[^\n]/g,s).split("\n"),e.replaceSelections(d)}else e.replaceRange(d,a,r);n.visualMode?(a=ee(l[0].anchor,l[0].head)?l[0].anchor:l[0].head,e.setCursor(a),he(e,!1)):e.setCursor(Q(r,0,-1))}},incrementNumberToken:function(e,t){for(var n,i,o,r,s=e.getCursor(),a=e.getLine(s.line),l=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi;null!==(n=l.exec(a))&&(o=(i=n.index)+n[0].length,!(s.ch<o)););if((t.backtrack||!(o<=s.ch))&&n){var u=n[2]||n[4],d=n[3]||n[5],h=t.increase?1:-1,p={"0b":2,0:8,"":10,"0x":16}[u.toLowerCase()];r=(parseInt(n[1]+d,p)+h*t.repeat).toString(p);var g=u?new Array(d.length-r.length+1+n[1].length).join("0"):"";r="-"===r.charAt(0)?"-"+u+g+r.substr(1):u+g+r;var f=c(s.line,i),m=c(s.line,o);e.replaceRange(r,f,m),e.setCursor(c(s.line,i+r.length-1))}},repeatLastEdit:function(e,t,n){if(n.lastEditInputState){var i=t.repeat;i&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=i:i=n.lastEditInputState.repeatOverride||i,Je(e,n,i,!1)}},indent:function(e,t){e.indentLine(e.getCursor().line,t.indentRight)},exitInsertMode:Ke};function $(e,t,n){var i=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=oe(e,i)-1;o=n?o+1:o;var r=Math.min(Math.max(0,t.ch),o);return c(i,r)}function G(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Q(e,t,n){return"object"===o(t)&&(n=t.ch,t=t.line),c(e.line+t,e.ch+n)}function X(e,t){if("<character>"==t.slice(-11)){var n=t.length-11,i=e.slice(0,n),o=t.slice(0,n);return i==o&&e.length>n?"full":0==o.indexOf(i)&&"partial"}return e==t?"full":0==t.indexOf(e)&&"partial"}function Z(e,t,n){return function(){for(var i=0;i<n;i++)t(e)}}function J(e){return c(e.line,e.ch)}function Y(e,t){return e.ch==t.ch&&e.line==t.line}function ee(e,t){return e.line<t.line||e.line==t.line&&e.ch<t.ch}function te(e,t){return arguments.length>2&&(t=te.apply(void 0,Array.prototype.slice.call(arguments,1))),ee(e,t)?e:t}function ne(e,t){return arguments.length>2&&(t=ne.apply(void 0,Array.prototype.slice.call(arguments,1))),ee(e,t)?t:e}function ie(e,t,n){var i=ee(e,t),o=ee(t,n);return i&&o}function oe(e,t){return e.getLine(t).length}function re(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function se(e,t,n){var i=oe(e,t),o=new Array(n-i+1).join(" ");e.setCursor(c(t,i)),e.replaceRange(o,e.getCursor())}function ae(e,t){var n=[],i=e.listSelections(),o=J(e.clipPos(t)),r=!Y(t,o),s=function(e,t,n){for(var i=0;i<e.length;i++){var o="head"!=n&&Y(e[i].anchor,t),r="anchor"!=n&&Y(e[i].head,t);if(o||r)return i}return-1}(i,e.getCursor("head")),a=Y(i[s].head,i[s].anchor),l=i.length-1,u=l-s>s?l:0,d=i[u].anchor,h=Math.min(d.line,o.line),p=Math.max(d.line,o.line),g=d.ch,f=o.ch,m=i[u].head.ch-g,v=f-g;m>0&&v<=0?(g++,r||f--):m<0&&v>=0?(g--,a||f++):m<0&&-1==v&&(g--,f++);for(var b=h;b<=p;b++){var y={anchor:new c(b,g),head:new c(b,f)};n.push(y)}return e.setSelections(n),t.ch=f,d.ch=g,d}function le(e,t,n){for(var i=[],o=0;o<n;o++){var r=Q(t,o,0);i.push({anchor:r,head:r})}e.setSelections(i,0)}function ce(e,t){var n=t.sel.anchor,i=t.sel.head;t.lastPastedText&&(i=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null),t.lastSelection={anchorMark:e.setBookmark(n),headMark:e.setBookmark(i),anchor:J(n),head:J(i),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:t.visualBlock}}function ue(e,t,n){var i=e.state.vim,o=de(e,t=t||i.sel,n=n||i.visualLine?"line":i.visualBlock?"block":"char",i.visualMode&&"char"===n);e.setSelections(o.ranges,o.primary),Qe(e)}function de(e,t,n,i){var o=J(t.head),r=J(t.anchor);if("char"==n){var s=i||ee(t.head,t.anchor)?0:1,a=ee(t.head,t.anchor)?1:0;return o=Q(t.head,0,s),{ranges:[{anchor:r=Q(t.anchor,0,a),head:o}],primary:0}}if("line"==n){if(ee(t.head,t.anchor))o.ch=0,r.ch=oe(e,r.line);else{r.ch=0;var l=e.lastLine();o.line>l&&(o.line=l),o.ch=oe(e,o.line)}return{ranges:[{anchor:r,head:o}],primary:0}}if("block"==n){for(var u=Math.min(r.line,o.line),d=Math.min(r.ch,o.ch),h=Math.max(r.line,o.line),p=Math.max(r.ch,o.ch)+1,g=h-u+1,f=o.line==u?0:g-1,m=[],v=0;v<g;v++)m.push({anchor:c(u+v,d),head:c(u+v,p)});return{ranges:m,primary:f}}}function he(e,t){var n=e.state.vim;!1!==t&&e.setCursor($(e,n.sel.head)),ce(e,n),n.visualMode=!1,n.visualLine=!1,n.visualBlock=!1,i.default.signal(e,"vim-mode-change",{mode:"normal"}),n.fakeCursor&&n.fakeCursor.clear()}function pe(e,t,n,i,o){for(var r=function(e){var t=e.getCursor("head");return 1==e.getSelection().length&&(t=te(t,e.getCursor("anchor"))),t}(e),s=e.getLine(r.line),a=r.ch,l=o?h[0]:p[0];!l(s.charAt(a));)if(++a>=s.length)return null;i?l=p[0]:(l=h[0])(s.charAt(a))||(l=h[1]);for(var u=a,d=a;l(s.charAt(u))&&u<s.length;)u++;for(;l(s.charAt(d))&&d>=0;)d--;if(d++,t){for(var g=u;/\s/.test(s.charAt(u))&&u<s.length;)u++;if(g==u){for(var f=d;/\s/.test(s.charAt(d-1))&&d>0;)d--;d||(d=f)}}return{start:c(r.line,d),end:c(r.line,u)}}function ge(e,t,n){Y(t,n)||R.jumpList.add(e,t,n)}function fe(e,t){R.lastCharacterSearch.increment=e,R.lastCharacterSearch.forward=t.forward,R.lastCharacterSearch.selectedCharacter=t.selectedCharacter}var me={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},ve={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};function be(e,t,n,i,o){var r=t.line,s=t.ch,a=e.getLine(r),l=n?1:-1,c=i?p:h;if(o&&""==a){if(r+=l,a=e.getLine(r),!_(e,r))return null;s=n?0:a.length}for(;;){if(o&&""==a)return{from:0,to:0,line:r};for(var u=l>0?a.length:-1,d=u,g=u;s!=u;){for(var f=!1,m=0;m<c.length&&!f;++m)if(c[m](a.charAt(s))){for(d=s;s!=u&&c[m](a.charAt(s));)s+=l;if(f=d!=(g=s),d==t.ch&&r==t.line&&g==d+l)continue;return{from:Math.min(d,g+1),to:Math.max(d,g),line:r}}f||(s+=l)}if(!_(e,r+=l))return null;a=e.getLine(r),s=l>0?0:a.length}}function ye(e,t,n,i){for(var o,r=e.getCursor(),s=r.ch,a=0;a<t;a++){if(-1==(o=Ce(s,e.getLine(r.line),i,n,!0)))return null;s=o}return c(e.getCursor().line,o)}function _e(e,t,n,i){k(n,b)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(i))}function Ce(e,t,n,i,o){var r;return i?-1==(r=t.indexOf(n,e+1))||o||(r-=1):-1==(r=t.lastIndexOf(n,e-1))||o||(r+=1),r}function xe(e,t,n,i,o){var r,s=t.line,a=e.firstLine(),l=e.lastLine(),u=s;function d(t){return!e.getLine(t)}function h(e,t,n){return n?d(e)!=d(e+t):!d(e)&&d(e+t)}if(i){for(;a<=u&&u<=l&&n>0;)h(u,i)&&n--,u+=i;return new c(u,0)}var p=e.state.vim;if(p.visualLine&&h(s,1,!0)){var g=p.sel.anchor;h(g.line,-1,!0)&&(o&&g.line==s||(s+=1))}var f=d(s);for(u=s;u<=l&&n;u++)h(u,1,!0)&&(o&&d(u)==f||n--);for(r=new c(u,0),u>l&&!f?f=!0:o=!1,u=s;u>a&&(o&&d(u)!=f&&u!=s||!h(u,-1,!0));u--);return{start:new c(u,0),end:r}}function Se(){}function we(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new Se)}function ke(e,t,n,i,o){e.openDialog?e.openDialog(t,i,{bottom:!0,value:o.value,onKeyDown:o.onKeyDown,onKeyUp:o.onKeyUp,selectValueOnOpen:!1}):i(prompt(n,""))}function Ee(e,t){var n=De(e,t)||[];if(!n.length)return[];var i=[];if(0===n[0]){for(var o=0;o<n.length;o++)"number"==typeof n[o]&&i.push(e.substring(n[o]+1,n[o+1]));return i}}function De(e,t){t||(t="/");for(var n=!1,i=[],o=0;o<e.length;o++){var r=e.charAt(o);n||r!=t||i.push(o),n=!n&&"\\"==r}return i}D("pcre",!0,"boolean"),Se.prototype={getQuery:function(){return R.query},setQuery:function(e){R.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return R.isReversed},setReversed:function(e){R.isReversed=e},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(e){this.annotate=e}};var Ie={"\\n":"\n","\\r":"\r","\\t":"\t"};var Ae={"\\/":"/","\\\\":"\\","\\n":"\n","\\r":"\r","\\t":"\t"};function Re(e,t,n){if(R.registerController.getRegister("/").setText(e),e instanceof RegExp)return e;var i,o,r=De(e,"/");r.length?(i=e.substring(0,r[0]),o=-1!=e.substring(r[0]).indexOf("i")):i=e;return i?(A("pcre")||(i=function(e){for(var t=!1,n=[],i=-1;i<e.length;i++){var o=e.charAt(i)||"",r=e.charAt(i+1)||"",s=r&&-1!="|(){".indexOf(r);t?("\\"===o&&s||n.push(o),t=!1):"\\"===o?(t=!0,r&&-1!="}".indexOf(r)&&(s=!0),s&&"\\"!==r||n.push(o)):(n.push(o),s&&"\\"!==r&&n.push("\\"))}return n.join("")}(i)),n&&(t=/^[^A-Z]*$/.test(i)),new RegExp(i,t||o?"i":void 0)):null}function Le(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}var Me="(Javascript regexp)";function Te(e,t){var n,i,o,r=(t.prefix||"")+" "+(t.desc||"");ke(e,(n=t.prefix,i=t.desc,o='<span style="font-family: monospace; white-space: pre">'+(n||"")+'<input type="text"></span>',i&&(o+=' <span style="color: #888">'+i+"</span>"),o),r,t.onClose,t)}function Ne(e,t,n,i){if(t){var o=we(e),r=Re(t,!!n,!!i);if(r)return Pe(e,r),function(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],i=0;i<n.length;i++){var o=n[i];if(e[o]!==t[o])return!1}return!0}return!1}(r,o.getQuery())||o.setQuery(r),r}}function Pe(e,t){var n=we(e),i=n.getOverlay();i&&t==i.query||(i&&e.removeOverlay(i),i=function(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(!t||n.sol()){var i=n.match(e,!1);if(i)return 0==i[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+i[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););}else n.skipToEnd()},query:e}}(t),e.addOverlay(i),e.showMatchesOnScrollbar&&(n.getScrollbarAnnotate()&&n.getScrollbarAnnotate().clear(),n.setScrollbarAnnotate(e.showMatchesOnScrollbar(t))),n.setOverlay(i))}function Oe(e,t,n,i){return void 0===i&&(i=1),e.operation((function(){for(var o=e.getCursor(),r=e.getSearchCursor(n,o),s=0;s<i;s++){var a=r.find(t);if(0==s&&a&&Y(r.from(),o)&&(a=r.find(t)),!a&&!(r=e.getSearchCursor(n,t?c(e.lastLine()):c(e.firstLine(),0))).find(t))return}return r.from()}))}function Fe(e){var t=we(e);e.removeOverlay(we(e).getOverlay()),t.setOverlay(null),t.getScrollbarAnnotate()&&(t.getScrollbarAnnotate().clear(),t.setScrollbarAnnotate(null))}function ze(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?k(e,t):n?e>=t&&e<=n:e==t}function Be(e){return e.getUserVisibleLines()}function He(e,t,n){if("'"==n){var i=e.doc.history.done,o=i[i.length-2];return o&&o.ranges&&o.ranges[0].head}if("."==n){if(0==e.doc.history.lastModTime)return;var r=e.doc.history.done.filter((function(e){if(void 0!==e.changes)return e}));return r.reverse(),r[0].changes[0].to}var s=t.marks[n];return s&&s.find()}var We=function(){this.buildCommandMap_()};We.prototype={processCommand:function(e,t,n){var i=this;e.operation((function(){e.curOp.isVimOp=!0,i._processCommand(e,t,n)}))},_processCommand:function(e,t,n){var o=e.state.vim,r=R.registerController.getRegister(":"),s=r.toString();o.visualMode&&he(e);var a=new i.default.StringStream(t);r.setText(t);var l,c,u=n||{};u.input=t;try{this.parseInput_(e,a,u)}catch(t){throw Le(e,t),t}if(u.commandName){if(l=this.matchCommand_(u.commandName)){if(c=l.name,l.excludeFromCommandHistory&&r.setText(s),this.parseCommandArgs_(a,u,l),"exToKey"==l.type){for(var d=0;d<l.toKeys.length;d++)i.default.Vim.handleKey(e,l.toKeys[d],"mapping");return}if("exToEx"==l.type)return void this.processCommand(e,l.toInput)}}else void 0!==u.line&&(c="move");if(c)try{je[c](e,u),l&&l.possiblyAsync||!u.callback||u.callback()}catch(t){throw Le(e,t),t}else Le(e,'Not an editor command ":'+t+'"')},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var i=t.match(/^(\w+)/);return n.commandName=i?i[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return this.parseLineSpecOffset_(t,e.getCursor().line);case"$":return this.parseLineSpecOffset_(t,e.lastLine());case"'":var i=t.next(),o=He(e,e.state.vim,i);if(!o)throw new Error("Mark not set");return this.parseLineSpecOffset_(t,o.line);case"-":case"+":return t.backUp(1),this.parseLineSpecOffset_(t,e.getCursor().line);default:return void t.backUp(1)}},parseLineSpecOffset_:function(e,t){var n=e.match(/^([+-])?(\d+)/);if(n){var i=parseInt(n[2],10);"-"==n[1]?t-=i:t+=i}return t},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var i=n.argDelimiter||/\s+/,o=re(t.argString).split(i);o.length&&o[0]&&(t.args=o)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var i=this.commandMap_[n];if(0===i.name.indexOf(e))return i}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<l.length;e++){var t=l[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(e,t,n){if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=e.substring(1);":"!=t&&":"==t.charAt(0)?this.commandMap_[i]={name:i,type:"exToEx",toInput:t.substring(1),user:!0}:this.commandMap_[i]={name:i,type:"exToKey",toKeys:t,user:!0}}else if(":"!=t&&":"==t.charAt(0)){var o={keys:e,type:"keyToEx",exArgs:{input:t.substring(1)}};n&&(o.context=n),s.unshift(o)}else{o={keys:e,type:"keyToKey",toKeys:t};n&&(o.context=n),s.unshift(o)}},unmap:function(e,t){if(":"!=e&&":"==e.charAt(0)){if(t)throw Error("Mode not supported for ex mappings");var n=e.substring(1);if(this.commandMap_[n]&&this.commandMap_[n].user)return void delete this.commandMap_[n]}else for(var i=e,o=0;o<s.length;o++)if(i==s[o].keys&&s[o].context===t)return void s.splice(o,1);throw Error("No such mapping.")}};var je={colorscheme:function(e,t){!t.args||t.args.length<1?Le(e,e.getOption("theme")):e.setOption("theme",t.args[0])},map:function(e,t,n){var i=t.args;!i||i.length<2?e&&Le(e,"Invalid mapping: "+t.input):Ve.map(i[0],i[1],n)},imap:function(e,t){this.map(e,t,"insert")},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var i=t.args;!i||i.length<1?e&&Le(e,"No such mapping: "+t.input):Ve.unmap(i[0],n)},move:function(e,t){j.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args,i=t.setCfg||{};if(!n||n.length<1)e&&Le(e,"Invalid mapping: "+t.input);else{var o=n[0].split("="),r=o[0],s=o[1],a=!1;if("?"==r.charAt(r.length-1)){if(s)throw Error("Trailing characters: "+t.argString);r=r.substring(0,r.length-1),a=!0}void 0===s&&"no"==r.substring(0,2)&&(r=r.substring(2),s=!1);var l=E[r]&&"boolean"==E[r].type;if(l&&null==s&&(s=!0),!l&&void 0===s||a){var c=A(r,e,i);c instanceof Error?Le(e,c.message):Le(e,!0===c||!1===c?" "+(c?"":"no")+r:"  "+r+"="+c)}else{var u=I(r,s,e,i);u instanceof Error&&Le(e,u.message)}}},setlocal:function(e,t){t.setCfg={scope:"local"},this.set(e,t)},setglobal:function(e,t){t.setCfg={scope:"global"},this.set(e,t)},registers:function(e,t){var n=t.args,i=R.registerController.registers,o="----------Registers----------<br><br>";if(n){n=n.join("");for(var r=0;r<n.length;r++){if(s=n.charAt(r),R.registerController.isValidRegister(s))o+='"'+s+"    "+(i[s]||new B).toString()+"<br>"}}else for(var s in i){var a=i[s].toString();a.length&&(o+='"'+s+"    "+a+"<br>")}Le(e,o)},sort:function(e,t){var n,o,r,s,a;var l=function(){if(t.argString){var e=new i.default.StringStream(t.argString);if(e.eat("!")&&(n=!0),e.eol())return;if(!e.eatSpace())return"Invalid arguments";var l=e.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!l&&!e.eol())return"Invalid arguments";if(l[1]){o=-1!=l[1].indexOf("i"),r=-1!=l[1].indexOf("u");var c=-1!=l[1].indexOf("d")||-1!=l[1].indexOf("n")&&1,u=-1!=l[1].indexOf("x")&&1,d=-1!=l[1].indexOf("o")&&1;if(c+u+d>1)return"Invalid arguments";s=(c?"decimal":u&&"hex")||d&&"octal"}l[2]&&(a=new RegExp(l[2].substr(1,l[2].length-2),o?"i":""))}}();if(l)Le(e,l+": "+t.argString);else{var u=t.line||e.firstLine(),d=t.lineEnd||t.line||e.lastLine();if(u!=d){var h=c(u,0),p=c(d,oe(e,d)),g=e.getRange(h,p).split("\n"),f=a||("decimal"==s?/(-?)([\d]+)/:"hex"==s?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==s?/([0-7]+)/:null),m="decimal"==s?10:"hex"==s?16:"octal"==s?8:null,v=[],b=[];if(s||a)for(var y=0;y<g.length;y++){var _=a?g[y].match(a):null;_&&""!=_[0]?v.push(_):!a&&f.exec(g[y])?v.push(g[y]):b.push(g[y])}else b=g;if(v.sort(a?function(e,t){var i;return n&&(i=e,e=t,t=i),o&&(e[0]=e[0].toLowerCase(),t[0]=t[0].toLowerCase()),e[0]<t[0]?-1:1}:S),a)for(y=0;y<v.length;y++)v[y]=v[y].input;else s||b.sort(S);if(g=n?v.concat(b):b.concat(v),r){var C,x=g;g=[];for(y=0;y<x.length;y++)x[y]!=C&&g.push(x[y]),C=x[y]}e.replaceRange(g.join("\n"),h,p)}}function S(e,t){var i;n&&(i=e,e=t,t=i);o&&(e=e.toLowerCase(),t=t.toLowerCase());var r=s&&f.exec(e),a=s&&f.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),m))-(a=parseInt((a[1]+a[2]).toLowerCase(),m)):e<t?-1:1}},global:function(e,t){var n=t.argString;if(n){var i,o=void 0!==t.line?t.line:e.firstLine(),r=t.lineEnd||t.line||e.lastLine(),s=function(e){return Ee(e,"/")}(n),a=n;if(s.length&&(a=s[0],i=s.slice(1,s.length).join("/")),a)try{Ne(e,a,!0,!0)}catch(t){return void Le(e,"Invalid regex: "+a)}for(var l=we(e).getQuery(),c=[],u="",d=o;d<=r;d++){l.test(e.getLine(d))&&(c.push(d+1),u+=e.getLine(d)+"<br>")}if(i){var h=0;!function t(){if(h<c.length){var n=c[h]+i;Ve.processCommand(e,n,{callback:t})}h++}()}else Le(e,u)}else Le(e,"Regular Expression missing from global")},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var n,o,r,s,a=t.argString,l=a?Ee(a,a[0]):[],u="",h=!1,p=!1;if(l.length)n=l[0],u=l[1],n&&"$"===n[n.length-1]&&(n=n.slice(0,n.length-1)+"\\n",u=u?u+"\n":"\n"),void 0!==u&&(u=A("pcre")?function(e){for(var t=new i.default.StringStream(e),n=[];!t.eol();){for(;t.peek()&&"\\"!=t.peek();)n.push(t.next());var o=!1;for(var r in Ae)if(t.match(r,!0)){o=!0,n.push(Ae[r]);break}o||n.push(t.next())}return n.join("")}(u):function(e){for(var t,n=!1,i=[],o=-1;o<e.length;o++){var r=e.charAt(o)||"",s=e.charAt(o+1)||"";Ie[r+s]?(i.push(Ie[r+s]),o++):n?(i.push(r),n=!1):"\\"===r?(n=!0,t=s,d.test(t)||"$"===s?i.push("$"):"/"!==s&&"\\"!==s&&i.push("\\")):("$"===r&&i.push("$"),i.push(r),"/"===s&&i.push("\\"))}return i.join("")}(u),R.lastSubstituteReplacePart=u),o=l[2]?l[2].split(" "):[];else if(a&&a.length)return void Le(e,"Substitutions should be of the form :s/pattern/replace/");if(o&&(r=o[0],s=parseInt(o[1]),r&&(-1!=r.indexOf("c")&&(h=!0,r.replace("c","")),-1!=r.indexOf("g")&&(p=!0,r.replace("g","")),n=n.replace(/\//g,"\\/")+"/"+r)),n)try{Ne(e,n,!0,!0)}catch(t){return void Le(e,"Invalid regex: "+n)}if(void 0!==(u=u||R.lastSubstituteReplacePart)){var g=we(e).getQuery(),f=void 0!==t.line?t.line:e.getCursor().line,m=t.lineEnd||f;f==e.firstLine()&&m==e.lastLine()&&(m=1/0),s&&(m=(f=m)+s-1);var v=$(e,c(f,0)),b=e.getSearchCursor(g,v);e.pushUndoStop(),function(e,t,n,o,r,s,a,l,c){e.state.vim.exMode=!0;var u=!1,d=s.from();function h(){e.operation(function(){for(;!u;)p(),g(!1);f()}.bind(this))}function p(){var t=e.getRange(s.from(),s.to()).replace(a,l);s.replace(t)}function g(t){for(;s.findNext()&&ze(s.from(),o,r);)if(n||!d||s.from().line!=d.line)return e.scrollIntoView(s.from(),30),t&&e.setSelection(s.from(),s.to()),d=s.from(),void(u=!1);u=!0}function f(t){if(t&&t(),e.focus(),d){e.setCursor(d);var n=e.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=d.ch}c&&c()}function m(t,n,o){switch(i.default.e_stop(t),i.default.keyName(t)){case"y":case"Y":p(),g();break;case"n":case"N":g();break;case"a":case"A":var r=c;c=void 0,e.operation(h),c=r;break;case"l":case"L":p();case"q":case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":f(o)}return u&&f(o),!0}if(g(!0),u)return void Le(e,"No matches for "+a.source);if(!t)return h(),void(c&&c());Te(e,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:m})}(e,h,p,f,m,b,g,u,t.callback)}else Le(e,"No previous substitute regular expression")},redo:i.default.commands.redo,undo:i.default.commands.undo,write:function(e){i.default.commands.save?i.default.commands.save(e):e.save&&e.save()},nohlsearch:function(e){Fe(e)},yank:function(e){var t=J(e.getCursor()).line,n=e.getLine(t);R.registerController.pushText("0","yank",n,!0,!0)},delmarks:function(e,t){if(t.argString&&re(t.argString))for(var n=e.state.vim,o=new i.default.StringStream(re(t.argString));!o.eol();){o.eatSpace();var r=o.pos;if(!o.match(/[a-zA-Z]/,!1))return void Le(e,"Invalid argument: "+t.argString.substring(r));var s=o.next();if(o.match("-",!0)){if(!o.match(/[a-zA-Z]/,!1))return void Le(e,"Invalid argument: "+t.argString.substring(r));var a=s,l=o.next();if(!(C(a)&&C(l)||x(a)&&x(l)))return void Le(e,"Invalid argument: "+a+"-");var c=a.charCodeAt(0),u=l.charCodeAt(0);if(c>=u)return void Le(e,"Invalid argument: "+t.argString.substring(r));for(var d=0;d<=u-c;d++){var h=String.fromCharCode(c+d);delete n.marks[h]}}else delete n.marks[s]}else Le(e,"Argument required")}},Ve=new We;function Ke(e){var t=e.state.vim,n=R.macroModeState,o=R.registerController.getRegister("."),r=n.isPlaying,s=n.lastInsertModeChanges,a=[];if(!r){for(var l=s.inVisualBlock&&t.lastSelection?t.lastSelection.visualBlock.height:1,c=s.changes,u=(a=[],0);u<c.length;)a.push(c[u]),c[u]instanceof Xe?u++:u+=l;s.changes=a,e.off("change",$e),i.default.off(e.getInputField(),"keydown",Ze)}!r&&t.insertModeRepeat>1&&(Je(e,t,t.insertModeRepeat-1,!0),t.lastEditInputState.repeatOverride=t.insertModeRepeat),delete t.insertModeRepeat,t.insertMode=!1,e.setCursor(e.getCursor().line,e.getCursor().ch-1),e.setOption("keyMap","vim"),e.setOption("disableInput",!0),e.toggleOverwrite(!1),o.setText(s.changes.join("")),i.default.signal(e,"vim-mode-change",{mode:"normal"}),n.isRecording&&function(e){if(e.isPlaying)return;var t=e.latestRegister,n=R.registerController.getRegister(t);n&&n.pushInsertModeChanges&&n.pushInsertModeChanges(e.lastInsertModeChanges)}(n),e.enterVimMode()}function Ue(e){s.unshift(e)}function qe(e,t,n,o){var r=R.registerController.getRegister(o);if(":"==o)return r.keyBuffer[0]&&Ve.processCommand(e,r.keyBuffer[0]),void(n.isPlaying=!1);var s=r.keyBuffer,a=0;n.isPlaying=!0,n.replaySearchQueries=r.searchQueries.slice(0);for(var l=0;l<s.length;l++)for(var c,u,d=s[l];d;)if(u=(c=/<\w+-.+?>|<\w+>|./.exec(d))[0],d=d.substring(c.index+u.length),i.default.Vim.handleKey(e,u,"macro"),t.insertMode){var h=r.insertModeChanges[a++].changes;R.macroModeState.lastInsertModeChanges.changes=h,Ye(e,h,1),Ke(e)}n.isPlaying=!1}function $e(e,t){var n=R.macroModeState,i=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(i.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var o=t.text.join("\n");i.maybeReset&&(i.changes=[],i.maybeReset=!1),e.state.overwrite&&!/\n/.test(o)?i.changes.push([o]):i.changes.push(o)}t=t.next}}function Ge(e){var t=e.state.vim;if(t.insertMode){var n=R.macroModeState;if(n.isPlaying)return;var o=n.lastInsertModeChanges;o.expectCursorActivityForChange?o.expectCursorActivityForChange=!1:o.maybeReset=!0}else e.curOp.isVimOp||function(e,t){var n=e.getCursor("anchor"),o=e.getCursor("head");t.visualMode&&!e.somethingSelected()?he(e,!1):t.visualMode||t.insertMode||!e.somethingSelected()||(t.visualMode=!0,t.visualLine=!1,i.default.signal(e,"vim-mode-change",{mode:"visual"}));if(t.visualMode){var r=ee(o,n)?0:-1,s=ee(o,n)?-1:0;o=Q(o,0,r),n=Q(n,0,s),t.sel={anchor:n,head:o},_e(e,t,"<",te(o,n)),_e(e,t,">",ne(o,n))}else t.insertMode||(t.lastHPos=e.getCursor().ch)}(e,t);t.visualMode&&Qe(e)}function Qe(e){var t=e.state.vim,n=$(e,J(t.sel.head)),i=Q(n,0,1);t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(n,i,{className:"cm-animate-fat-cursor"})}function Xe(e){this.keyName=e}function Ze(e){var t=R.macroModeState.lastInsertModeChanges,n=i.default.keyName(e);n&&(-1==n.indexOf("Delete")&&-1==n.indexOf("Backspace")||i.default.lookupKey(n,"vim-insert",(function(){return t.maybeReset&&(t.changes=[],t.maybeReset=!1),t.changes.push(new Xe(n)),!0})))}function Je(e,t,n,i){var o=R.macroModeState;o.isPlaying=!0;var r=!!t.lastEditActionCommand,s=t.inputState;function a(){r?j.processAction(e,t,t.lastEditActionCommand):j.evalInput(e,t)}function l(n){if(o.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var i=o.lastInsertModeChanges;Ye(e,i.changes,n)}}if(t.inputState=t.lastEditInputState,r&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;c<n;c++)a(),l(1);else i||a(),l(n);t.inputState=s,t.insertMode&&!i&&Ke(e),o.isPlaying=!1}function Ye(e,t,n){function o(t){return"string"==typeof t?i.default.commands[t](e):t(e),!0}var r=e.getCursor("head"),s=R.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var a=e.state.vim.lastSelection,l=function(e,t){return{line:t.line-e.line,ch:t.line-e.line}}(a.anchor,a.head);le(e,r,l.line+1),n=e.listSelections().length,e.setCursor(r)}for(var c=0;c<n;c++){s&&e.setCursor(Q(r,c,0));for(var u=0;u<t.length;u++){var d=t[u];if(d instanceof Xe)i.default.lookupKey(d.keyName,"vim-insert",o);else if("string"==typeof d){var h=e.getCursor();e.replaceRange(d,h,h)}else{var p=e.getCursor(),g=Q(p,0,d[0].length);e.replaceRange(d[0],p,g)}}}s&&e.setCursor(Q(r,0,1))}return i.default.keyMap.vim={attach:t,detach:e,call:n},D("insertModeEscKeysTimeout",200,"number"),i.default.keyMap["vim-insert"]={fallthrough:["default"],attach:t,detach:e,call:n},i.default.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:t,detach:e,call:n},P(),O};e.exports.Vim=u,i.default.Vim=u();var d=i.default;e.exports.default=d})),r.register("2nDk7",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0,r("7wr9L");var n=r("gWzAP"),i=r("bv9M9");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var u=4,d={readOnly:65,cursorWidth:20,fontInfo:32},h=window.navigator,p=h.userAgent,g=h.platform,f=(!/Edge\/(\d+)/.exec(p)&&/AppleWebKit/.test(p)&&/Mobile\/\w+/.test(p)||/Mac/.test(g),/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/);function m(e,t){if(!(this instanceof m))return new m(e,t);this.line=e,this.ch=t}String.prototype.normalize?function(e){return e.normalize("NFD").toLowerCase()}:function(e){return e.toLowerCase()};var v=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};function b(e){return new m(e.lineNumber-1,e.column-1)}function y(e){return new n.Position(e.line+1,e.ch+1)}v.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){throw"not implemented"},indentation:function(){throw"not implemented"},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var _=function(){function e(t,n,i,o){a(this,e),this.cm=t,this.id=n,this.lineNumber=i+1,this.column=o+1,t.marks[this.id]=this}return c(e,[{key:"clear",value:function(){delete this.cm.marks[this.id]}},{key:"find",value:function(){return b(this)}}]),e}();function C(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!0,o=n.KeyCode[e.keyCode];e.key&&(o=e.key,i=!1);var r=o,s=t;switch(e.keyCode){case n.KeyCode.Shift:case n.KeyCode.Meta:case n.KeyCode.Alt:case n.KeyCode.Ctrl:return r;case n.KeyCode.Escape:s=!0,r="Esc"}return o.startsWith("KEY_")?r=o[o.length-1].toLowerCase():o.endsWith("Arrow")?(s=!0,r=o.substr(0,o.length-5)):o.startsWith("US_")&&(r=e.browserEvent.key),s||e.altKey||e.ctrlKey||e.metaKey?(e.altKey&&(r="Alt-".concat(r)),e.ctrlKey&&(r="Ctrl-".concat(r)),e.metaKey&&(r="Meta-".concat(r)),e.shiftKey&&(r="Shift-".concat(r))):r=e.key||e.browserEvent.key,1===r.length&&i&&(r="'".concat(r,"'")),r}var x=function(){function e(t){a(this,e),S.call(this),this.editor=t,this.state={},this.marks={},this.$uid=0,this.disposables=[],this.listeners={},this.curOp={},this.attached=!1,this.statusBar=null,this.addLocalListeners(),this.ctxInsert=this.editor.createContextKey("insertMode",!0)}return c(e,[{key:"attach",value:function(){e.keyMap.vim.attach(this)}},{key:"addLocalListeners",value:function(){this.disposables.push(this.editor.onDidChangeCursorPosition(this.handleCursorChange),this.editor.onDidChangeModelContent(this.handleChange),this.editor.onKeyDown(this.handleKeyDown))}},{key:"handleReplaceMode",value:function(e,t){var i=!1,o=e,r=this.editor.getPosition(),s=new n.Range(r.lineNumber,r.column,r.lineNumber,r.column+1);if(e.startsWith("'"))o=e[1];else if("Enter"===o)o="\n";else{if("Backspace"!==o)return;var a=this.replaceStack.pop();if(!a)return;i=!0,o=a,s=new n.Range(r.lineNumber,r.column,r.lineNumber,r.column-1)}t.preventDefault(),t.stopPropagation(),this.replaceStack||(this.replaceStack=[]),i||this.replaceStack.push(this.editor.getModel().getValueInRange(s)),this.editor.executeEdits("vim",[{text:o,range:s,forceMoveMarkers:!0}]),i&&this.editor.setPosition(s.getStartPosition())}},{key:"setOption",value:function(e,t){this.state[e]=t,"theme"===e&&n.editor.setTheme(t)}},{key:"getConfiguration",value:function(){var e=this.editor,t=d;return"function"==typeof e.getConfiguration?e.getConfiguration():("EditorOption"in n.editor&&(t=n.editor.EditorOption),{readOnly:e.getOption(t.readOnly),viewInfo:{cursorWidth:e.getOption(t.cursorWidth)},fontInfo:e.getOption(t.fontInfo)})}},{key:"getOption",value:function(e){return"readOnly"===e?this.getConfiguration().readOnly:"firstLineNumber"===e?this.firstLine()+1:"indentWithTabs"===e?!this.editor.getModel().getOptions().insertSpaces:"function"==typeof this.editor.getConfiguration?this.editor.getRawConfiguration()[e]:this.editor.getRawOptions()[e]}},{key:"dispatch",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var o=this.listeners[e];o&&o.forEach((function(e){return e.apply(void 0,n)}))}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){var n=this.listeners[e];n&&(this.listeners[e]=n.filter((function(e){return e!==t})))}},{key:"firstLine",value:function(){return 0}},{key:"lastLine",value:function(){return this.lineCount()-1}},{key:"lineCount",value:function(){return this.editor.getModel().getLineCount()}},{key:"defaultTextHeight",value:function(){return 1}},{key:"getLine",value:function(e){if(e<0)return"";var t=this.editor.getModel().getLineCount();return e+1>t&&(e=t-1),this.editor.getModel().getLineContent(e+1)}},{key:"getAnchorForSelection",value:function(e){return e.isEmpty()?e.getPosition():e.getDirection()===n.SelectionDirection.LTR?e.getStartPosition():e.getEndPosition()}},{key:"getHeadForSelection",value:function(e){return e.isEmpty()?e.getPosition():e.getDirection()===n.SelectionDirection.LTR?e.getEndPosition():e.getStartPosition()}},{key:"getCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e)return b(this.editor.getPosition());var t=this.editor.getSelection();return b(t.isEmpty()?t.getPosition():"anchor"===e?this.getAnchorForSelection(t):this.getHeadForSelection(t))}},{key:"getRange",value:function(e,t){var i=y(e),o=y(t);return this.editor.getModel().getValueInRange(n.Range.fromPositions(i,o))}},{key:"getSelection",value:function(){var e=[],t=this.editor;this.state.vim;return t.getSelections().map((function(n){e.push(t.getModel().getValueInRange(n))})),e.join("\n")}},{key:"replaceRange",value:function(e,t,i){var o=y(t),r=i?y(i):o;this.editor.executeEdits("vim",[{text:e,range:n.Range.fromPositions(o,r)}]),this.pushUndoStop()}},{key:"pushUndoStop",value:function(){this.editor.pushUndoStop()}},{key:"setCursor",value:function(e,t){var n=e;"object"!==s(e)&&((n={}).line=e,n.ch=t);var i=this.editor.getModel().validatePosition(y(n));this.editor.setPosition(y(n)),this.editor.revealPosition(i)}},{key:"somethingSelected",value:function(){return!this.editor.getSelection().isEmpty()}},{key:"operation",value:function(e,t){return e()}},{key:"listSelections",value:function(){var e=this,t=this.editor.getSelections();return!t.length||this.inVirtualSelectionMode?[{anchor:this.getCursor("anchor"),head:this.getCursor("head")}]:t.map((function(t){t.getPosition(),t.getStartPosition(),t.getEndPosition();return{anchor:e.clipPos(b(e.getAnchorForSelection(t))),head:e.clipPos(b(e.getHeadForSelection(t)))}}))}},{key:"focus",value:function(){this.editor.focus()}},{key:"setSelections",value:function(e,t){var i=!!this.editor.getSelections().length,o=e.map((function(e,t){var o=e.anchor,r=e.head;return i?n.Selection.fromPositions(y(o),y(r)):n.Selection.fromPositions(y(r),y(o))}));if(t&&o[t]&&o.push(o.splice(t,1)[0]),o.length){var r,s=o[0];r=s.getDirection()===n.SelectionDirection.LTR?s.getEndPosition():s.getStartPosition(),this.editor.setSelections(o),this.editor.revealPosition(r)}}},{key:"setSelection",value:function(e,t){var i=n.Range.fromPositions(y(e),y(t));this.editor.setSelection(i)}},{key:"getSelections",value:function(){var e=this.editor;return e.getSelections().map((function(t){return e.getModel().getValueInRange(t)}))}},{key:"replaceSelections",value:function(e){var t=this.editor;t.getSelections().forEach((function(n,i){t.executeEdits("vim",[{range:n,text:e[i],forceMoveMarkers:!1}])}))}},{key:"toggleOverwrite",value:function(e){e?(this.enterVimMode(),this.replaceMode=!0):(this.leaveVimMode(),this.replaceMode=!1,this.replaceStack=[])}},{key:"charCoords",value:function(e,t){return{top:e.line,left:e.ch}}},{key:"coordsChar",value:function(e,t){}},{key:"clipPos",value:function(e){return b(this.editor.getModel().validatePosition(y(e)))}},{key:"setBookmark",value:function(e,t){var n=new _(this,this.$uid++,e.line,e.ch);return t&&t.insertLeft||(n.$insertRight=!0),this.marks[n.id]=n,n}},{key:"getScrollInfo",value:function(){var e=this.editor,t=o(e.getVisibleRanges(),1)[0];return{left:0,top:t.startLineNumber-1,height:e.getModel().getLineCount(),clientHeight:t.endLineNumber-t.startLineNumber+1}}},{key:"triggerEditorAction",value:function(e){this.editor.trigger("vim",e)}},{key:"dispose",value:function(){this.dispatch("dispose"),this.removeOverlay(),e.keyMap.vim&&e.keyMap.vim.detach(this),this.disposables.forEach((function(e){return e.dispose()}))}},{key:"getInputField",value:function(){}},{key:"getWrapperElement",value:function(){}},{key:"enterVimMode",value:function(){this.ctxInsert.set(!1);var e=this.getConfiguration();this.initialCursorWidth=e.viewInfo.cursorWidth||0,this.editor.updateOptions({cursorWidth:e.fontInfo.typicalFullwidthCharacterWidth,cursorBlinking:"solid"})}},{key:"leaveVimMode",value:function(){this.ctxInsert.set(!0),this.editor.updateOptions({cursorWidth:this.initialCursorWidth||0,cursorBlinking:"blink"})}},{key:"virtualSelectionMode",value:function(){return this.inVirtualSelectionMode}},{key:"markText",value:function(){return{clear:function(){},find:function(){}}}},{key:"getUserVisibleLines",value:function(){var e=this.editor.getVisibleRanges();if(!e.length)return{top:0,bottom:0};var t={top:1/0,bottom:0};return e.reduce((function(e,t){return t.startLineNumber<e.top&&(e.top=t.startLineNumber),t.endLineNumber>e.bottom&&(e.bottom=t.endLineNumber),e}),t),t.top-=1,t.bottom-=1,t}},{key:"findPosV",value:function(e,t,n){var i=this.editor,o=t,r=n,s=y(e);if("page"===n){var a=i.getLayoutInfo().height,l=this.getConfiguration().fontInfo.lineHeight;o*=Math.floor(a/l),r="line"}return"line"===r&&(s.lineNumber+=o),b(s)}},{key:"findMatchingBracket",value:function(e){var t=y(e),n=this.editor.getModel().matchBracket(t);return n&&2===n.length?{to:b(n[1].getStartPosition())}:{to:null}}},{key:"findFirstNonWhiteSpaceCharacter",value:function(e){return this.editor.getModel().getLineFirstNonWhitespaceColumn(e+1)-1}},{key:"scrollTo",value:function(e,t){(e||t)&&(e||(t<0&&(t=this.editor.getPosition().lineNumber-t),this.editor.setScrollTop(this.editor.getTopForLineNumber(t+1))))}},{key:"moveCurrentLineTo",value:function(e){var t=this.editor,i=t.getPosition(),o=n.Range.fromPositions(i,i);switch(e){case"top":return void t.revealRangeAtTop(o);case"center":return void t.revealRangeInCenter(o);case"bottom":return void t._revealRange(o,u)}}},{key:"getSearchCursor",value:function(e,t,n){var i=!1,o=!1;e instanceof RegExp&&!e.global&&(i=!e.ignoreCase,e=e.source,o=!0),null==t.ch&&(t.ch=Number.MAX_VALUE);var r=y(t),s=this,a=this.editor,l=null,c=a.getModel(),u=c.findMatches(e,!1,o,i)||[];return{getMatches:function(){return u},findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},jumpTo:function(e){if(!u||!u.length)return!1;var t=u[e];return l=t.range,s.highlightRanges([l],"currentFindMatch"),s.highlightRanges(u.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(l)}))),l},find:function(t){if(!u||!u.length)return!1;var n;if(t){var a=l?l.getStartPosition():r;if(!(n=c.findPreviousMatch(e,a,o,i))||!n.range.getStartPosition().isBeforeOrEqual(a))return!1}else{var d=l?c.getPositionAt(c.getOffsetAt(l.getStartPosition())+1):r;if(!(n=c.findNextMatch(e,d,o,i))||!d.isBeforeOrEqual(n.range.getStartPosition()))return!1}return l=n.range,s.highlightRanges([l],"currentFindMatch"),s.highlightRanges(u.map((function(e){return e.range})).filter((function(e){return!e.equalsRange(l)}))),l},from:function(){return l&&b(l.getStartPosition())},to:function(){return l&&b(l.getEndPosition())},replace:function(e){l&&(a.executeEdits("vim",[{range:l,text:e,forceMoveMarkers:!0}]),l.setEndPosition(a.getPosition()),a.setPosition(l.getStartPosition()))}}}},{key:"highlightRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"findMatch",i="decoration".concat(t);return this[i]=this.editor.deltaDecorations(this[i]||[],e.map((function(e){return{range:e,options:{stickiness:n.editor.TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges,zIndex:13,className:t,showIfCollapsed:!0}}}))),this[i]}},{key:"addOverlay",value:function(e,t,n){var i=e.query,o=!1,r=!1;i&&i instanceof RegExp&&!i.global&&(r=!0,o=!i.ignoreCase,i=i.source);var s=this.editor.getModel().findNextMatch(i,this.editor.getPosition(),r,o);s&&s.range&&this.highlightRanges([s.range])}},{key:"removeOverlay",value:function(){var e=this;["currentFindMatch","findMatch"].forEach((function(t){e.editor.deltaDecorations(e["decoration".concat(t)]||[],[])}))}},{key:"scrollIntoView",value:function(e){e&&this.editor.revealPosition(y(e))}},{key:"moveH",value:function(e,t){if("char"===t){var i=this.editor.getPosition();this.editor.setPosition(new n.Position(i.lineNumber,i.column+e))}}},{key:"scanForBracket",value:function(t,n,i,o){for(var r=o.bracketRegex,s=y(t),a=this.editor.getModel(),l=(-1===n?a.findPreviousMatch:a.findNextMatch).bind(a),c=[],u=0;;){if(u>10)return;var d=l(r.source,s,!0,!0,null,!0),h=d.matches[0];if(void 0===d)return;var p=e.matchingBrackets[h];if(p&&">"===p.charAt(1)==n>0)c.push(h);else{if(0===c.length)return{pos:b(d.range.getStartPosition())};c.pop()}s=a.getPositionAt(a.getOffsetAt(d.range.getStartPosition())+n),u+=1}}},{key:"indexFromPos",value:function(e){return this.editor.getModel().getOffsetAt(y(e))}},{key:"posFromIndex",value:function(e){return b(this.editor.getModel().getPositionAt(e))}},{key:"indentLine",value:function(e){var t,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.editor;t=r._getViewModel?r._getViewModel().cursorConfig:r._getCursors().context.config;var s=new n.Position(e+1,1),a=n.Selection.fromPositions(s,s);r.executeCommands("editor.action.".concat(o?"indent":"outdent","Lines"),i.TypeOperations[o?"indent":"outdent"](t,this.editor.getModel(),[a]))}},{key:"setStatusBar",value:function(e){this.statusBar=e}},{key:"openDialog",value:function(e,t,n){if(this.statusBar)return this.statusBar.setSec(e,t,n)}},{key:"openNotification",value:function(e){this.statusBar&&this.statusBar.showNotification(e)}}]),e}();x.Pos=m,x.signal=function(e,t,n){e.dispatch(t,n)},x.on=function(){},x.off=function(){},x.addClass=function(){},x.rmClass=function(){},x.defineOption=function(){},x.keyMap={default:function(e){return function(e){return!0}}},x.matchingBrackets={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"},x.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||f.test(e))},x.keyName=C,x.StringStream=v,x.e_stop=function(e){return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,x.e_preventDefault(e),!1},x.e_preventDefault=function(e){return e.preventDefault?(e.preventDefault(),e.browserEvent&&e.browserEvent.preventDefault()):e.returnValue=!1,!1},x.commands={redo:function(e){e.editor.getModel().redo()},undo:function(e){e.editor.getModel().undo()},newlineAndIndent:function(e){e.triggerEditorAction("editor.action.insertLineAfter")}},x.lookupKey=function e(t,n,i){"string"==typeof n&&(n=x.keyMap[n]);var o="function"==typeof n?n(t):n[t];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&i(o))return"handled";if(n.fallthrough){if(!Array.isArray(n.fallthrough))return e(t,n.fallthrough,i);for(var r=0;r<n.fallthrough.length;r++){var s=e(t,n.fallthrough[r],i);if(s)return s}}},x.defineExtension=function(e,t){x.prototype[e]=t};var S=function(){var e=this;this.handleKeyDown=function(t){if(!(t.browserEvent.defaultPrevented&t.keyCode!==n.KeyCode.Escape)&&e.attached){var i=C(t);if(e.replaceMode&&e.handleReplaceMode(i,t),i&&x.keyMap.vim&&x.keyMap.vim.call){var o=x.keyMap.vim.call(i,e);if(o){t.preventDefault(),t.stopPropagation();try{o()}catch(e){console.error(e)}}}}},this.handleCursorChange=function(t){var i=t.position,o=(t.source,e.editor),r=o.getSelection();if(!e.ctxInsert.get()&&"mouse"===t.source&&r.isEmpty()){var s=o.getModel().getLineMaxColumn(i.lineNumber);if(t.position.column===s)return void o.setPosition(new n.Position(t.position.lineNumber,s-1))}e.dispatch("cursorActivity",e,t)},this.handleChange=function(t){var n={text:t.changes.reduce((function(e,t){return e.push(t.text),e}),[]),origin:"+input"},i=e.curOp=e.curOp||{};i.changeHandlers||(i.changeHandlers=e.listeners.change&&e.listeners.change.slice()),e.virtualSelectionMode()||(i.lastChange?i.lastChange.next=i.lastChange=n:i.lastChange=i.change=n,e.dispatch("change",e,n))}},w=x;e.exports.default=w})),r.register("7wr9L",(function(t,n){e(t.exports,"editor",(function(){return r("gWzAP").editor})),e(t.exports,"Position",(function(){return r("gWzAP").Position})),e(t.exports,"KeyCode",(function(){return r("gWzAP").KeyCode})),e(t.exports,"Range",(function(){return r("gWzAP").Range})),e(t.exports,"SelectionDirection",(function(){return r("gWzAP").SelectionDirection})),e(t.exports,"Selection",(function(){return r("gWzAP").Selection})),r("im3Sr"),r("9WHSG"),r("fNlIw"),r("dCmHQ"),r("chmxX"),r("gigZI")})),r.register("9WHSG",(function(e,t){r("gWzAP"),r("72XCp");var n=r("gWzAP"),i=function(){function e(e,t,i){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this.options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setDiagnosticsOptions=function(e){this.setOptions(e)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),o={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0}},s={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},a=new i("css",o,s),l=new i("scss",o,s),c=new i("less",o,s);function u(){return r("1KxRK")}n.languages.css={cssDefaults:a,lessDefaults:c,scssDefaults:l},n.languages.onLanguage("less",(function(){u().then((function(e){return e.setupMode(c)}))})),n.languages.onLanguage("scss",(function(){u().then((function(e){return e.setupMode(l)}))})),n.languages.onLanguage("css",(function(){u().then((function(e){return e.setupMode(a)}))}))})),r.register("fNlIw",(function(e,t){r("gWzAP"),r("48WC3");var n=r("gWzAP"),i=new(function(){function e(e,t,i){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setDiagnosticsOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"diagnosticsOptions",{get:function(){return this._diagnosticsOptions},enumerable:!1,configurable:!0}),e.prototype.setDiagnosticsOptions=function(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}())("json",{validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},{documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0});n.languages.json={jsonDefaults:i},n.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),n.languages.onLanguage("json",(function(){r("73fqL").then((function(e){return e.setupMode(i)}))}))})),r.register("dCmHQ",(function(e,t){r("gWzAP"),r("eMe6U");var n=r("gWzAP"),i=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},o=function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},s=function(){function e(e,t,i){this._onDidChange=new(0,n.Emitter),this._languageId=e,this.setOptions(t),this.setModeConfiguration(i)}return Object.defineProperty(e.prototype,"onDidChange",{get:function(){return this._onDidChange.event},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"modeConfiguration",{get:function(){return this._modeConfiguration},enumerable:!1,configurable:!0}),e.prototype.setOptions=function(e){this._options=e||Object.create(null),this._onDidChange.fire(this)},e.prototype.setModeConfiguration=function(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(this)},e}(),a={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{},data:{useDefaultDataProvider:!0}};function l(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===c,documentFormattingEdits:e===c,documentRangeFormattingEdits:e===c}}var c="html",u="handlebars",d="razor",h=b(c,a,l(c)),p=h.defaults,g=b(u,a,l(u)),f=g.defaults,m=b(d,a,l(d)),v=m.defaults;function b(e,t,c){var u=this;void 0===t&&(t=a),void 0===c&&(c=l(e));var d,h=new s(e,t,c),p=n.languages.onLanguage(e,(function(){return i(u,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,r("azIy9")];case 1:return d=e.sent().setupMode(h),[2]}}))}))}));return{defaults:h,dispose:function(){p.dispose(),null==d||d.dispose(),d=void 0}}}n.languages.html={htmlDefaults:p,razorDefaults:v,handlebarDefaults:f,htmlLanguageService:h,handlebarLanguageService:g,razorLanguageService:m,registerHTMLLanguageService:b}})),r.register("chmxX",(function(e,t){r("gWzAP"),r("fxi75"),r("fRxGQ"),r("9wFHn"),r("4h7XL"),r("gr0lh"),r("9c9rQ"),r("3Jgm4"),r("7dHfA"),r("3WE00"),r("2LCSG"),r("dcgkt"),r("6n9WY"),r("bE1oR"),r("jnrbB"),r("ihKyY"),r("ft66G"),r("kIpTL"),r("5dTU4"),r("ht6zL"),r("f4MOa"),r("2JUcy"),r("7sgBd"),r("2N6zl"),r("2b4B8"),r("1RVT3"),r("idHBD"),r("4Tzzt"),r("8iDud"),r("6VZZ3"),r("4udrA"),r("kIJUB"),r("cIRvx"),r("kF6Sz"),r("5njI4"),r("cHL0I"),r("jEpGZ"),r("8QTzr"),r("1iHEG"),r("kvn23"),r("2RKMX"),r("gD8C7"),r("7UXLl"),r("aJLDU"),r("gZpt1"),r("7hpEZ"),r("5FedH"),r("gBBTf"),r("78kwz"),r("6Dhjo"),r("4kGze"),r("f8MGK"),r("2aA1L"),r("9pjr0"),r("a16mG"),r("gyyVU"),r("HO8g1"),r("1l6wX"),r("487Ln"),r("ijzck"),r("lraa2"),r("iYUOW"),r("igKBh"),r("zAVCP"),r("LuL5V"),r("jk2ZF"),r("9R43c"),r("bcYju"),r("VoA1D"),r("97sU1"),r("7G3zJ"),r("khWuF"),r("cLDa9"),r("aTjjI")})),r.register("fxi75",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:function(){return r("4NmJ3")}})})),r.register("jjJHl",(function(t,n){e(t.exports,"registerLanguage",(function(){return l})),r("a3CkB");var i=r("gWzAP"),o={},s={},a=function(){function e(e){var t=this;this._languageId=e,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((function(e,n){t._lazyLoadPromiseResolve=e,t._lazyLoadPromiseReject=n}))}return e.getOrCreate=function(t){return s[t]||(s[t]=new e(t)),s[t]},e.prototype.whenLoaded=function(){return this._lazyLoadPromise},e.prototype.load=function(){var e=this;return this._loadingTriggered||(this._loadingTriggered=!0,o[this._languageId].loader().then((function(t){return e._lazyLoadPromiseResolve(t)}),(function(t){return e._lazyLoadPromiseReject(t)}))),this._lazyLoadPromise},e}();function l(e){var t=e.id;o[t]=e,i.languages.register(e);var n=a.getOrCreate(t);i.languages.setMonarchTokensProvider(t,n.whenLoaded().then((function(e){return e.language}))),i.languages.onLanguage(t,(function(){n.load().then((function(e){i.languages.setLanguageConfiguration(t,e.conf)}))}))}})),r.register("fRxGQ",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:function(){return r("eaMBj")}})})),r.register("9wFHn",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:function(){return r("3kh2T")}})})),r.register("4h7XL",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:function(){return r("dIXGI")}})})),r.register("gr0lh",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:function(){return r("kwM1S")}})})),r.register("9c9rQ",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:function(){return r("crVMR")}})})),r.register("3Jgm4",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:function(){return r("4kkck")}})})),r.register("7dHfA",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:function(){return r("flSRh")}})})),r.register("3WE00",(function(e,t){var n=r("jjJHl");(0,n.registerLanguage)({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:function(){return r("gcurD")}}),(0,n.registerLanguage)({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:function(){return r("gcurD")}})})),r.register("2LCSG",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:function(){return r("3Q5AE")}})})),r.register("dcgkt",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"csp",extensions:[],aliases:["CSP","csp"],loader:function(){return r("cKy9U")}})})),r.register("6n9WY",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:function(){return r("l812H")}})})),r.register("bE1oR",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:function(){return r("3gkwJ")}})})),r.register("jnrbB",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:function(){return r("fBYZw")}})})),r.register("ihKyY",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:function(){return r("b3Mwb")}})})),r.register("ft66G",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:function(){return r("8xT0V")}})})),r.register("kIpTL",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:function(){return r("cDVC1")}})})),r.register("5dTU4",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"go",extensions:[".go"],aliases:["Go"],loader:function(){return r("g7s61")}})})),r.register("ht6zL",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:function(){return r("6vzuU")}})})),r.register("f4MOa",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:function(){return r("cVAZf")}})})),r.register("2JUcy",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:function(){return r("bs3RA")}})})),r.register("7sgBd",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:function(){return r("3GCEY")}})})),r.register("2N6zl",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:function(){return r("ci6qT")}})})),r.register("2b4B8",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:function(){return r("eLSKU")}})})),r.register("1RVT3",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"javascript",extensions:[".js",".es6",".jsx",".mjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:function(){return r("5qz5D")}})})),r.register("idHBD",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:function(){return r("bTeKH")}})})),r.register("4Tzzt",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:function(){return r("7sDYu")}})})),r.register("8iDud",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:function(){return r("57zpE")}})})),r.register("6VZZ3",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:function(){return r("4r9L8")}})})),r.register("4udrA",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:function(){return r("4BZeN")}})})),r.register("kIJUB",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:function(){return r("qu843")}})})),r.register("cIRvx",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:function(){return r("5oBK2")}})})),r.register("kF6Sz",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:function(){return r("jbbkI")}})})),r.register("5njI4",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:function(){return r("15MYQ")}})})),r.register("cHL0I",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:function(){return r("7DjGk")}})})),r.register("jEpGZ",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:function(){return r("gjoTl")}})})),r.register("8QTzr",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:function(){return r("djgcC")}})})),r.register("1iHEG",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:function(){return r("cczWf")}})})),r.register("kvn23",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:function(){return r("6gcf7")}})})),r.register("2RKMX",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:function(){return r("d2tTj")}})})),r.register("gD8C7",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:function(){return r("l8deG")}})})),r.register("7UXLl",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:function(){return r("iYarc")}})})),r.register("aJLDU",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:function(){return r("7c4pI")}})})),r.register("gZpt1",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:function(){return r("8BYIO")}})})),r.register("7hpEZ",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:function(){return r("hhZnx")}})})),r.register("5FedH",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:function(){return r("4lrQf")}})})),r.register("gBBTf",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:function(){return r("kRHwN")}})})),r.register("78kwz",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:function(){return r("lH87K")}})})),r.register("6Dhjo",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:function(){return r("ncXf6")}})})),r.register("4kGze",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:function(){return r("jLLKk")}})})),r.register("f8MGK",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"redis",extensions:[".redis"],aliases:["redis"],loader:function(){return r("i4aQg")}})})),r.register("2aA1L",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:function(){return r("4SqeX")}})})),r.register("9pjr0",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:function(){return r("eFZ1Z")}})})),r.register("a16mG",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:function(){return r("CWeDR")}})})),r.register("gyyVU",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:function(){return r("7QBTK")}})})),r.register("HO8g1",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:function(){return r("9MWgL")}})})),r.register("1l6wX",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:function(){return r("cEx2v")}})})),r.register("487Ln",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:function(){return r("con78")}})})),r.register("ijzck",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:function(){return r("2pCDE")}})})),r.register("lraa2",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:function(){return r("03Ji7")}})})),r.register("iYUOW",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:function(){return r("OleC8")}})})),r.register("igKBh",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:function(){return r("dG779")}})})),r.register("zAVCP",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:function(){return r("j3ogR")}})})),r.register("LuL5V",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:function(){return r("9FdAn")}})})),r.register("jk2ZF",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:function(){return r("cJsy1")}})})),r.register("9R43c",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:function(){return r("8R7dE")}})})),r.register("bcYju",(function(e,t){var n=r("jjJHl");(0,n.registerLanguage)({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:function(){return r("ank77")}}),(0,n.registerLanguage)({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:function(){return r("ank77")}})})),r.register("VoA1D",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:function(){return r("8IICG")}})})),r.register("97sU1",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:function(){return r("73s2c")}})})),r.register("7G3zJ",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:function(){return r("cIfEN")}})})),r.register("khWuF",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:function(){return r("g5bI1")}})})),r.register("cLDa9",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:function(){return r("dZcf8")}})})),r.register("aTjjI",(function(e,t){(0,r("jjJHl").registerLanguage)({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:function(){return r("jqfNc")}})})),r.register("gigZI",(function(t,n){e(t.exports,"editor",(function(){return r("gWzAP").editor})),e(t.exports,"Position",(function(){return r("gWzAP").Position})),e(t.exports,"KeyCode",(function(){return r("gWzAP").KeyCode})),e(t.exports,"Range",(function(){return r("gWzAP").Range})),e(t.exports,"SelectionDirection",(function(){return r("gWzAP").SelectionDirection})),e(t.exports,"Selection",(function(){return r("gWzAP").Selection})),r("2XNsd"),r("2srDF"),r("jV8bm"),r("8mxtt"),r("41BV7"),r("eolzO"),r("lsExB"),r("874Co"),r("lkL3H"),r("5wsbr"),r("gWzAP")})),r.register("2XNsd",(function(e,t){r("4I5Ci"),r("eF5iL"),r("gA4jh"),r("dGXEW"),r("Nwkne"),r("1hO33"),r("7vqtQ"),r("GoQu8"),r("kqUT9"),r("65Th6"),r("3XmjO"),r("hTrGI"),r("7jKGs"),r("jAFee"),r("c32xu"),r("hPw8K"),r("cPiAT"),r("1w29a"),r("e2aKx"),r("cJkEr"),r("7cT2D"),r("g7oVn"),r("iAoUI"),r("a6pAG"),r("acdjA"),r("4noRE"),r("9taTW"),r("dWAg0"),r("6nqfW"),r("iU6HC"),r("bjgv1"),r("cuNDN"),r("gEzkW"),r("jY3aD"),r("d6ROh"),r("3fqRK"),r("57EO8"),r("5ylgG"),r("eVEsg"),r("LeGfn"),r("9Vgbh"),r("ldMhO"),r("eWcvG"),r("kkFBi"),r("6m2mr"),r("eEW0l"),r("33v3z")})),r.register("Nwkne",(function(e,t){var n=r("eh64S"),i=r("9LBxC"),o=r("igipX"),s=r("e8gAb"),a=r("izshX"),l=r("1N08n"),c=r("aQY22"),u=r("4waad"),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){return function(n,i){t(n,i,e)}},p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const g=new(0,l.RawContextKey)("selectionAnchorSet",!1);let f=class e{static get(t){return t.getContribution(e.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition(),t=this.decorationId?[this.decorationId]:[],n=this.editor.deltaDecorations(t,[{range:s.Selection.fromPositions(e,e),options:{description:"selection-anchor",stickiness:1,hoverMessage:(new(0,c.MarkdownString)).appendText((0,i.localize)("selectionAnchor","Selection Anchor")),className:"selection-anchor"}}]);this.decorationId=n[0],this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,u.alert)((0,i.localize)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(s.Selection.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){this.decorationId&&(this.editor.deltaDecorations([this.decorationId],[]),this.decorationId=void 0,this.selectionAnchorSetContextKey.set(!1))}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=g.bindTo(t),this.modelChangeListener=e.onDidChangeModel((()=>this.selectionAnchorSetContextKey.reset()))}};f.ID="editor.contrib.selectionAnchorController",f=d([h(1,l.IContextKeyService)],f);class m extends n.EditorAction{run(e,t){return p(this,void 0,void 0,(function*(){f.get(t).setSelectionAnchor()}))}constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,i.localize)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2080),weight:100}})}}class v extends n.EditorAction{run(e,t){return p(this,void 0,void 0,(function*(){f.get(t).goToSelectionAnchor()}))}constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,i.localize)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:g})}}class b extends n.EditorAction{run(e,t){return p(this,void 0,void 0,(function*(){f.get(t).selectFromAnchorToCursor()}))}constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,i.localize)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:g,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2089),weight:100}})}}class y extends n.EditorAction{run(e,t){return p(this,void 0,void 0,(function*(){f.get(t).cancelSelectionAnchor()}))}constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,i.localize)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:g,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}}(0,n.registerEditorContribution)(f.ID,f),(0,n.registerEditorAction)(m),(0,n.registerEditorAction)(v),(0,n.registerEditorAction)(b),(0,n.registerEditorAction)(y)})),r.register("aQY22",(function(t,n){e(t.exports,"MarkdownString",(function(){return s})),e(t.exports,"isEmptyMarkdownString",(function(){return a})),e(t.exports,"removeMarkdownEscapes",(function(){return l})),e(t.exports,"parseHrefAndDimensions",(function(){return c}));var i=r("6vMUG"),o=r("2zf51");class s{appendText(e,t=0){var n;return this.value+=(n=this.supportThemeIcons?(0,i.escapeIcons)(e):e,n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")).replace(/([ \t]+)/g,((e,t)=>"&nbsp;".repeat(t.length))).replace(/^>/gm,"\\>").replace(/\n/g,1===t?"\\\n":"\n\n"),this}appendMarkdown(e){return this.value+=e,this}appendCodeblock(e,t){return this.value+="\n```",this.value+=e,this.value+="\n",this.value+=t,this.value+="\n```\n",this}constructor(e="",t=!1){var n,i;if(this.value=e,"string"!=typeof this.value)throw(0,o.illegalArgument)("value");"boolean"==typeof t?(this.isTrusted=t,this.supportThemeIcons=!1):(this.isTrusted=null!==(n=t.isTrusted)&&void 0!==n?n:void 0,this.supportThemeIcons=null!==(i=t.supportThemeIcons)&&void 0!==i&&i)}}function a(e){return function(e){if(e instanceof s)return!0;if(e&&"object"==typeof e)return!("string"!=typeof e.value||"boolean"!=typeof e.isTrusted&&void 0!==e.isTrusted||"boolean"!=typeof e.supportThemeIcons&&void 0!==e.supportThemeIcons);return!1}(e)?!e.value:!Array.isArray(e)||e.every(a)}function l(e){return e?e.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1"):e}function c(e){const t=[],n=e.split("|").map((e=>e.trim()));e=n[0];const i=n[1];if(i){const e=/height=(\d+)/.exec(i),n=/width=(\d+)/.exec(i),o=e?e[1]:"",r=n?n[1]:"",s=isFinite(parseInt(r)),a=isFinite(parseInt(o));s&&t.push(`width="${r}"`),a&&t.push(`height="${o}"`)}return{href:e,dimensions:t}}})),r.register("1hO33",(function(e,t){var n=r("9LBxC"),i=r("6wKox"),o=r("iNF8q"),s=r("eh64S"),a=r("aGBCV"),l=r("dSV0M"),c=r("e8gAb"),u=r("igipX"),d=r("77LTJ"),h=r("cVvMG"),p=r("kg7au"),g=r("5h6AG"),f=r("JzRxO"),m=r("d8eAn");const v=(0,g.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hc:"#A0A0A0"},n.localize("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class b extends s.EditorAction{run(e,t){let n=C.get(t);n&&n.jumpToBracket()}constructor(){super({id:"editor.action.jumpToBracket",label:n.localize("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:3160,weight:100}})}}class y extends s.EditorAction{run(e,t,n){const i=C.get(t);if(!i)return;let o=!0;n&&!1===n.selectBrackets&&(o=!1),i.selectToBracket(o)}constructor(){super({id:"editor.action.selectToBracket",label:n.localize("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}}class _{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class C extends o.Disposable{static get(e){return e.getContribution(C.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map((t=>{const n=t.getStartPosition(),i=e.matchBracket(n);let o=null;if(i)i[0].containsPosition(n)?o=i[1].getStartPosition():i[1].containsPosition(n)&&(o=i[0].getStartPosition());else{const t=e.findEnclosingBrackets(n);if(t)o=t[0].getStartPosition();else{const t=e.findNextBracket(n);t&&t.range&&(o=t.range.getStartPosition())}}return o?new(0,c.Selection)(o.lineNumber,o.column,o.lineNumber,o.column):new(0,c.Selection)(n.lineNumber,n.column,n.lineNumber,n.column)}));this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach((i=>{const o=i.getStartPosition();let r=t.matchBracket(o);if(!r&&(r=t.findEnclosingBrackets(o),!r)){const e=t.findNextBracket(o);e&&e.range&&(r=t.matchBracket(e.range.getStartPosition()))}let s=null,a=null;if(r){r.sort(l.Range.compareRangesUsingStarts);const[t,n]=r;s=e?t.getStartPosition():t.getEndPosition(),a=e?n.getEndPosition():n.getStartPosition()}s&&a&&n.push(new(0,c.Selection)(s.lineNumber,s.column,a.lineNumber,a.column))})),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if("never"===this._matchBrackets)return;this._recomputeBrackets();let e=[],t=0;for(const n of this._lastBracketsData){let i=n.brackets;i&&(e[t++]={range:i[0],options:n.options},e[t++]={range:i[1],options:n.options})}this._decorations=this._editor.deltaDecorations(this._decorations,e)}_recomputeBrackets(){if(!this._editor.hasModel())return this._lastBracketsData=[],void(this._lastVersionId=0);const e=this._editor.getSelections();if(e.length>100)return this._lastBracketsData=[],void(this._lastVersionId=0);const t=this._editor.getModel(),n=t.getVersionId();let i=[];this._lastVersionId===n&&(i=this._lastBracketsData);let o=[],r=0;for(let t=0,n=e.length;t<n;t++){let n=e[t];n.isEmpty()&&(o[r++]=n.getStartPosition())}o.length>1&&o.sort(a.Position.compare);let s=[],l=0,c=0,u=i.length;for(let e=0,n=o.length;e<n;e++){let n=o[e];for(;c<u&&i[c].position.isBefore(n);)c++;if(c<u&&i[c].position.equals(n))s[l++]=i[c];else{let e=t.matchBracket(n),i=C._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;e||"always"!==this._matchBrackets||(e=t.findEnclosingBrackets(n,20),i=C._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),s[l++]=new _(n,e,i)}}this._lastBracketsData=s,this._lastVersionId=n}constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=[],this._updateBracketsSoon=this._register(new(0,i.RunOnceScheduler)((()=>this._updateBrackets()),50)),this._matchBrackets=this._editor.getOption(62),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition((e=>{"never"!==this._matchBrackets&&this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelContent((e=>{this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModel((e=>{this._lastBracketsData=[],this._decorations=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeModelLanguageConfiguration((e=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()}))),this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(62)&&(this._matchBrackets=this._editor.getOption(62),this._decorations=this._editor.deltaDecorations(this._decorations,[]),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})))}}C.ID="editor.contrib.bracketMatchingController",C._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,f.themeColorFromId)(v),position:d.OverviewRulerLane.Center}}),C._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=h.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,s.registerEditorContribution)(C.ID,C),(0,s.registerEditorAction)(y),(0,s.registerEditorAction)(b),(0,f.registerThemingParticipant)(((e,t)=>{const n=e.getColor(p.editorBracketMatchBackground);n&&t.addRule(`.monaco-editor .bracket-match { background-color: ${n}; }`);const i=e.getColor(p.editorBracketMatchBorder);i&&t.addRule(`.monaco-editor .bracket-match { border: 1px solid ${i}; }`)})),m.MenuRegistry.appendMenuItem(m.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:n.localize({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2})})),r.register("7vqtQ",(function(e,t){var n=r("9LBxC"),i=r("eh64S"),o=r("igipX"),s=r("jpk3U");class a extends i.EditorAction{run(e,t){if(!t.hasModel())return;let n=[],i=t.getSelections();for(const e of i)n.push(new(0,s.MoveCaretCommand)(e,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this.left=e}}(0,i.registerEditorAction)(class extends a{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:n.localize("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:o.EditorContextKeys.writable})}}),(0,i.registerEditorAction)(class extends a{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:n.localize("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:o.EditorContextKeys.writable})}})})),r.register("jpk3U",(function(t,n){e(t.exports,"MoveCaretCommand",(function(){return s}));var i=r("dSV0M"),o=r("e8gAb");class s{getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,o=this._selection.startColumn,r=this._selection.endColumn;if((!this._isMovingLeft||1!==o)&&(this._isMovingLeft||r!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const s=new(0,i.Range)(n,o-1,n,o),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new(0,i.Range)(n,r,n,r),a)}else{const s=new(0,i.Range)(n,r,n,r+1),a=e.getValueInRange(s);t.addEditOperation(s,null),t.addEditOperation(new(0,i.Range)(n,o,n,o),a)}}computeCursorState(e,t){return this._isMovingLeft?new(0,o.Selection)(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new(0,o.Selection)(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}constructor(e,t){this._selection=e,this._isMovingLeft=t}}})),r.register("GoQu8",(function(e,t){var n=r("9LBxC"),i=r("eh64S"),o=r("jCddX"),s=r("dSV0M"),a=r("igipX"),l=r("6KlVV");class c extends i.EditorAction{run(e,t){if(!t.hasModel())return;let n=t.getModel(),i=[],r=t.getSelections();for(let e of r){if(!e.isEmpty())continue;let t=e.startLineNumber,r=e.startColumn,a=n.getLineMaxColumn(t);if(1===t&&(1===r||2===r&&2===a))continue;let c=r===a?e.getPosition():l.MoveOperations.rightPosition(n,e.getPosition().lineNumber,e.getPosition().column),u=l.MoveOperations.leftPosition(n,c),d=l.MoveOperations.leftPosition(n,u),h=n.getValueInRange(s.Range.fromPositions(d,u)),p=n.getValueInRange(s.Range.fromPositions(u,c)),g=s.Range.fromPositions(d,c);i.push(new(0,o.ReplaceCommand)(g,p+h))}i.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop())}constructor(){super({id:"editor.action.transposeLetters",label:n.localize("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}}(0,i.registerEditorAction)(c)})),r.register("kqUT9",(function(e,t){var n=r("9LBxC"),i=r("4x56y"),o=r("cexwY"),s=r("ckbV0"),a=r("eh64S"),l=r("7yAvG"),c=r("igipX"),u=r("d8eAn"),d=r("fHyTN"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const p="9_cutcopypaste",g=o.isNative||document.queryCommandSupported("cut"),f=o.isNative||document.queryCommandSupported("copy"),m=void 0!==navigator.clipboard&&!i.isFirefox||document.queryCommandSupported("paste");function v(e){return e.register(),e}const b=g?v(new(0,a.MultiCommand)({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:o.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:n.localize({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:u.MenuId.EditorContext,group:p,title:n.localize("actions.clipboard.cutLabel","Cut"),when:c.EditorContextKeys.writable,order:1},{menuId:u.MenuId.CommandPalette,group:"",title:n.localize("actions.clipboard.cutLabel","Cut"),order:1},{menuId:u.MenuId.SimpleEditorContext,group:p,title:n.localize("actions.clipboard.cutLabel","Cut"),when:c.EditorContextKeys.writable,order:1}]})):void 0,y=f?v(new(0,a.MultiCommand)({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:o.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:n.localize({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:u.MenuId.EditorContext,group:p,title:n.localize("actions.clipboard.copyLabel","Copy"),order:2},{menuId:u.MenuId.CommandPalette,group:"",title:n.localize("actions.clipboard.copyLabel","Copy"),order:1},{menuId:u.MenuId.SimpleEditorContext,group:p,title:n.localize("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;u.MenuRegistry.appendMenuItem(u.MenuId.MenubarEditMenu,{submenu:u.MenuId.MenubarCopy,title:{value:n.localize("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),u.MenuRegistry.appendMenuItem(u.MenuId.EditorContext,{submenu:u.MenuId.EditorContextCopy,title:{value:n.localize("copy as","Copy As"),original:"Copy As"},group:p,order:3});const _=m?v(new(0,a.MultiCommand)({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:o.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:u.MenuId.MenubarEditMenu,group:"2_ccp",title:n.localize({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:u.MenuId.EditorContext,group:p,title:n.localize("actions.clipboard.pasteLabel","Paste"),when:c.EditorContextKeys.writable,order:4},{menuId:u.MenuId.CommandPalette,group:"",title:n.localize("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:u.MenuId.SimpleEditorContext,group:p,title:n.localize("actions.clipboard.pasteLabel","Paste"),when:c.EditorContextKeys.writable,order:4}]})):void 0;class C extends a.EditorAction{run(e,t){if(!t.hasModel())return;!t.getOption(30)&&t.getSelection().isEmpty()||(s.CopyOptions.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),s.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:n.localize("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.textInputFocus,primary:0,weight:100}})}}function x(e,t){e&&(e.addImplementation(1e4,"code-editor",((e,n)=>{const i=e.get(l.ICodeEditorService).getFocusedCodeEditor();if(i&&i.hasTextFocus()){const e=i.getOption(30),n=i.getSelection();return n&&n.isEmpty()&&!e||document.execCommand(t),!0}return!1})),e.addImplementation(0,"generic-dom",((e,n)=>(document.execCommand(t),!0))))}x(b,"cut"),x(y,"copy"),_&&(_.addImplementation(1e4,"code-editor",((e,t)=>{const n=e.get(l.ICodeEditorService),i=e.get(d.IClipboardService),r=n.getFocusedCodeEditor();if(r&&r.hasTextFocus()){return!(!document.execCommand("paste")&&o.isWeb)||(h(void 0,void 0,void 0,(function*(){const e=yield i.readText();if(""!==e){const t=s.InMemoryClipboardMetadataManager.INSTANCE.get(e);let n=!1,i=null,o=null;t&&(n=r.getOption(30)&&!!t.isFromEmptySelection,i=void 0!==t.multicursorText?t.multicursorText:null,o=t.mode),r.trigger("keyboard","paste",{text:e,pasteOnNewLine:n,multicursorText:i,mode:o})}})),!0)}return!1})),_.addImplementation(0,"generic-dom",((e,t)=>(document.execCommand("paste"),!0)))),f&&(0,a.registerEditorAction)(C)})),r.register("65Th6",(function(e,t){var n=r("eh64S"),i=r("gq9ST");(0,n.registerEditorContribution)(i.QuickFixController.ID,i.QuickFixController),(0,n.registerEditorAction)(i.QuickFixAction),(0,n.registerEditorAction)(i.RefactorAction),(0,n.registerEditorAction)(i.SourceAction),(0,n.registerEditorAction)(i.OrganizeImportsAction),(0,n.registerEditorAction)(i.AutoFixAction),(0,n.registerEditorAction)(i.FixAllAction),(0,n.registerEditorCommand)(new(0,i.CodeActionCommand))})),r.register("gq9ST",(function(t,n){e(t.exports,"QuickFixController",(function(){return A}),(function(e){return A=e})),e(t.exports,"QuickFixAction",(function(){return M}),(function(e){return M=e})),e(t.exports,"AutoFixAction",(function(){return z}),(function(e){return z=e})),e(t.exports,"CodeActionCommand",(function(){return T}),(function(e){return T=e})),e(t.exports,"RefactorAction",(function(){return N}),(function(e){return N=e})),e(t.exports,"SourceAction",(function(){return P}),(function(e){return P=e})),e(t.exports,"OrganizeImportsAction",(function(){return O}),(function(e){return O=e})),e(t.exports,"FixAllAction",(function(){return F}),(function(e){return F=e}));var i=r("dq3o1"),o=r("1eih8"),s=r("iNF8q"),a=r("78mNz"),l=r("eh64S"),c=r("8vU6U"),u=r("igipX"),d=r("aUa0K"),h=r("40AKv"),p=r("j3sMg"),g=r("9LBxC"),f=r("7YObE"),m=r("1N08n"),v=r("blTDv"),b=r("cbzyk"),y=r("hYVHb"),_=r("cIR7X"),C=r("d5Cac"),x=r("hoVXd"),S=r("8HXtk"),w=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){return function(n,i){t(n,i,e)}},E=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function D(e){return m.ContextKeyExpr.regex(x.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,a.escapeRegExpCharacters)(e.value)+"\\b"))}const I={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:g.localize("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:g.localize("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[g.localize("args.schema.apply.first","Always apply the first returned code action."),g.localize("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),g.localize("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:g.localize("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let A=class e extends s.Disposable{static get(t){return t.getContribution(e.ID)}update(e){this._ui.getValue().update(e)}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1})}manualTriggerAtCurrentPosition(e,t,n){if(!this._editor.hasModel())return;p.MessageController.get(this._editor).closeMessage();const i=this._editor.getPosition();this._trigger({type:1,filter:t,autoApply:n,context:{notAvailableMessage:e,position:i}})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e){return this._instantiationService.invokeFunction(R,e,this._editor)}constructor(e,t,n,i,r){super(),this._instantiationService=r,this._editor=e,this._model=this._register(new(0,x.CodeActionModel)(this._editor,t,n,i)),this._register(this._model.onDidChangeState((e=>this.update(e)))),this._ui=new(0,o.Lazy)((()=>this._register(new(0,h.CodeActionUi)(e,M.Id,z.Id,{applyCodeAction:(e,t)=>E(this,void 0,void 0,(function*(){try{yield this._applyCodeAction(e)}finally{t&&this._trigger({type:2,filter:{}})}}))},this._instantiationService))))}};function R(e,t,n){return E(this,void 0,void 0,(function*(){const o=e.get(c.IBulkEditService),r=e.get(f.ICommandService),s=e.get(C.ITelemetryService),a=e.get(y.INotificationService);if(s.publicLog2("codeAction.applyCodeAction",{codeActionTitle:t.action.title,codeActionKind:t.action.kind,codeActionIsPreferred:!!t.action.isPreferred}),yield t.resolve(i.CancellationToken.None),t.action.edit&&(yield o.apply(c.ResourceEdit.convert(t.action.edit),{editor:n,label:t.action.title})),t.action.command)try{yield r.executeCommand(t.action.command.id,...t.action.command.arguments||[])}catch(e){const t=function(e){return"string"==typeof e?e:e instanceof Error&&"string"==typeof e.message?e.message:void 0}(e);a.error("string"==typeof t?t:g.localize("applyCodeActionFailed","An unknown error occurred while applying the code action"))}}))}function L(e,t,n,i){if(e.hasModel()){const o=A.get(e);o&&o.manualTriggerAtCurrentPosition(t,n,i)}}A.ID="editor.contrib.quickFixController",A=w([k(1,b.IMarkerService),k(2,m.IContextKeyService),k(3,_.IEditorProgressService),k(4,v.IInstantiationService)],A);class M extends l.EditorAction{run(e,t){return L(t,g.localize("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0)}constructor(){super({id:M.Id,label:g.localize("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:2132,weight:100}})}}M.Id="editor.action.quickFix";class T extends l.EditorCommand{runEditorCommand(e,t,n){const i=S.CodeActionCommandArgs.fromUser(n,{kind:S.CodeActionKind.Empty,apply:"ifSingle"});return L(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?g.localize("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):g.localize("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):i.preferred?g.localize("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):g.localize("editor.action.codeAction.noneMessage","No code actions available"),{include:i.kind,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}constructor(){super({id:d.codeActionCommandId,precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:I}]}})}}class N extends l.EditorAction{run(e,t,n){const i=S.CodeActionCommandArgs.fromUser(n,{kind:S.CodeActionKind.Refactor,apply:"never"});return L(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?g.localize("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",n.kind):g.localize("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",n.kind):i.preferred?g.localize("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):g.localize("editor.action.refactor.noneMessage","No refactorings available"),{include:S.CodeActionKind.Refactor.contains(i.kind)?i.kind:S.CodeActionKind.None,onlyIncludePreferredActions:i.preferred},i.apply)}constructor(){super({id:d.refactorCommandId,label:g.localize("refactor.label","Refactor..."),alias:"Refactor...",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:m.ContextKeyExpr.and(u.EditorContextKeys.writable,D(S.CodeActionKind.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:I}]}})}}class P extends l.EditorAction{run(e,t,n){const i=S.CodeActionCommandArgs.fromUser(n,{kind:S.CodeActionKind.Source,apply:"never"});return L(t,"string"==typeof(null==n?void 0:n.kind)?i.preferred?g.localize("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):g.localize("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):i.preferred?g.localize("editor.action.source.noneMessage.preferred","No preferred source actions available"):g.localize("editor.action.source.noneMessage","No source actions available"),{include:S.CodeActionKind.Source.contains(i.kind)?i.kind:S.CodeActionKind.None,includeSourceActions:!0,onlyIncludePreferredActions:i.preferred},i.apply)}constructor(){super({id:d.sourceActionCommandId,label:g.localize("source.label","Source Action..."),alias:"Source Action...",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,u.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:m.ContextKeyExpr.and(u.EditorContextKeys.writable,D(S.CodeActionKind.Source))},description:{description:"Source Action...",args:[{name:"args",schema:I}]}})}}class O extends l.EditorAction{run(e,t){return L(t,g.localize("editor.action.organize.noneMessage","No organize imports action available"),{include:S.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle")}constructor(){super({id:d.organizeImportsCommandId,label:g.localize("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,D(S.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1581,weight:100}})}}class F extends l.EditorAction{run(e,t){return L(t,g.localize("fixAll.noneMessage","No fix all action available"),{include:S.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle")}constructor(){super({id:d.fixAllCommandId,label:g.localize("fixAll.label","Fix All"),alias:"Fix All",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,D(S.CodeActionKind.SourceFixAll))})}}class z extends l.EditorAction{run(e,t){return L(t,g.localize("editor.action.autoFix.noneMessage","No auto fixes available"),{include:S.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle")}constructor(){super({id:z.Id,label:g.localize("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:m.ContextKeyExpr.and(u.EditorContextKeys.writable,D(S.CodeActionKind.QuickFix)),kbOpts:{kbExpr:u.EditorContextKeys.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}}z.Id="editor.action.autoFix"})),r.register("1eih8",(function(t,n){e(t.exports,"Lazy",(function(){return i}));class i{getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}constructor(e){this.executor=e,this._didRun=!1}}})),r.register("aUa0K",(function(t,n){e(t.exports,"codeActionCommandId",(function(){return b}),(function(e){return b=e})),e(t.exports,"refactorCommandId",(function(){return y}),(function(e){return y=e})),e(t.exports,"sourceActionCommandId",(function(){return _}),(function(e){return _=e})),e(t.exports,"organizeImportsCommandId",(function(){return C}),(function(e){return C=e})),e(t.exports,"fixAllCommandId",(function(){return x}),(function(e){return x=e})),e(t.exports,"CodeActionItem",(function(){return S}),(function(e){return S=e})),e(t.exports,"getCodeActions",(function(){return E}),(function(e){return E=e}));var i=r("cCPZ6"),o=r("dq3o1"),s=r("2zf51"),a=r("iNF8q"),l=r("65vvd"),c=r("dGvPd"),u=r("dSV0M"),d=r("e8gAb"),h=r("aZciE"),p=r("3EdBC"),g=r("8HXtk"),f=r("cIR7X"),m=r("7YObE"),v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const b="editor.action.codeAction",y="editor.action.refactor",_="editor.action.sourceAction",C="editor.action.organizeImports",x="editor.action.fixAll";class S{resolve(e){var t;return v(this,void 0,void 0,(function*(){if((null===(t=this.provider)||void 0===t?void 0:t.resolveCodeAction)&&!this.action.edit){let t;try{t=yield this.provider.resolveCodeAction(this.action,e)}catch(e){(0,s.onUnexpectedExternalError)(e)}t&&(this.action.edit=t.edit)}return this}))}constructor(e,t){this.action=e,this.provider=t}}class w extends a.Disposable{static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,i.isNonEmptyArray)(e.diagnostics)?(0,i.isNonEmptyArray)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,i.isNonEmptyArray)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some((({action:e})=>!!e.kind&&g.CodeActionKind.QuickFix.contains(new(0,g.CodeActionKind)(e.kind))&&!!e.isPreferred))}constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(w.codeActionsComparator),this.validActions=this.allActions.filter((({action:e})=>!e.disabled))}}const k={actions:[],documentation:void 0};function E(e,t,n,o,r){var l;const u=n.filter||{},d={only:null===(l=u.include)||void 0===l?void 0:l.value,trigger:n.type},p=new(0,c.TextModelCancellationTokenSource)(e,r),f=function(e,t){return h.CodeActionProviderRegistry.all(e).filter((e=>!e.providedCodeActionKinds||e.providedCodeActionKinds.some((e=>(0,g.mayIncludeActionsOfKind)(t,new(0,g.CodeActionKind)(e))))))}(e,u),m=new(0,a.DisposableStore),b=f.map((n=>v(this,void 0,void 0,(function*(){try{o.report(n);const i=yield n.provideCodeActions(e,t,d,p.token);if(i&&m.add(i),p.token.isCancellationRequested)return k;const r=((null==i?void 0:i.actions)||[]).filter((e=>e&&(0,g.filtersAction)(u,e))),s=function(e,t,n){if(!e.documentation)return;const i=e.documentation.map((e=>({kind:new(0,g.CodeActionKind)(e.kind),command:e.command})));if(n){let e;for(const t of i)t.kind.contains(n)&&(e?e.kind.contains(t.kind)&&(e=t):e=t);if(e)return null==e?void 0:e.command}for(const e of t)if(e.kind)for(const t of i)if(t.kind.contains(new(0,g.CodeActionKind)(e.kind)))return t.command;return}(n,r,u.include);return{actions:r.map((e=>new S(e,n))),documentation:s}}catch(e){if((0,s.isPromiseCanceledError)(e))throw e;return(0,s.onUnexpectedExternalError)(e),k}})))),y=h.CodeActionProviderRegistry.onDidChange((()=>{const t=h.CodeActionProviderRegistry.all(e);(0,i.equals)(t,f)||p.cancel()}));return Promise.all(b).then((e=>{const t=(0,i.flatten)(e.map((e=>e.actions))),n=(0,i.coalesce)(e.map((e=>e.documentation)));return new w(t,n,m)})).finally((()=>{y.dispose(),p.dispose()}))}m.CommandsRegistry.registerCommand("_executeCodeActionProvider",(function(e,t,n,i,r){return v(this,void 0,void 0,(function*(){if(!(t instanceof l.URI))throw(0,s.illegalArgument)();const a=e.get(p.IModelService).getModel(t);if(!a)throw(0,s.illegalArgument)();const c=d.Selection.isISelection(n)?d.Selection.liftSelection(n):u.Range.isIRange(n)?a.validateRange(n):void 0;if(!c)throw(0,s.illegalArgument)();const h="string"==typeof i?new(0,g.CodeActionKind)(i):void 0,m=yield E(a,c,{type:1,filter:{includeSourceActions:!0,include:h}},f.Progress.None,o.CancellationToken.None),v=[],b=Math.min(m.validActions.length,"number"==typeof r?r:0);for(let e=0;e<b;e++)v.push(m.validActions[e].resolve(o.CancellationToken.None));try{return yield Promise.all(v),m.validActions.map((e=>e.action))}finally{setTimeout((()=>m.dispose()),100)}}))}))})),r.register("8HXtk",(function(t,n){e(t.exports,"CodeActionKind",(function(){return i})),e(t.exports,"mayIncludeActionsOfKind",(function(){return o})),e(t.exports,"filtersAction",(function(){return r})),e(t.exports,"CodeActionCommandArgs",(function(){return a}));class i{equals(e){return this.value===e.value}contains(e){return this.equals(e)||""===this.value||e.value.startsWith(this.value+i.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new i(this.value+i.sep+e)}constructor(e){this.value=e}}function o(e,t){return!(e.include&&!e.include.intersects(t))&&((!e.excludes||!e.excludes.some((n=>s(t,n,e.include))))&&!(!e.includeSourceActions&&i.Source.contains(t)))}function r(e,t){const n=t.kind?new i(t.kind):void 0;return!!(!e.include||n&&e.include.contains(n))&&(!(e.excludes&&n&&e.excludes.some((t=>s(n,t,e.include))))&&(!(!e.includeSourceActions&&n&&i.Source.contains(n))&&!(e.onlyIncludePreferredActions&&!t.isPreferred)))}function s(e,t,n){return!!t.contains(e)&&(!n||!t.contains(n))}i.sep=".",i.None=new i("@@none@@"),i.Empty=new i(""),i.QuickFix=new i("quickfix"),i.Refactor=new i("refactor"),i.Source=new i("source"),i.SourceOrganizeImports=i.Source.append("organizeImports"),i.SourceFixAll=i.Source.append("fixAll");class a{static fromUser(e,t){return e&&"object"==typeof e?new a(a.getKindFromUser(e,t.kind),a.getApplyFromUser(e,t.apply),a.getPreferredUser(e)):new a(t.kind,t.apply,!1)}static getApplyFromUser(e,t){switch("string"==typeof e.apply?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return"string"==typeof e.kind?new i(e.kind):t}static getPreferredUser(e){return"boolean"==typeof e.preferred&&e.preferred}constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}}})),r.register("40AKv",(function(t,n){e(t.exports,"CodeActionUi",(function(){return v}),(function(e){return v=e}));var i,o=r("2zf51"),s=r("1eih8"),a=r("iNF8q"),l=r("j3sMg"),c=r("blTDv"),u=r("9acdW"),d=r("5Fmqh"),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){return function(n,i){t(n,i,e)}},g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))},f=function(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n},m=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)};let v=class extends a.Disposable{dispose(){f(this,i,!0,"f"),super.dispose()}update(e){var t,n,r;return g(this,void 0,void 0,(function*(){if(1!==e.type)return void(null===(t=this._lightBulbWidget.rawValue)||void 0===t||t.hide());let s;try{s=yield e.actions}catch(e){return void(0,o.onUnexpectedError)(e)}if(!m(this,i,"f"))if(this._lightBulbWidget.getValue().update(s,e.trigger,e.position),1===e.trigger.type){if(null===(n=e.trigger.filter)||void 0===n?void 0:n.include){const t=this.tryGetValidActionToApply(e.trigger,s);if(t){try{yield this.delegate.applyCodeAction(t,!1)}finally{s.dispose()}return}if(e.trigger.context){const t=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,s);if(t&&t.action.disabled)return l.MessageController.get(this._editor).showMessage(t.action.disabled,e.trigger.context.position),void s.dispose()}}const t=!!(null===(r=e.trigger.filter)||void 0===r?void 0:r.include);if(e.trigger.context&&(!s.allActions.length||!t&&!s.validActions.length))return l.MessageController.get(this._editor).showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=s,void s.dispose();this._activeCodeActions.value=s,this._codeActionWidget.getValue().show(e.trigger,s,e.position,{includeDisabledActions:t})}else this._codeActionWidget.getValue().isVisible?s.dispose():this._activeCodeActions.value=s}))}getInvalidActionThatWouldHaveBeenApplied(e,t){if(t.allActions.length)return"first"===e.autoApply&&0===t.validActions.length||"ifSingle"===e.autoApply&&1===t.allActions.length?t.allActions.find((({action:e})=>e.disabled)):void 0}tryGetValidActionToApply(e,t){if(t.validActions.length)return"first"===e.autoApply&&t.validActions.length>0||"ifSingle"===e.autoApply&&1===t.validActions.length?t.validActions[0]:void 0}showCodeActionList(e,t,n,i){return g(this,void 0,void 0,(function*(){this._codeActionWidget.getValue().show(e,t,n,i)}))}constructor(e,t,n,o,r){super(),this._editor=e,this.delegate=o,this._activeCodeActions=this._register(new(0,a.MutableDisposable)),i.set(this,!1),this._codeActionWidget=new(0,s.Lazy)((()=>this._register(r.createInstance(u.CodeActionMenu,this._editor,{onSelectCodeAction:e=>g(this,void 0,void 0,(function*(){this.delegate.applyCodeAction(e,!0)}))})))),this._lightBulbWidget=new(0,s.Lazy)((()=>{const e=this._register(r.createInstance(d.LightBulbWidget,this._editor,t,n));return this._register(e.onClick((e=>this.showCodeActionList(e.trigger,e.actions,e,{includeDisabledActions:!1})))),e}))}};i=new WeakMap,v=h([p(4,c.IInstantiationService)],v)})),r.register("j3sMg",(function(t,n){e(t.exports,"MessageController",(function(){return m}),(function(e){return m=e}));var i=r("9LBxC"),o=r("6wKox"),s=r("iNF8q"),a=r("4waad"),l=r("dSV0M"),c=r("eh64S"),u=r("1N08n"),d=r("JzRxO"),h=r("5h6AG"),p=r("g1JV6"),g=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e,t){return function(n,i){t(n,i,e)}};let m=class e{static get(t){return t.getContribution(e.ID)}dispose(){this._editorListener.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){let n;(0,a.alert)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new b(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeCursorPosition((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidDispose((()=>this.closeMessage()))),this._messageListeners.add(this._editor.onDidChangeModel((()=>this.closeMessage()))),this._messageListeners.add(new(0,o.TimeoutTimer)((()=>this.closeMessage()),3e3)),this._messageListeners.add(this._editor.onMouseMove((e=>{e.target.position&&(n?n.containsPosition(e.target.position)||this.closeMessage():n=new(0,l.Range)(t.lineNumber-3,1,e.target.position.lineNumber+3,1))})))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(b.fadeOut(this._messageWidget.value))}_onDidAttemptReadOnlyEdit(){this._editor.hasModel()&&this.showMessage(i.localize("editor.readonly","Cannot edit in read-only editor"),this._editor.getPosition())}constructor(t,n){this._messageWidget=new(0,s.MutableDisposable),this._messageListeners=new(0,s.DisposableStore),this._editor=t,this._visible=e.MESSAGE_VISIBLE.bindTo(n),this._editorListener=this._editor.onDidAttemptReadOnlyEdit((()=>this._onDidAttemptReadOnlyEdit()))}};m.ID="editor.contrib.messageController",m.MESSAGE_VISIBLE=new(0,u.RawContextKey)("messageVisible",!1,i.localize("messageVisible","Whether the editor is currently showing an inline message")),m=g([f(1,u.IContextKeyService)],m);const v=c.EditorCommand.bindToContribution(m.get);(0,c.registerEditorCommand)(new v({id:"leaveEditorMessage",precondition:m.MESSAGE_VISIBLE,handler:e=>e.closeMessage(),kbOpts:{weight:130,primary:9}}));class b{static fadeOut(e){let t;const n=()=>{e.dispose(),clearTimeout(t),e.getDomNode().removeEventListener("animationend",n)};return t=setTimeout(n,110),e.getDomNode().addEventListener("animationend",n),e.getDomNode().classList.add("fadeOut"),{dispose:n}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2]}}afterRender(e){this._domNode.classList.toggle("below",2===e)}constructor(e,{lineNumber:t,column:n},i){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n-1},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage");const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const r=document.createElement("div");r.classList.add("message"),r.textContent=i,this._domNode.appendChild(r);const s=document.createElement("div");s.classList.add("anchor","below"),this._domNode.appendChild(s),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}}(0,c.registerEditorContribution)(m.ID,m),(0,d.registerThemingParticipant)(((e,t)=>{const n=e.getColor(h.inputValidationInfoBorder);if(n){let i=e.type===p.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.below { border-top-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .anchor.top { border-bottom-color: ${n}; }`),t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { border: ${i}px solid ${n}; }`)}const i=e.getColor(h.inputValidationInfoBackground);i&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { background-color: ${i}; }`);const o=e.getColor(h.inputValidationInfoForeground);o&&t.addRule(`.monaco-editor .monaco-editor-overlaymessage .message { color: ${o}; }`)}))})),r.register("9acdW",(function(t,n){e(t.exports,"CodeActionMenu",(function(){return y}),(function(e){return y=e}));var i=r("2vQKJ"),o=r("8M7pz"),s=r("2zf51"),a=r("1eih8"),l=r("iNF8q"),c=r("aGBCV"),u=r("aZciE"),d=r("aUa0K"),h=r("8HXtk"),p=r("hpGyO"),g=r("dEnIO"),f=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){return function(n,i){t(n,i,e)}},v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class b extends o.Action{constructor(e,t){super(e.command?e.command.id:e.title,e.title.replace(/\r\n|\r|\n/g," "),void 0,!e.disabled,t),this.action=e}}let y=class extends l.Disposable{get isVisible(){return this._visible}show(e,t,n,i){return v(this,void 0,void 0,(function*(){const o=i.includeDisabledActions?t.allActions:t.validActions;if(!o.length)return void(this._visible=!1);if(!this._editor.getDomNode())throw this._visible=!1,(0,s.canceled)();this._visible=!0,this._showingActions.value=t;const r=this.getMenuActions(e,o,t.documentation),a=c.Position.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},l=this._keybindingResolver.getResolver(),u=this._editor.getOption(113);this._contextMenuService.showContextMenu({domForShadowRoot:u?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>r,onHide:()=>{this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:e=>e instanceof b?l(e.action):void 0})}))}getMenuActions(e,t,n){var i,r;const s=e=>new b(e.action,(()=>this._delegate.onSelectCodeAction(e))),a=t.map(s),l=[...n],c=this._editor.getModel();if(c&&a.length)for(const n of u.CodeActionProviderRegistry.all(c))n._getAdditionalMenuItems&&l.push(...n._getAdditionalMenuItems({trigger:e.type,only:null===(r=null===(i=e.filter)||void 0===i?void 0:i.include)||void 0===r?void 0:r.value},t.map((e=>e.action))));return l.length&&a.push(new(0,o.Separator),...l.map((e=>s(new(0,d.CodeActionItem)({title:e.title,command:e},void 0))))),a}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=(0,i.getDomNodePagePosition)(this._editor.getDomNode());return{x:n.left+t.left,y:n.top+t.top+t.height}}constructor(e,t,n,i){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._visible=!1,this._showingActions=this._register(new(0,l.MutableDisposable)),this._keybindingResolver=new _({getKeybindings:()=>i.getKeybindings()})}};y=f([m(2,p.IContextMenuService),m(3,g.IKeybindingService)],y);class _{getResolver(){const e=new(0,a.Lazy)((()=>this._keybindingProvider.getKeybindings().filter((e=>_.codeActionCommands.indexOf(e.command)>=0)).filter((e=>e.resolvedKeybinding)).map((e=>{let t=e.commandArgs;return e.command===d.organizeImportsCommandId?t={kind:h.CodeActionKind.SourceOrganizeImports.value}:e.command===d.fixAllCommandId&&(t={kind:h.CodeActionKind.SourceFixAll.value}),Object.assign({resolvedKeybinding:e.resolvedKeybinding},h.CodeActionCommandArgs.fromUser(t,{kind:h.CodeActionKind.None,apply:"never"}))}))));return t=>{if(t.kind){const n=this.bestKeybindingForCodeAction(t,e.getValue());return null==n?void 0:n.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new(0,h.CodeActionKind)(e.kind);return t.filter((e=>e.kind.contains(n))).filter((t=>!t.preferred||e.isPreferred)).reduceRight(((e,t)=>e?e.kind.contains(t.kind)?t:e:t),void 0)}constructor(e){this._keybindingProvider=e}}_.codeActionCommands=[d.refactorCommandId,d.codeActionCommandId,d.sourceActionCommandId,d.organizeImportsCommandId,d.fixAllCommandId]})),r.register("5Fmqh",(function(t,n){e(t.exports,"LightBulbWidget",(function(){return b}),(function(e){return b=e}));var i,o=r("2vQKJ"),s=r("qMCPg"),a=r("4zvzH"),l=r("iNF8q"),c=r("cVvMG"),u=r("9LBxC"),d=r("dEnIO"),h=r("JzRxO"),p=r("5h6AG"),g=r("02Yht"),f=r("evoAc"),m=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},v=function(e,t){return function(n,i){t(n,i,e)}};!function(e){e.Hidden={type:0};e.Showing=class{constructor(e,t,n,i){this.actions=e,this.trigger=t,this.editorPosition=n,this.widgetPosition=i,this.type=1}}}(i||(i={}));let b=class e extends l.Disposable{dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return 1===this._state.type?this._state.widgetPosition:null}update(t,n,o){if(t.validActions.length<=0)return this.hide();const r=this._editor.getOptions();if(!r.get(55).enabled)return this.hide();const s=this._editor.getModel();if(!s)return this.hide();const{lineNumber:a,column:l}=s.validatePosition(o),u=s.getOptions().tabSize,d=r.get(41),h=s.getLineContent(a),p=c.TextModel.computeIndentLevel(h,u),g=e=>e>2&&this._editor.getTopForLineNumber(e)===this._editor.getTopForLineNumber(e-1);let f=a;if(!(d.spaceWidth*p>22))if(a>1&&!g(a-1))f-=1;else if(g(a+1)){if(l*d.spaceWidth<22)return this.hide()}else f+=1;this.state=new i.Showing(t,n,o,{position:{lineNumber:f,column:1},preference:e._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=i.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(1===this.state.type&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...f.Codicon.lightBulb.classNamesArray),this._domNode.classList.add(...f.Codicon.lightbulbAutofix.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(e)return void(this.title=u.localize("prefferedQuickFixWithKb","Show Fixes. Preferred Fix Available ({0})",e.getLabel()))}this._domNode.classList.remove(...f.Codicon.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...f.Codicon.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);this.title=e?u.localize("quickFixWithKb","Show Fixes ({0})",e.getLabel()):u.localize("quickFix","Show Fixes")}set title(e){this._domNode.title=e}constructor(e,t,n,r){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=r,this._onClick=this._register(new(0,a.Emitter)),this.onClick=this._onClick.event,this._state=i.Hidden,this._domNode=document.createElement("div"),this._domNode.className=f.Codicon.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent((e=>{const t=this._editor.getModel();(1!==this.state.type||!t||this.state.editorPosition.lineNumber>=t.getLineCount())&&this.hide()}))),g.Gesture.ignoreTarget(this._domNode),this._register(o.addStandardDisposableGenericMouseDownListner(this._domNode,(e=>{if(1!==this.state.type)return;this._editor.focus(),e.preventDefault();const{top:t,height:n}=o.getDomNodePagePosition(this._domNode),i=this._editor.getOption(57);let r=Math.floor(i/3);null!==this.state.widgetPosition.position&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(r+=i),this._onClick.fire({x:e.posx,y:t+n+r,actions:this.state.actions,trigger:this.state.trigger})}))),this._register(o.addDisposableListener(this._domNode,"mouseenter",(e=>{if(1!=(1&e.buttons))return;this.hide();const t=new(0,s.GlobalMouseMoveMonitor);t.startMonitoring(e.target,e.buttons,s.standardMouseMoveMerger,(()=>{}),(()=>{t.dispose()}))}))),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(55)&&!this._editor.getOption(55).enabled&&this.hide()}))),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}};b._posPref=[0],b=m([v(3,d.IKeybindingService)],b),(0,h.registerThemingParticipant)(((e,t)=>{var n;const i=null===(n=e.getColor(p.editorBackground))||void 0===n?void 0:n.transparent(.7),o=e.getColor(p.editorLightBulbForeground);o&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${f.Codicon.lightBulb.cssSelector} {\n\t\t\tcolor: ${o};\n\t\t\tbackground-color: ${i};\n\t\t}`);const r=e.getColor(p.editorLightBulbAutoFixForeground);r&&t.addRule(`\n\t\t.monaco-editor .contentWidgets ${f.Codicon.lightbulbAutofix.cssSelector} {\n\t\t\tcolor: ${r};\n\t\t\tbackground-color: ${i};\n\t\t}`)}))})),r.register("hoVXd",(function(t,n){e(t.exports,"SUPPORTED_CODE_ACTIONS",(function(){return v}),(function(e){return v=e})),e(t.exports,"CodeActionModel",(function(){return C}),(function(e){return C=e}));var i,o=r("6wKox"),s=r("2zf51"),a=r("4zvzH"),l=r("iNF8q"),c=r("d8krI"),u=r("dSV0M"),d=r("aZciE"),h=r("1N08n"),p=r("cIR7X"),g=r("aUa0K"),f=function(e,t,n,i){if("a"===n&&!i)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?i:"a"===n?i.call(e):i?i.value:t.get(e)},m=function(e,t,n,i,o){if("m"===i)throw new TypeError("Private method is not writable");if("a"===i&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===i?o.call(e,n):o?o.value=n:t.set(e,n),n};const v=new(0,h.RawContextKey)("supportedCodeAction","");class b extends l.Disposable{trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();t&&e.some((e=>(0,c.isEqual)(e,t.uri)))&&this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet((()=>{this.trigger({type:2})}),this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(t)for(const n of this._markerService.read({resource:t.uri})){const i=t.validateRange(n);if(u.Range.intersectRanges(i,e))return u.Range.lift(i)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&2===e.type){const{lineNumber:e,column:i}=n.getPosition(),o=t.getLineContent(e);if(0===o.length)return;if(1===i){if(/\s/.test(o[0]))return}else if(i===t.getLineMaxColumn(e)){if(/\s/.test(o[o.length-1]))return}else if(/\s/.test(o[i-2])&&/\s/.test(o[i-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n)return void this._signalChange(void 0);const i=this._getRangeOfMarker(t),o=i?i.getStartPosition():t.getStartPosition(),r={trigger:e,selection:t,position:o};return this._signalChange(r),r}constructor(e,t,n,i=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=i,this._autoTriggerTimer=this._register(new(0,o.TimeoutTimer)),this._register(this._markerService.onMarkerChanged((e=>this._onMarkerChanges(e)))),this._register(this._editor.onDidChangeCursorPosition((()=>this._onCursorChange())))}}var y;!function(e){e.Empty={type:0};e.Triggered=class{cancel(){this._cancellablePromise.cancel()}constructor(e,t,n,i){this.trigger=e,this.rangeOrSelection=t,this.position=n,this._cancellablePromise=i,this.type=1,this.actions=i.catch((e=>{if((0,s.isPromiseCanceledError)(e))return _;throw e}))}}}(y||(y={}));const _={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class C extends l.Disposable{dispose(){f(this,i,"f")||(m(this,i,!0,"f"),super.dispose(),this.setState(y.Empty,!0))}_update(){if(f(this,i,"f"))return;this._codeActionOracle.value=void 0,this.setState(y.Empty);const e=this._editor.getModel();if(e&&d.CodeActionProviderRegistry.has(e)&&!this._editor.getOption(79)){const t=[];for(const n of d.CodeActionProviderRegistry.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new b(this._editor,this._markerService,(t=>{var n;if(!t)return void this.setState(y.Empty);const i=(0,o.createCancelablePromise)((n=>(0,g.getCodeActions)(e,t.selection,t.trigger,p.Progress.None,n)));1===t.trigger.type&&(null===(n=this._progressService)||void 0===n||n.showWhile(i,250)),this.setState(new y.Triggered(t.trigger,t.selection,t.position,i))}),void 0),this._codeActionOracle.value.trigger({type:2})}else this._supportedCodeActions.reset()}trigger(e){this._codeActionOracle.value&&this._codeActionOracle.value.trigger(e)}setState(e,t){e!==this._state&&(1===this._state.type&&this._state.cancel(),this._state=e,t||f(this,i,"f")||this._onDidChangeState.fire(e))}constructor(e,t,n,o){super(),this._editor=e,this._markerService=t,this._progressService=o,this._codeActionOracle=this._register(new(0,l.MutableDisposable)),this._state=y.Empty,this._onDidChangeState=this._register(new(0,a.Emitter)),this.onDidChangeState=this._onDidChangeState.event,i.set(this,!1),this._supportedCodeActions=v.bindTo(n),this._register(this._editor.onDidChangeModel((()=>this._update()))),this._register(this._editor.onDidChangeModelLanguage((()=>this._update()))),this._register(d.CodeActionProviderRegistry.onDidChange((()=>this._update()))),this._update()}}i=new WeakMap})),r.register("3XmjO",(function(e,t){var n=r("6wKox"),i=r("2zf51"),o=r("iNF8q"),s=r("dGvPd"),a=r("eh64S"),l=r("aZciE"),c=r("4prRa"),u=r("1Q1a4"),d=r("7YObE"),h=r("hYVHb"),p=r("lvzzc"),g=r("2vQKJ"),f=r("inPe9"),m=r("dBC60"),v=r("9LBxC"),b=r("igipX"),y=r("bpDGs"),_=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},C=function(e,t){return function(n,i){t(n,i,e)}},x=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let S=class{dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),null===(e=this._currentCodeLensModel)||void 0===e||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){let e,t=this._editor.getOption(14);return!t||t<5?(t=.9*this._editor.getOption(43)|0,e=this._editor.getOption(57)):e=t*Math.max(1.3,this._editor.getOption(57)/this._editor.getOption(43))|0,{codeLensHeight:e,fontSize:t}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(13),i=this._editor.getOption(41),o=`--codelens-font-family${this._styleClassName}`,r=`--codelens-font-features${this._styleClassName}`;let s=`\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(.5*t)}px; font-feature-settings: var(${r}) }\n\t\t.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }\n\t\t`;n&&(s+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o})}`),this._styleElement.textContent=s,this._editor.getContainerDomNode().style.setProperty(o,null!=n?n:"inherit"),this._editor.getContainerDomNode().style.setProperty(r,i.fontFeatureSettings),this._editor.changeViewZones((t=>{for(let n of this._lenses)n.updateHeight(e,t)}))}_localDispose(){var e,t,n;null===(e=this._getCodeLensModelPromise)||void 0===e||e.cancel(),this._getCodeLensModelPromise=void 0,null===(t=this._resolveCodeLensesPromise)||void 0===t||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),null===(n=this._currentCodeLensModel)||void 0===n||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e)return;if(!this._editor.getOption(12))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!l.CodeLensProviderRegistry.has(e))return void(t&&this._localToDispose.add((0,n.disposableTimeout)((()=>{const n=this._codeLensCache.get(e);t===n&&(this._codeLensCache.delete(e),this._onModelChange())}),3e4)));for(const t of l.CodeLensProviderRegistry.all(e))if("function"==typeof t.onDidChange){let e=t.onDidChange((()=>r.schedule()));this._localToDispose.add(e)}const r=new(0,n.RunOnceScheduler)((()=>{var t;const o=Date.now();null===(t=this._getCodeLensModelPromise)||void 0===t||t.cancel(),this._getCodeLensModelPromise=(0,n.createCancelablePromise)((t=>(0,c.getCodeLensModel)(e,t))),this._getCodeLensModelPromise.then((t=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=t,this._codeLensCache.put(e,t);const n=this._getCodeLensModelDelays.update(e,Date.now()-o);r.delay=n,this._renderCodeLensSymbols(t),this._resolveCodeLensesInViewport()}),i.onUnexpectedError)}),this._getCodeLensModelDelays.get(e));this._localToDispose.add(r),this._localToDispose.add((0,o.toDisposable)((()=>this._resolveCodeLensesScheduler.cancel()))),this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{let n=[],i=-1;this._lenses.forEach((e=>{e.isValid()&&i!==e.getLineNumber()?(e.update(t),i=e.getLineNumber()):n.push(e)}));let o=new(0,u.CodeLensHelper);n.forEach((e=>{e.dispose(o,t),this._lenses.splice(this._lenses.indexOf(e),1)})),o.commit(e)}))})),r.schedule()}))),this._localToDispose.add(this._editor.onDidFocusEditorWidget((()=>{r.schedule()}))),this._localToDispose.add(this._editor.onDidScrollChange((e=>{e.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add(this._editor.onDidLayoutChange((()=>{this._resolveCodeLensesInViewportSoon()}))),this._localToDispose.add((0,o.toDisposable)((()=>{if(this._editor.getModel()){const e=s.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{this._disposeAllLenses(e,t)}))})),e.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)}))),this._localToDispose.add(this._editor.onMouseDown((e=>{if(9!==e.target.type)return;let t=e.target.element;if("SPAN"===(null==t?void 0:t.tagName)&&(t=t.parentElement),"A"===(null==t?void 0:t.tagName))for(const e of this._lenses){let n=e.getCommand(t);if(n){this._commandService.executeCommand(n.id,...n.arguments||[]).catch((e=>this._notificationService.error(e)));break}}}))),r.schedule()}_disposeAllLenses(e,t){const n=new(0,u.CodeLensHelper);for(const e of this._lenses)e.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;let t,n=this._editor.getModel().getLineCount(),i=[];for(let o of e.lenses){let e=o.symbol.range.startLineNumber;e<1||e>n||(t&&t[t.length-1].symbol.range.startLineNumber===e?t.push(o):(t=[o],i.push(t)))}const o=s.StableEditorScrollState.capture(this._editor),r=this._getLayoutInfo();this._editor.changeDecorations((e=>{this._editor.changeViewZones((t=>{const n=new(0,u.CodeLensHelper);let o=0,s=0;for(;s<i.length&&o<this._lenses.length;){let e=i[s][0].symbol.range.startLineNumber,a=this._lenses[o].getLineNumber();a<e?(this._lenses[o].dispose(n,t),this._lenses.splice(o,1)):a===e?(this._lenses[o].updateCodeLensSymbols(i[s],n),s++,o++):(this._lenses.splice(o,0,new(0,u.CodeLensWidget)(i[s],this._editor,this._styleClassName,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),o++,s++)}for(;o<this._lenses.length;)this._lenses[o].dispose(n,t),this._lenses.splice(o,1);for(;s<i.length;)this._lenses.push(new(0,u.CodeLensWidget)(i[s],this._editor,this._styleClassName,n,t,r.codeLensHeight,(()=>this._resolveCodeLensesInViewportSoon()))),s++;n.commit(e)}))})),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;null===(e=this._resolveCodeLensesPromise)||void 0===e||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const o=[],r=[];if(this._lenses.forEach((e=>{const n=e.computeIfNecessary(t);n&&(o.push(n),r.push(e))})),0===o.length)return;const s=Date.now(),a=(0,n.createCancelablePromise)((e=>{const n=o.map(((n,o)=>{const s=new Array(n.length),a=n.map(((n,o)=>n.symbol.command||"function"!=typeof n.provider.resolveCodeLens?(s[o]=n.symbol,Promise.resolve(void 0)):Promise.resolve(n.provider.resolveCodeLens(t,n.symbol,e)).then((e=>{s[o]=e}),i.onUnexpectedExternalError)));return Promise.all(a).then((()=>{e.isCancellationRequested||r[o].isDisposed()||r[o].updateCommands(s)}))}));return Promise.all(n)}));this._resolveCodeLensesPromise=a,this._resolveCodeLensesPromise.then((()=>{const e=this._resolveCodeLensesDelays.update(t,Date.now()-s);this._resolveCodeLensesScheduler.delay=e,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}),(e=>{(0,i.onUnexpectedError)(e),a===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)}))}getLenses(){return this._lenses}constructor(e,t,i,r){this._editor=e,this._commandService=t,this._notificationService=i,this._codeLensCache=r,this._disposables=new(0,o.DisposableStore),this._localToDispose=new(0,o.DisposableStore),this._lenses=[],this._getCodeLensModelDelays=new(0,y.LanguageFeatureRequestDelays)(l.CodeLensProviderRegistry,250,2500),this._oldCodeLensModels=new(0,o.DisposableStore),this._resolveCodeLensesDelays=new(0,y.LanguageFeatureRequestDelays)(l.CodeLensProviderRegistry,250,2500),this._resolveCodeLensesScheduler=new(0,n.RunOnceScheduler)((()=>this._resolveCodeLensesInViewport()),this._resolveCodeLensesDelays.min),this._disposables.add(this._editor.onDidChangeModel((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>this._onModelChange()))),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(41)||e.hasChanged(14)||e.hasChanged(13))&&this._updateLensStyle(),e.hasChanged(12)&&this._onModelChange()}))),this._disposables.add(l.CodeLensProviderRegistry.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,f.hash)(this._editor.getId()).toString(16),this._styleElement=g.createStyleSheet(g.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}};S.ID="css.editor.codeLens",S=_([C(1,d.ICommandService),C(2,h.INotificationService),C(3,p.ICodeLensCache)],S),(0,a.registerEditorContribution)(S.ID,S),(0,a.registerEditorAction)(class extends a.EditorAction{run(e,t){return x(this,void 0,void 0,(function*(){if(!t.hasModel())return;const n=e.get(m.IQuickInputService),i=e.get(d.ICommandService),o=e.get(h.INotificationService),r=t.getSelection().positionLineNumber,s=t.getContribution(S.ID),a=[];for(let e of s.getLenses())if(e.getLineNumber()===r)for(let t of e.getItems()){const{command:e}=t.symbol;e&&a.push({label:e.title,command:e})}if(0===a.length)return;const l=yield n.pick(a,{canPickMany:!1});if(l)try{yield i.executeCommand(l.command.id,...l.command.arguments||[])}catch(e){o.error(e)}}))}constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:b.EditorContextKeys.hasCodeLensProvider,label:(0,v.localize)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}})})),r.register("4prRa",(function(t,n){e(t.exports,"CodeLensModel",(function(){return p}),(function(e){return p=e})),e(t.exports,"getCodeLensModel",(function(){return g}),(function(e){return g=e}));var i=r("dq3o1"),o=r("2zf51"),s=r("65vvd"),a=r("aZciE"),l=r("3EdBC"),c=r("iNF8q"),u=r("7YObE"),d=r("6cqQ7"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class p{dispose(){this._disposables.dispose()}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}constructor(){this.lenses=[],this._disposables=new(0,c.DisposableStore)}}function g(e,t){return h(this,void 0,void 0,(function*(){const n=a.CodeLensProviderRegistry.ordered(e),i=new Map,r=new p,s=n.map(((n,s)=>h(this,void 0,void 0,(function*(){i.set(n,s);try{const i=yield Promise.resolve(n.provideCodeLenses(e,t));i&&r.add(i,n)}catch(e){(0,o.onUnexpectedExternalError)(e)}}))));return yield Promise.all(s),r.lenses=r.lenses.sort(((e,t)=>e.symbol.range.startLineNumber<t.symbol.range.startLineNumber?-1:e.symbol.range.startLineNumber>t.symbol.range.startLineNumber?1:i.get(e.provider)<i.get(t.provider)?-1:i.get(e.provider)>i.get(t.provider)?1:e.symbol.range.startColumn<t.symbol.range.startColumn?-1:e.symbol.range.startColumn>t.symbol.range.startColumn?1:0)),r}))}u.CommandsRegistry.registerCommand("_executeCodeLensProvider",(function(e,...t){let[n,r]=t;(0,d.assertType)(s.URI.isUri(n)),(0,d.assertType)("number"==typeof r||!r);const a=e.get(l.IModelService).getModel(n);if(!a)throw(0,o.illegalArgument)();const u=[],h=new(0,c.DisposableStore);return g(a,i.CancellationToken.None).then((e=>{h.add(e);let t=[];for(const n of e.lenses)null==r||Boolean(n.symbol.command)?u.push(n.symbol):r-- >0&&n.provider.resolveCodeLens&&t.push(Promise.resolve(n.provider.resolveCodeLens(a,n.symbol,i.CancellationToken.None)).then((e=>u.push(e||n.symbol))));return Promise.all(t)})).then((()=>u)).finally((()=>{setTimeout((()=>h.dispose()),100)}))}))})),r.register("1Q1a4",(function(t,n){e(t.exports,"CodeLensHelper",(function(){return p})),e(t.exports,"CodeLensWidget",(function(){return g}));var i=r("2vQKJ"),o=r("dSV0M"),s=r("cVvMG"),a=r("kg7au"),l=r("5h6AG"),c=r("JzRxO"),u=r("cDJQr");class d{onComputedHeight(e){void 0===this._lastHeight?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}constructor(e,t,n){this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}}class h{withCommands(e,t){this._commands.clear();let n=[],o=!1;for(let t=0;t<e.length;t++){const r=e[t];if(r&&(o=!0,r.command)){const o=(0,u.renderLabelWithIcons)(r.command.title.trim());r.command.id?(n.push(i.$("a",{id:String(t),title:r.command.tooltip},...o)),this._commands.set(String(t),r.command)):n.push(i.$("span",{title:r.command.tooltip},...o)),t+1<e.length&&n.push(i.$("span",void 0,"|"))}}o?(i.reset(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):i.reset(this._domNode,i.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}constructor(e,t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id="codelens.widget-"+h._idPool++,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}}h._idPool=0;class p{addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){let t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let e=0,n=t.length;e<n;e++)this._addDecorationsCallbacks[e](t[e])}constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}}class g{_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new h(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t&&t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some(((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),i=this._data[t].symbol;return!(!n||o.Range.isEmpty(i.range)!==n.isEmpty())}))}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach(((e,n)=>{t.addDecoration({range:e.symbol.range,options:s.ModelDecorationOptions.EMPTY},(e=>this._decorationIds[n]=e))}))}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.domNode.hasAttribute("monaco-visible-view-zone"))return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:e}=this._data[t];e.command=n.command||e.command}}}getCommand(e){var t;return null===(t=this._contentWidget)||void 0===t?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}getItems(){return this._data}constructor(e,t,n,i,r,a,l){let c;this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let u=[];this._data.forEach(((e,t)=>{e.symbol.command&&u.push(e.symbol),i.addDecoration({range:e.symbol.range,options:s.ModelDecorationOptions.EMPTY},(e=>this._decorationIds[t]=e)),c=c?o.Range.plusRange(c,e.symbol.range):o.Range.lift(e.symbol.range)})),this._viewZone=new d(c.startLineNumber-1,a,l),this._viewZoneId=r.addZone(this._viewZone),u.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(u,!1))}}(0,c.registerThemingParticipant)(((e,t)=>{const n=e.getColor(a.editorCodeLensForeground);n&&(t.addRule(`.monaco-editor .codelens-decoration { color: ${n}; }`),t.addRule(`.monaco-editor .codelens-decoration .codicon { color: ${n}; }`));const i=e.getColor(l.editorActiveLinkForeground);i&&(t.addRule(`.monaco-editor .codelens-decoration > a:hover { color: ${i} !important; }`),t.addRule(`.monaco-editor .codelens-decoration > a:hover .codicon { color: ${i} !important; }`))}))})),r.register("lvzzc",(function(t,n){e(t.exports,"ICodeLensCache",(function(){return g}),(function(e){return g=e}));var i=r("blTDv"),o=r("81WwP"),s=r("4prRa"),a=r("bngWv"),l=r("1mptJ"),c=r("dSV0M"),u=r("6wKox"),d=r("gFsox"),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){return function(n,i){t(n,i,e)}};const g=(0,i.createDecorator)("ICodeLensCache");class f{constructor(e,t){this.lineCount=e,this.data=t}}let m=class{put(e,t){const n=t.lenses.map((e=>{var t;return{range:e.symbol.range,command:e.symbol.command&&{id:"",title:null===(t=e.symbol.command)||void 0===t?void 0:t.title}}})),i=new(0,s.CodeLensModel);i.add({lenses:n,dispose:()=>{}},this._fakeProvider);const o=new f(e.getLineCount(),i);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const i=new Set;for(const e of n.data.lenses)i.add(e.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...i.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const e in t){const n=t[e],i=[];for(const e of n.lines)i.push({range:new(0,c.Range)(e,1,e,11)});const o=new(0,s.CodeLensModel);o.add({lenses:i,dispose(){}},this._fakeProvider),this._cache.set(e,new f(n.lineCount,o))}}catch(e){}}constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new(0,a.LRUCache)(20,.75);(0,u.runWhenIdle)((()=>e.remove("codelens/cache",1)));const t="codelens/cache2",n=e.get(t,1,"{}");this._deserialize(n),(0,d.once)(e.onWillSaveState)((n=>{n.reason===l.WillSaveStateReason.SHUTDOWN&&e.store(t,this._serialize(),1,1)}))}};m=h([p(0,l.IStorageService)],m),(0,o.registerSingleton)(g,m)})),r.register("hTrGI",(function(e,t){r("bRANq");var n=r("iNF8q"),i=r("eh64S"),o=r("4noRE"),s=r("dSV0M");class a extends n.Disposable{dispose(){super.dispose()}onMouseDown(e){var t;if(6!==e.target.type)return;if(![...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find((e=>e.startsWith("ced-colorBox"))))return;if(!e.target.range)return;const n=this._editor.getContribution(o.ModesHoverController.ID);if(!n.isColorPickerVisible()){const t=new(0,s.Range)(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1);n.showContentHover(t,0,!1)}}constructor(e){super(),this._editor=e,this._register(e.onMouseDown((e=>this.onMouseDown(e))))}}a.ID="editor.contrib.colorContribution",(0,i.registerEditorContribution)(a.ID,a)})),r.register("bRANq",(function(t,n){e(t.exports,"ColorDetector",(function(){return b}),(function(e){return b=e}));var i=r("6wKox"),o=r("2Jvmn"),s=r("2zf51"),a=r("inPe9"),l=r("iNF8q"),c=r("eh64S"),u=r("7yAvG"),d=r("dSV0M"),h=r("cVvMG"),p=r("aZciE"),g=r("eng0f"),f=r("3ufSI"),m=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},v=function(e,t){return function(n,i){t(n,i,e)}};let b=class e extends l.Disposable{isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageIdentifier(),n=this._configurationService.getValue(t.language);if(n&&"object"==typeof n){const e=n.colorDecorators;if(e&&void 0!==e.enable&&!e.enable)return e.enable}return this._editor.getOption(15)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const t=this._editor.getModel();t&&p.ColorProviderRegistry.has(t)&&(this._localToDispose.add(this._editor.onDidChangeModelContent((()=>{this._timeoutTimer||(this._timeoutTimer=new(0,i.TimeoutTimer),this._timeoutTimer.cancelAndSet((()=>{this._timeoutTimer=null,this.beginCompute()}),e.RECOMPUTE_TIME))}))),this.beginCompute())}beginCompute(){this._computePromise=(0,i.createCancelablePromise)((e=>{const t=this._editor.getModel();return t?(0,g.getColors)(t,e):Promise.resolve([])})),this._computePromise.then((e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null}),s.onUnexpectedError)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map((e=>({range:{startLineNumber:e.colorInfo.range.startLineNumber,startColumn:e.colorInfo.range.startColumn,endLineNumber:e.colorInfo.range.endLineNumber,endColumn:e.colorInfo.range.endColumn},options:h.ModelDecorationOptions.EMPTY})));this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach(((t,n)=>this._colorDatas.set(t,e[n])))}updateColorDecorators(e){let t=[],n={};for(let i=0;i<e.length&&t.length<500;i++){const{red:r,green:s,blue:l,alpha:c}=e[i].colorInfo.color,u=new(0,o.RGBA)(Math.round(255*r),Math.round(255*s),Math.round(255*l),c);let d=(0,a.hash)(`rgba(${u.r},${u.g},${u.b},${u.a})`).toString(16),h=`rgba(${u.r}, ${u.g}, ${u.b}, ${u.a})`,p="colorBox-"+d;this._decorationsTypes.has(p)||n[p]||this._codeEditorService.registerDecorationType("color-detector-color",p,{before:{contentText:" ",border:"solid 0.1em #000",margin:"0.1em 0.2em 0 0.2em",width:"0.8em",height:"0.8em",backgroundColor:h},dark:{before:{border:"solid 0.1em #eee"}}},void 0,this._editor),n[p]=!0,t.push({range:{startLineNumber:e[i].colorInfo.range.startLineNumber,startColumn:e[i].colorInfo.range.startColumn,endLineNumber:e[i].colorInfo.range.endLineNumber,endColumn:e[i].colorInfo.range.endColumn},options:this._codeEditorService.resolveDecorationOptions(p,!0)})}this._decorationsTypes.forEach((e=>{n[e]||this._codeEditorService.removeDecorationType(e)})),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,t)}removeAllDecorations(){this._decorationsIds=this._editor.deltaDecorations(this._decorationsIds,[]),this._colorDecoratorIds=this._editor.deltaDecorations(this._colorDecoratorIds,[]),this._decorationsTypes.forEach((e=>{this._codeEditorService.removeDecorationType(e)}))}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(d.Range.fromPositions(e,e)).filter((e=>this._colorDatas.has(e.id)));return 0===n.length?null:this._colorDatas.get(n[0].id)}constructor(e,t,n){super(),this._editor=e,this._codeEditorService=t,this._configurationService=n,this._localToDispose=this._register(new(0,l.DisposableStore)),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=[],this._decorationsTypes=new Set,this._register(e.onDidChangeModel((()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()}))),this._register(e.onDidChangeModelLanguage((()=>this.onModelChanged()))),this._register(p.ColorProviderRegistry.onDidChange((()=>this.onModelChanged()))),this._register(e.onDidChangeConfiguration((()=>{let e=this._isEnabled;this._isEnabled=this.isEnabled(),e!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())}))),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}};b.ID="editor.contrib.colorDetector",b.RECOMPUTE_TIME=1e3,b=m([v(1,u.ICodeEditorService),v(2,f.IConfigurationService)],b),(0,c.registerEditorContribution)(b.ID,b)})),r.register("eng0f",(function(t,n){e(t.exports,"getColors",(function(){return d})),e(t.exports,"getColorPresentations",(function(){return h}));var i=r("dq3o1"),o=r("2zf51"),s=r("65vvd"),a=r("dSV0M"),l=r("aZciE"),c=r("3EdBC"),u=r("7YObE");function d(e,t){const n=[],i=l.ColorProviderRegistry.ordered(e).reverse().map((i=>Promise.resolve(i.provideDocumentColors(e,t)).then((e=>{if(Array.isArray(e))for(let t of e)n.push({colorInfo:t,provider:i})}))));return Promise.all(i).then((()=>n))}function h(e,t,n,i){return Promise.resolve(n.provideColorPresentations(e,t,i))}u.CommandsRegistry.registerCommand("_executeDocumentColorProvider",(function(e,...t){const[n]=t;if(!(n instanceof s.URI))throw(0,o.illegalArgument)();const r=e.get(c.IModelService).getModel(n);if(!r)throw(0,o.illegalArgument)();const a=[],u=l.ColorProviderRegistry.ordered(r).reverse().map((e=>Promise.resolve(e.provideDocumentColors(r,i.CancellationToken.None)).then((e=>{if(Array.isArray(e))for(let t of e)a.push({range:t.range,color:[t.color.red,t.color.green,t.color.blue,t.color.alpha]})}))));return Promise.all(u).then((()=>a))})),u.CommandsRegistry.registerCommand("_executeColorPresentationProvider",(function(e,...t){const[n,r]=t,{uri:u,range:d}=r;if(!(u instanceof s.URI&&Array.isArray(n)&&4===n.length&&a.Range.isIRange(d)))throw(0,o.illegalArgument)();const[h,p,g,f]=n,m=e.get(c.IModelService).getModel(u);if(!m)throw(0,o.illegalArgument)();const v={range:d,color:{red:h,green:p,blue:g,alpha:f}},b=[],y=l.ColorProviderRegistry.ordered(m).reverse().map((e=>Promise.resolve(e.provideColorPresentations(m,v,i.CancellationToken.None)).then((e=>{Array.isArray(e)&&b.push(...e)}))));return Promise.all(y).then((()=>b))}))})),r.register("4noRE",(function(t,n){e(t.exports,"ModesHoverController",(function(){return C}),(function(e){return C=e}));var i=r("9LBxC"),o=r("izshX"),s=r("iNF8q"),a=r("eh64S"),l=r("dSV0M"),c=r("igipX"),u=r("ezXom"),d=r("cfe19"),h=r("5qkaX"),p=r("1n4fF"),g=r("5h6AG"),f=r("JzRxO"),m=r("a6pAG"),v=r("1N08n"),b=r("blTDv"),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_=function(e,t){return function(n,i){t(n,i,e)}};let C=class e{static get(t){return t.getContribution(e.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(51);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._toUnhook.add(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e)))),this._toUnhook.add(this._editor.onDidChangeModelDecorations((()=>this._onModelDecorationsChanged())))):(this._toUnhook.add(this._editor.onMouseMove((e=>this._onEditorMouseMove(e)))),this._toUnhook.add(this._editor.onKeyDown((e=>this._onKeyDown(e))))),this._toUnhook.add(this._editor.onMouseLeave(e)),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange((e=>this._onEditorScrollChanged(e))))}_unhookEvents(){this._toUnhook.clear()}_onModelDecorationsChanged(){var e,t;null===(e=this._contentWidget)||void 0===e||e.onModelDecorationsChanged(),null===(t=this._glyphWidget)||void 0===t||t.onModelDecorationsChanged()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target.type;9!==t||e.target.detail!==d.ModesContentHoverWidget.ID?12===t&&e.target.detail===h.ModesGlyphHoverWidget.ID||(12!==t&&e.target.detail!==h.ModesGlyphHoverWidget.ID&&(this._hoverClicked=!1),this._hideWidgets()):this._hoverClicked=!0}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseMove(e){var t,n,i,o,r;let s=e.target.type;if(this._isMouseDown&&this._hoverClicked)return;if(this._isHoverSticky&&9===s&&e.target.detail===d.ModesContentHoverWidget.ID)return;if(this._isHoverSticky&&!(null===(n=null===(t=e.event.browserEvent.view)||void 0===t?void 0:t.getSelection())||void 0===n?void 0:n.isCollapsed))return;if(!this._isHoverSticky&&9===s&&e.target.detail===d.ModesContentHoverWidget.ID&&(null===(i=this._contentWidget)||void 0===i?void 0:i.isColorPickerVisible()))return;if(this._isHoverSticky&&12===s&&e.target.detail===h.ModesGlyphHoverWidget.ID)return;if(!this._isHoverEnabled)return void this._hideWidgets();if(!this._getOrCreateContentWidget().maybeShowAt(e))return 2===s&&e.target.position?(null===(r=this._contentWidget)||void 0===r||r.hide(),this._glyphWidget||(this._glyphWidget=new(0,h.ModesGlyphHoverWidget)(this._editor,this._modeService,this._openerService)),void this._glyphWidget.startShowingAt(e.target.position.lineNumber)):void this._hideWidgets();null===(o=this._glyphWidget)||void 0===o||o.hide()}_onKeyDown(e){5!==e.keyCode&&6!==e.keyCode&&57!==e.keyCode&&4!==e.keyCode&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,null===(t=this._glyphWidget)||void 0===t||t.hide(),null===(n=this._contentWidget)||void 0===n||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(d.ModesContentHoverWidget,this._editor,this._hoverVisibleKey)),this._contentWidget}isColorPickerVisible(){var e;return(null===(e=this._contentWidget)||void 0===e?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),null===(e=this._glyphWidget)||void 0===e||e.dispose(),null===(t=this._contentWidget)||void 0===t||t.dispose()}constructor(e,t,n,i,o){this._editor=e,this._instantiationService=t,this._openerService=n,this._modeService=i,this._toUnhook=new(0,s.DisposableStore),this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration((e=>{e.hasChanged(51)&&(this._unhookEvents(),this._hookEvents())})),this._hoverVisibleKey=c.EditorContextKeys.hoverVisible.bindTo(o)}};C.ID="editor.contrib.hover",C=y([_(1,b.IInstantiationService),_(2,p.IOpenerService),_(3,u.IModeService),_(4,v.IContextKeyService)],C);class x extends a.EditorAction{run(e,t){if(!t.hasModel())return;let n=C.get(t);if(!n)return;const i=t.getPosition(),o=new(0,l.Range)(i.lineNumber,i.column,i.lineNumber,i.column),r=2===t.getOption(2);n.showContentHover(o,1,r)}constructor(){super({id:"editor.action.showHover",label:i.localize({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:(0,o.KeyChord)(2089,2087),weight:100}})}}class S extends a.EditorAction{run(e,t){let n=C.get(t);if(!n)return;const i=t.getPosition();if(!i)return;const o=new(0,l.Range)(i.lineNumber,i.column,i.lineNumber,i.column);m.GotoDefinitionAtPositionEditorContribution.get(t).startFindDefinitionFromCursor(i).then((()=>{n.showContentHover(o,1,!0)}))}constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:i.localize({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}}(0,a.registerEditorContribution)(C.ID,C),(0,a.registerEditorAction)(x),(0,a.registerEditorAction)(S),(0,f.registerThemingParticipant)(((e,t)=>{const n=e.getColor(g.editorHoverHighlight);n&&t.addRule(`.monaco-editor .hoverHighlight { background-color: ${n}; }`);const i=e.getColor(g.editorHoverBackground);i&&t.addRule(`.monaco-editor .monaco-hover { background-color: ${i}; }`);const o=e.getColor(g.editorHoverBorder);o&&(t.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${o}; }`),t.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${o.transparent(.5)}; }`),t.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${o.transparent(.5)}; }`));const r=e.getColor(g.textLinkForeground);r&&t.addRule(`.monaco-editor .monaco-hover a { color: ${r}; }`);const s=e.getColor(g.textLinkActiveForeground);s&&t.addRule(`.monaco-editor .monaco-hover a:hover { color: ${s}; }`);const a=e.getColor(g.editorHoverForeground);a&&t.addRule(`.monaco-editor .monaco-hover { color: ${a}; }`);const l=e.getColor(g.editorHoverStatusBarBackground);l&&t.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${l}; }`);const c=e.getColor(g.textCodeBlockBackground);c&&t.addRule(`.monaco-editor .monaco-hover code { background-color: ${c}; }`)}))})),r.register("cfe19",(function(t,n){e(t.exports,"ModesContentHoverWidget",(function(){return D}),(function(e){return D=e}));var i=r("2vQKJ"),o=r("iNF8q"),s=r("aGBCV"),a=r("dSV0M"),l=r("cVvMG"),c=r("aZciE"),u=r("jMQt1"),d=r("cCPZ6"),h=r("dFrQ5"),p=r("asayd"),g=r("fR8O8"),f=r("blTDv"),m=r("2d2gJ"),v=r("8dAJl"),b=r("b7dpQ"),y=r("dEnIO"),_=r("hOfQT"),C=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){return function(n,i){t(n,i,e)}},S=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const w=i.$;let k=class extends o.Disposable{get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(p.HoverAction.render(this.actionsElement,e,n))}append(e){const t=i.append(this.actionsElement,e);return this._hasContent=!0,t}constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=w("div.hover-row.status-bar"),this.actionsElement=i.append(this.hoverElement,w("div.actions"))}};k=C([x(0,y.IKeybindingService)],k);class E{setAnchor(e){this._anchor=e,this._result=[]}clearResult(){this._result=[]}static _getLineDecorations(e,t){if(1!==t.type)return[];const n=e.getModel(),i=t.range.startLineNumber,o=n.getLineMaxColumn(i);return e.getLineDecorations(i).filter((e=>{if(e.options.isWholeLine)return!0;const n=e.range.startLineNumber===i?e.range.startColumn:1,r=e.range.endLineNumber===i?e.range.endColumn:o;return!(n>t.range.startColumn||t.range.endColumn>r)}))}computeAsync(e){return S(this,void 0,void 0,(function*(){const t=this._anchor;if(!this._editor.hasModel()||!t)return Promise.resolve([]);const n=E._getLineDecorations(this._editor,t),i=yield Promise.all(this._participants.map((i=>this._computeAsync(i,n,t,e))));return(0,d.flatten)(i)}))}_computeAsync(e,t,n,i){return S(this,void 0,void 0,(function*(){return e.computeAsync?e.computeAsync(n,t,i):[]}))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=E._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return(0,d.coalesce)(t)}onResult(e,t){this._result=t?e.concat(this._result):this._result.concat(e)}getResult(){return this._result.slice(0)}getResultWithLoadingMessage(){if(this._anchor)for(const e of this._participants)if(e.createLoadingMessage){const t=e.createLoadingMessage(this._anchor);if(t)return this._result.slice(0).concat([t])}return this._result.slice(0)}constructor(e,t){this._participants=t,this._editor=e,this._result=[],this._anchor=null}}let D=class e extends h.Widget{dispose(){this._hoverOperation.cancel(),this._editor.removeContentWidget(this),super.dispose()}getId(){return this._id}getDomNode(){return this._hover.containerDomNode}_shouldShowAt(e){const t=e.target.type;if(6===t)return!0;if(7===t){const t=this._editor.getOption(41).typicalHalfwidthCharacterWidth/2,n=e.target.detail;if(n&&!n.isAfterLines&&"number"==typeof n.horizontalDistanceToText&&n.horizontalDistanceToText<t)return!0}return!1}maybeShowAt(e){var t;const n=[];for(const t of this._participants)if("function"==typeof t.suggestHoverAnchor){const i=t.suggestHoverAnchor(e);i&&n.push(i)}if(this._shouldShowAt(e)&&e.target.range){const i=[...(null===(t=e.target.element)||void 0===t?void 0:t.classList.values())||[]].find((e=>e.startsWith("ced-colorBox")))&&e.target.range.endColumn-e.target.range.startColumn==1?new(0,a.Range)(e.target.range.startLineNumber,e.target.range.startColumn+1,e.target.range.endLineNumber,e.target.range.endColumn+1):e.target.range;n.push(new(0,_.HoverRangeAnchor)(0,i))}return 0!==n.length&&(n.sort(((e,t)=>t.priority-e.priority)),this._startShowingAt(n[0],0,!1),!0)}_showAt(e,t,n){this._showAtPosition=e,this._showAtRange=t,this._hoverVisibleKey.set(!0),this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._editor.render(),this._stoleFocus=n,n&&this._hover.containerDomNode.focus()}getPosition(){return this._isVisible?{position:this._showAtPosition,range:this._showAtRange,preference:[1,2]}:null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach((e=>this._editor.applyFontInfo(e)))}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont(),this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(41);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${n}px`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(.66*this._editor.getLayoutInfo().width,500)}px`}onModelDecorationsChanged(){this._isChangingDecorations||this._isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._colorPicker||this._hoverOperation.start(0))}startShowingAtRange(e,t,n){this._startShowingAt(new(0,_.HoverRangeAnchor)(0,e),t,n)}_startShowingAt(e,t,n){if(!this._lastAnchor||!this._lastAnchor.equals(e)){if(this._hoverOperation.cancel(),this._isVisible)if(this._showAtPosition&&this._lastAnchor&&e.canAdoptVisibleHover(this._lastAnchor,this._showAtPosition)){const t=this._messages.filter((t=>t.isValidForHoverAnchor(e)));if(0===t.length)this.hide();else{if(t.length===this._messages.length)return;this._renderMessages(e,t)}}else this.hide();this._lastAnchor=e,this._computer.setAnchor(e),this._shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._lastAnchor=null,this._hoverOperation.cancel(),this._isVisible&&(setTimeout((()=>{this._isVisible||this._hoverVisibleKey.set(!1)}),0),this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._editor.layoutContentWidget(this),this._stoleFocus&&this._editor.focus()),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,[]),this._isChangingDecorations=!1,this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null}isColorPickerVisible(){return!!this._colorPicker}setColorPicker(e){this._colorPicker=e}onContentsChanged(){this._hover.onContentsChanged()}_withResult(e,t){this._messages=e,this._lastAnchor&&this._messages.length>0?this._renderMessages(this._lastAnchor,this._messages):t&&this.hide()}_renderMessages(t,n){this._renderDisposable&&(this._renderDisposable.dispose(),this._renderDisposable=null),this._colorPicker=null;let i=1073741824,r=n[0].range,l=null,c=document.createDocumentFragment();const u=new(0,o.DisposableStore),d=new Map;for(const e of n){i=Math.min(i,e.range.startColumn),r=a.Range.plusRange(r,e.range),e.forceShowAtRange&&(l=e.range),d.has(e.owner)||d.set(e.owner,[]);d.get(e.owner).push(e)}const h=u.add(new k(this._keybindingService));for(const[e,t]of d)u.add(e.renderHoverParts(t,c,h));h.hasContent&&c.appendChild(h.hoverElement),this._renderDisposable=u,c.hasChildNodes()&&(l?this._showAt(l.getStartPosition(),l,this._shouldFocus):this._showAt(new(0,s.Position)(t.range.startLineNumber,i),r,this._shouldFocus),this._updateContents(c)),this._colorPicker&&this._colorPicker.layout(),this._isChangingDecorations=!0,this._highlightDecorations=this._editor.deltaDecorations(this._highlightDecorations,r?[{range:r,options:e._DECORATION_OPTIONS}]:[]),this._isChangingDecorations=!1}constructor(t,n,o,r){super(),this._hoverVisibleKey=n,this._keybindingService=r,this.allowEditorOverflow=!0,this._participants=[o.createInstance(b.ColorHoverParticipant,t,this),o.createInstance(m.MarkdownHoverParticipant,t,this),o.createInstance(v.InlineCompletionsHoverParticipant,t,this),o.createInstance(g.MarkerHoverParticipant,t,this)],this._hover=this._register(new(0,p.HoverWidget)),this._id=e.ID,this._editor=t,this._isVisible=!1,this._stoleFocus=!1,this._renderDisposable=null,this.onkeydown(this._hover.containerDomNode,(e=>{e.equals(9)&&this.hide()})),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(41)&&this._updateFont()}))),this._editor.onDidLayoutChange((()=>this.layout())),this.layout(),this._editor.addContentWidget(this),this._showAtPosition=null,this._showAtRange=null,this._stoleFocus=!1,this._messages=[],this._lastAnchor=null,this._computer=new E(this._editor,this._participants),this._highlightDecorations=[],this._isChangingDecorations=!1,this._shouldFocus=!1,this._colorPicker=null,this._hoverOperation=new(0,u.HoverOperation)(this._computer,(e=>this._withResult(e,!0)),null,(e=>this._withResult(e,!1)),this._editor.getOption(51).delay),this._register(i.addStandardDisposableListener(this.getDomNode(),i.EventType.FOCUS,(()=>{this._colorPicker&&this.getDomNode().classList.add("colorpicker-hover")}))),this._register(i.addStandardDisposableListener(this.getDomNode(),i.EventType.BLUR,(()=>{this.getDomNode().classList.remove("colorpicker-hover")}))),this._register(t.onDidChangeConfiguration((()=>{this._hoverOperation.setHoverTime(this._editor.getOption(51).delay)}))),this._register(c.TokenizationRegistry.onDidChange((()=>{this._isVisible&&this._lastAnchor&&this._messages.length>0&&(this._hover.contentsDomNode.textContent="",this._renderMessages(this._lastAnchor,this._messages))})))}};D.ID="editor.contrib.modesContentHoverWidget",D._DECORATION_OPTIONS=l.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),D=C([x(2,f.IInstantiationService),x(3,y.IKeybindingService)],D)})),r.register("jMQt1",(function(t,n){e(t.exports,"HoverOperation",(function(){return s}));var i=r("6wKox"),o=r("2zf51");class s{setHoverTime(e){this._hoverTime=e}_firstWaitTime(){return this._hoverTime/2}_secondWaitTime(){return this._hoverTime/2}_loadingMessageTime(){return 3*this._hoverTime}_triggerAsyncComputation(){this._state=2,this._secondWaitScheduler.schedule(this._secondWaitTime()),this._computer.computeAsync?(this._asyncComputationPromiseDone=!1,this._asyncComputationPromise=(0,i.createCancelablePromise)((e=>this._computer.computeAsync(e))),this._asyncComputationPromise.then((e=>{this._asyncComputationPromiseDone=!0,this._withAsyncResult(e)}),(e=>this._onError(e)))):this._asyncComputationPromiseDone=!0}_triggerSyncComputation(){this._computer.computeSync&&this._computer.onResult(this._computer.computeSync(),!0),this._asyncComputationPromiseDone?(this._state=0,this._onComplete(this._computer.getResult())):(this._state=3,this._onProgress(this._computer.getResult()))}_showLoadingMessage(){3===this._state&&this._onProgress(this._computer.getResultWithLoadingMessage())}_withAsyncResult(e){e&&this._computer.onResult(e,!1),3===this._state&&(this._state=0,this._onComplete(this._computer.getResult()))}_onComplete(e){this._completeCallback(e)}_onError(e){this._errorCallback?this._errorCallback(e):(0,o.onUnexpectedError)(e)}_onProgress(e){this._progressCallback(e)}start(e){if(0===e)0===this._state&&(this._state=1,this._firstWaitScheduler.schedule(this._firstWaitTime()),this._loadingMessageScheduler.schedule(this._loadingMessageTime()));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation()}}cancel(){this._loadingMessageScheduler.cancel(),1===this._state&&this._firstWaitScheduler.cancel(),2===this._state&&(this._secondWaitScheduler.cancel(),this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null)),3===this._state&&this._asyncComputationPromise&&(this._asyncComputationPromise.cancel(),this._asyncComputationPromise=null),this._state=0}constructor(e,t,n,o,r){this._computer=e,this._state=0,this._hoverTime=r,this._firstWaitScheduler=new(0,i.RunOnceScheduler)((()=>this._triggerAsyncComputation()),0),this._secondWaitScheduler=new(0,i.RunOnceScheduler)((()=>this._triggerSyncComputation()),0),this._loadingMessageScheduler=new(0,i.RunOnceScheduler)((()=>this._showLoadingMessage()),0),this._asyncComputationPromise=null,this._asyncComputationPromiseDone=!1,this._completeCallback=t,this._errorCallback=n,this._progressCallback=o}}})),r.register("asayd",(function(t,n){e(t.exports,"HoverWidget",(function(){return l})),e(t.exports,"HoverAction",(function(){return c}));var i=r("2vQKJ"),o=r("iNF8q"),s=r("9UOZH");const a=i.$;class l extends o.Disposable{onContentsChanged(){this._scrollbar.scanDomNode()}constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this._scrollbar=this._register(new(0,s.DomScrollableElement)(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this._scrollbar.getDomNode())}}class c extends o.Disposable{static render(e,t,n){return new c(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}constructor(e,t,n){super(),this.actionContainer=i.append(e,a("div.action-container")),this.action=i.append(this.actionContainer,a("a.action")),this.action.setAttribute("href","#"),this.action.setAttribute("role","button"),t.iconClass&&i.append(this.action,a(`span.icon.${t.iconClass}`));i.append(this.action,a("span")).textContent=n?`${t.label} (${n})`:t.label,this._register(i.addDisposableListener(this.actionContainer,i.EventType.CLICK,(e=>{e.stopPropagation(),e.preventDefault(),t.run(this.actionContainer)}))),this.setEnabled(!0)}}})),r.register("fR8O8",(function(t,n){e(t.exports,"MarkerHoverParticipant",(function(){return D}),(function(e){return D=e}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("iNF8q"),a=r("dSV0M"),l=r("cCPZ6"),c=r("cbzyk"),u=r("d8krI"),d=r("cE64u"),h=r("2zf51"),p=r("1n4fF"),g=r("acdjA"),f=r("6wKox"),m=r("aUa0K"),v=r("gq9ST"),b=r("8HXtk"),y=r("cIR7X"),_=r("JzRxO"),C=r("5h6AG"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}};const w=o.$;class k{isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}}const E={type:1,filter:{include:b.CodeActionKind.QuickFix}};let D=class{computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),i=e.range.startLineNumber,o=n.getLineMaxColumn(i),r=[];for(const s of t){const t=s.range.startLineNumber===i?s.range.startColumn:1,l=s.range.endLineNumber===i?s.range.endColumn:o,c=this._markerDecorationsService.getMarker(n.uri,s);if(!c)continue;const u=new(0,a.Range)(e.range.startLineNumber,t,e.range.startLineNumber,l);r.push(new k(this,u,c))}return r}renderHoverParts(e,t,n){if(!e.length)return s.Disposable.None;const i=new(0,s.DisposableStore);e.forEach((e=>t.appendChild(this.renderMarkerHover(e,i))));const o=1===e.length?e[0]:e.sort(((e,t)=>c.MarkerSeverity.compare(e.marker.severity,t.marker.severity)))[0];return this.renderMarkerStatusbar(o,n,i),i}renderMarkerHover(e,t){const n=w("div.hover-row"),i=o.append(n,w("div.marker.hover-contents")),{source:r,message:s,code:a,relatedInformation:c}=e.marker;this._editor.applyFontInfo(i);const d=o.append(i,w("span"));if(d.style.whiteSpace="pre-wrap",d.innerText=s,r||a)if(a&&"string"!=typeof a){const e=w("span");if(r){o.append(e,w("span")).innerText=r}const n=o.append(e,w("a.code-link"));n.setAttribute("href",a.target.toString()),t.add(o.addDisposableListener(n,"click",(e=>{this._openerService.open(a.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()})));o.append(n,w("span")).innerText=a.value;const s=o.append(i,e);s.style.opacity="0.6",s.style.paddingLeft="6px"}else{const e=o.append(i,w("span"));e.style.opacity="0.6",e.style.paddingLeft="6px",e.innerText=r&&a?`${r}(${a})`:r||`(${a})`}if((0,l.isNonEmptyArray)(c))for(const{message:e,resource:n,startLineNumber:r,startColumn:s}of c){const a=o.append(i,w("div"));a.style.marginTop="8px";const l=o.append(a,w("a"));l.innerText=`${(0,u.basename)(n)}(${r}, ${s}): `,l.style.cursor="pointer",t.add(o.addDisposableListener(l,"click",(e=>{e.stopPropagation(),e.preventDefault(),this._openerService&&this._openerService.open(n,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:r,startColumn:s}}}).catch(h.onUnexpectedError)})));const c=o.append(a,w("span"));c.innerText=e,this._editor.applyFontInfo(c)}return n}renderMarkerStatusbar(e,t,n){if(e.marker.severity!==c.MarkerSeverity.Error&&e.marker.severity!==c.MarkerSeverity.Warning&&e.marker.severity!==c.MarkerSeverity.Info||t.addAction({label:i.localize("view problem","View Problem"),commandId:g.NextMarkerAction.ID,run:()=>{this._hover.hide(),g.MarkerController.get(this._editor).showAtMarker(e.marker),this._editor.focus()}}),!this._editor.getOption(79)){const r=t.append(w("div"));this.recentMarkerCodeActionsInfo&&(c.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===c.IMarkerData.makeKey(e.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(r.textContent=i.localize("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const a=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?s.Disposable.None:n.add((0,f.disposableTimeout)((()=>r.textContent=i.localize("checkingForQuickFixes","Checking for quick fixes...")),200));r.textContent||(r.textContent=String.fromCharCode(160));const l=this.getCodeActions(e.marker);n.add((0,s.toDisposable)((()=>l.cancel()))),l.then((l=>{if(a.dispose(),this.recentMarkerCodeActionsInfo={marker:e.marker,hasCodeActions:l.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions)return l.dispose(),void(r.textContent=i.localize("noQuickFixes","No quick fixes available"));r.style.display="none";let c=!1;n.add((0,s.toDisposable)((()=>{c||l.dispose()}))),t.addAction({label:i.localize("quick fixes","Quick Fix..."),commandId:v.QuickFixAction.Id,run:e=>{c=!0;const t=v.QuickFixController.get(this._editor),n=o.getDomNodePagePosition(e);this._hover.hide(),t.showCodeActions(E,l,{x:n.left+6,y:n.top+n.height+6})}})}))}}getCodeActions(e){return(0,f.createCancelablePromise)((t=>(0,m.getCodeActions)(this._editor.getModel(),new(0,a.Range)(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),E,y.Progress.None,t)))}constructor(e,t,n,i){this._editor=e,this._hover=t,this._markerDecorationsService=n,this._openerService=i,this.recentMarkerCodeActionsInfo=void 0}};D=x([S(2,d.IMarkerDecorationsService),S(3,p.IOpenerService)],D),(0,_.registerThemingParticipant)(((e,t)=>{const n=e.getColor(C.textLinkForeground);n&&t.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${n}; }`);const i=e.getColor(C.textLinkActiveForeground);i&&t.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${i}; }`)}))})),r.register("acdjA",(function(t,n){e(t.exports,"MarkerController",(function(){return C}),(function(e){return C=e})),e(t.exports,"NextMarkerAction",(function(){return S}),(function(e){return S=e}));var i=r("9LBxC"),o=r("iNF8q"),s=r("1N08n"),a=r("aGBCV"),l=r("dSV0M"),c=r("eh64S"),u=r("igipX"),d=r("4zmwR"),h=r("7yAvG"),p=r("d8eAn"),g=r("evoAc"),f=r("blTDv"),m=r("gCgfY"),v=r("fAMPC"),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},y=function(e,t){return function(n,i){t(n,i,e)}},_=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let C=class e{static get(t){return t.getContribution(e.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(d.MarkerNavigationWidget,this._editor),this._widget.onDidClose((()=>this.close()),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition((e=>{var t,n,i;(null===(t=this._model)||void 0===t?void 0:t.selected)&&l.Range.containsPosition(null===(n=this._model)||void 0===n?void 0:n.selected.marker,e.position)||null===(i=this._model)||void 0===i||i.resetIndex()}))),this._sessionDispoables.add(this._model.onDidChange((()=>{if(!this._widget||!this._widget.position||!this._model)return;const e=this._model.find(this._editor.getModel().uri,this._widget.position);e?this._widget.updateMarker(e.marker):this._widget.showStale()}))),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation((e=>{this._editorService.openCodeEditor({resource:e.resource,options:{pinned:!0,revealIfOpened:!0,selection:l.Range.lift(e).collapseToStart()}},this._editor),this.close(!1)}))),this._sessionDispoables.add(this._editor.onDidChangeModel((()=>this._cleanUp()))),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new(0,a.Position)(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(t,n){return _(this,void 0,void 0,(function*(){if(this._editor.hasModel()){const i=this._getOrCreateModel(n?void 0:this._editor.getModel().uri);if(i.move(t,this._editor.getModel(),this._editor.getPosition()),!i.selected)return;if(i.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const o=yield this._editorService.openCodeEditor({resource:i.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:i.selected.marker}},this._editor);o&&(e.get(o).close(),e.get(o).nagivate(t,n))}else this._widget.showAtMarker(i.selected.marker,i.selected.index,i.selected.total)}}))}constructor(e,t,n,i,r){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=i,this._instantiationService=r,this._sessionDispoables=new(0,o.DisposableStore),this._editor=e,this._widgetVisible=k.bindTo(this._contextKeyService)}};C.ID="editor.contrib.markerController",C=b([y(1,m.IMarkerNavigationService),y(2,s.IContextKeyService),y(3,h.ICodeEditorService),y(4,f.IInstantiationService)],C);class x extends c.EditorAction{run(e,t){return _(this,void 0,void 0,(function*(){t.hasModel()&&C.get(t).nagivate(this._next,this._multiFile)}))}constructor(e,t,n){super(n),this._next=e,this._multiFile=t}}class S extends x{constructor(){super(!0,!1,{id:S.ID,label:S.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:S.LABEL,icon:(0,v.registerIcon)("marker-navigation-next",g.Codicon.chevronDown,i.localize("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}S.ID="editor.action.marker.next",S.LABEL=i.localize("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class w extends x{constructor(){super(!1,!1,{id:w.ID,label:w.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:d.MarkerNavigationWidget.TitleMenu,title:S.LABEL,icon:(0,v.registerIcon)("marker-navigation-previous",g.Codicon.chevronUp,i.localize("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}w.ID="editor.action.marker.prev",w.LABEL=i.localize("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");(0,c.registerEditorContribution)(C.ID,C),(0,c.registerEditorAction)(S),(0,c.registerEditorAction)(w),(0,c.registerEditorAction)(class extends x{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:i.localize("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:p.MenuId.MenubarGoMenu,title:i.localize({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}),(0,c.registerEditorAction)(class extends x{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:i.localize("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:u.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:p.MenuId.MenubarGoMenu,title:i.localize({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}});const k=new(0,s.RawContextKey)("markersNavigationVisible",!1),E=c.EditorCommand.bindToContribution(C.get);(0,c.registerEditorCommand)(new E({id:"closeMarkersNavigation",precondition:k,handler:e=>e.close(),kbOpts:{weight:150,kbExpr:u.EditorContextKeys.focus,primary:9,secondary:[1033]}}))})),r.register("4zmwR",(function(t,n){e(t.exports,"MarkerNavigationWidget",(function(){return A}),(function(e){return A=e}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("iNF8q"),a=r("cbzyk"),l=r("dSV0M"),c=r("5h6AG"),u=r("JzRxO"),d=r("2Jvmn"),h=r("9UOZH"),p=r("yhcHt"),g=r("cCPZ6"),f=r("4zvzH"),m=r("8vSMk"),v=r("d8krI"),b=r("jOPz7"),y=r("1n4fF"),_=r("d8eAn"),C=r("1N08n"),x=r("57xBH"),S=r("blTDv"),w=r("78mNz"),k=r("3dE3O"),E=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){return function(n,i){t(n,i,e)}};class I{dispose(){(0,s.dispose)(this._disposables)}update(e){const{source:t,message:n,relatedInformation:i,code:r}=e;let s=((null==t?void 0:t.length)||0)+2;r&&(s+="string"==typeof r?r.length:r.value.length);const a=(0,w.splitLines)(n);this._lines=a.length,this._longestLineLength=0;for(const e of a)this._longestLineLength=Math.max(e.length+s,this._longestLineLength);o.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let l=this._messageBlock;for(const e of a)l=document.createElement("div"),l.innerText=e,""===e&&(l.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(l);if(t||r){const e=document.createElement("span");if(e.classList.add("details"),l.appendChild(e),t){const n=document.createElement("span");n.innerText=t,n.classList.add("source"),e.appendChild(n)}if(r)if("string"==typeof r){const t=document.createElement("span");t.innerText=`(${r})`,t.classList.add("code"),e.appendChild(t)}else{this._codeLink=o.$("a.code-link"),this._codeLink.setAttribute("href",`${r.target.toString()}`),this._codeLink.onclick=e=>{this._openerService.open(r.target,{allowCommands:!0}),e.preventDefault(),e.stopPropagation()};o.append(this._codeLink,o.$("span")).innerText=r.value,e.appendChild(this._codeLink)}}if(o.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,g.isNonEmptyArray)(i)){const e=this._relatedBlock.appendChild(document.createElement("div"));e.style.paddingTop=`${Math.floor(.66*this._editor.getOption(57))}px`,this._lines+=1;for(const t of i){let n=document.createElement("div"),i=document.createElement("a");i.classList.add("filename"),i.innerText=`${(0,p.getBaseLabel)(t.resource)}(${t.startLineNumber}, ${t.startColumn}): `,i.title=this._labelService.getUriLabel(t.resource),this._relatedDiagnostics.set(i,t);let o=document.createElement("span");o.innerText=t.message,n.appendChild(i),n.appendChild(o),this._lines+=1,e.appendChild(n)}}const c=this._editor.getOption(41),u=Math.ceil(c.typicalFullwidthCharacterWidth*this._longestLineLength*.75),d=c.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:u,scrollHeight:d})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case a.MarkerSeverity.Error:t=i.localize("Error","Error");break;case a.MarkerSeverity.Warning:t=i.localize("Warning","Warning");break;case a.MarkerSeverity.Info:t=i.localize("Info","Info");break;case a.MarkerSeverity.Hint:t=i.localize("Hint","Hint")}let n=i.localize("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const o=this._editor.getModel();if(o&&e.startLineNumber<=o.getLineCount()&&e.startLineNumber>=1){n=`${o.getLineContent(e.startLineNumber)}, ${n}`}return n}constructor(e,t,n,i,r){this._openerService=i,this._labelService=r,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new(0,s.DisposableStore),this._editor=t;const a=document.createElement("div");a.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),a.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),a.appendChild(this._relatedBlock),this._disposables.add(o.addStandardDisposableListener(this._relatedBlock,"click",(e=>{e.preventDefault();const t=this._relatedDiagnostics.get(e.target);t&&n(t)}))),this._scrollable=new(0,h.ScrollableElement)(a,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:3,verticalScrollbarSize:3}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll((e=>{a.style.left=`-${e.scrollLeft}px`,a.style.top=`-${e.scrollTop}px`}))),this._disposables.add(this._scrollable)}}let A=class e extends m.PeekViewWidget{_applyTheme(e){this._backgroundColor=e.getColor(O);let t=T;this._severity===a.MarkerSeverity.Warning?t=N:this._severity===a.MarkerSeverity.Info&&(t=P);const n=e.getColor(t);this.style({arrowColor:n,frameColor:n,headerBackgroundColor:this._backgroundColor,primaryHeadingColor:e.getColor(m.peekViewTitleForeground),secondaryHeadingColor:e.getColor(m.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(t){super._fillHead(t),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun((e=>this.editor.focus())));const n=[],i=this._menuService.createMenu(e.TitleMenu,this._contextKeyService);(0,x.createAndFillInActionBarActions)(i,void 0,n),this._actionbarWidget.push(n,{label:!1,icon:!0,index:0}),i.dispose()}_fillTitleIcon(e){this._icon=o.append(e,o.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new I(this._container,this.editor,(e=>this._onDidSelectRelatedInformation.fire(e)),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());let o=l.Range.lift(e);const r=this.editor.getPosition();let s=r&&o.containsPosition(r)?r:o.getStartPosition();super.show(s,this.computeRequiredHeight());const c=this.editor.getModel();if(c){const e=n>1?i.localize("problems","{0} of {1} problems",t,n):i.localize("change","{0} of {1} problem",t,n);this.setTitle((0,v.basename)(c.uri),e)}this._icon.className=`codicon ${b.SeverityIcon.className(a.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(s,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}constructor(e,t,n,i,o,r,l){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0},o),this._themeService=t,this._openerService=n,this._menuService=i,this._contextKeyService=r,this._labelService=l,this._callOnDispose=new(0,s.DisposableStore),this._onDidSelectRelatedInformation=new(0,f.Emitter),this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=a.MarkerSeverity.Warning,this._backgroundColor=d.Color.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}};A.TitleMenu=new(0,_.MenuId)("gotoErrorTitleMenu"),A=E([D(1,u.IThemeService),D(2,y.IOpenerService),D(3,_.IMenuService),D(4,S.IInstantiationService),D(5,C.IContextKeyService),D(6,k.ILabelService)],A);let R=(0,c.oneOf)(c.editorErrorForeground,c.editorErrorBorder),L=(0,c.oneOf)(c.editorWarningForeground,c.editorWarningBorder),M=(0,c.oneOf)(c.editorInfoForeground,c.editorInfoBorder);const T=(0,c.registerColor)("editorMarkerNavigationError.background",{dark:R,light:R,hc:R},i.localize("editorMarkerNavigationError","Editor marker navigation widget error color.")),N=(0,c.registerColor)("editorMarkerNavigationWarning.background",{dark:L,light:L,hc:L},i.localize("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),P=(0,c.registerColor)("editorMarkerNavigationInfo.background",{dark:M,light:M,hc:M},i.localize("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),O=(0,c.registerColor)("editorMarkerNavigation.background",{dark:"#2D2D30",light:d.Color.white,hc:"#0C141F"},i.localize("editorMarkerNavigationBackground","Editor marker navigation widget background."));(0,u.registerThemingParticipant)(((e,t)=>{const n=e.getColor(c.textLinkForeground);n&&t.addRule(`.monaco-editor .marker-widget a.code-link span { color: ${n}; }`);const i=e.getColor(c.textLinkActiveForeground);i&&t.addRule(`.monaco-editor .marker-widget a.code-link span:hover { color: ${i}; }`)}))})),r.register("yhcHt",(function(t,n){e(t.exports,"getBaseLabel",(function(){return c})),e(t.exports,"normalizeDriveLetter",(function(){return u}));var i=r("65vvd"),o=r("5KVQh"),s=r("cexwY"),a=r("d8krI"),l=r("2TsXu");function c(e){if(!e)return;"string"==typeof e&&(e=i.URI.file(e));const t=(0,a.basename)(e)||(e.scheme===o.Schemas.file?e.fsPath:e.path);return s.isWindows&&(0,l.isRootOrDriveLetter)(t)?u(t):t}function u(e){return(0,l.hasDriveLetter)(e)?e.charAt(0).toUpperCase()+e.slice(1):e}})),r.register("8vSMk",(function(t,n){e(t.exports,"IPeekViewService",(function(){return S}),(function(e){return S=e})),e(t.exports,"PeekContext",(function(){return w}),(function(e){return w=e})),e(t.exports,"getOuterEditor",(function(){return D}),(function(e){return D=e})),e(t.exports,"PeekViewWidget",(function(){return A}),(function(e){return A=e})),e(t.exports,"peekViewTitleBackground",(function(){return R}),(function(e){return R=e})),e(t.exports,"peekViewTitleForeground",(function(){return L}),(function(e){return L=e})),e(t.exports,"peekViewTitleInfoForeground",(function(){return M}),(function(e){return M=e})),e(t.exports,"peekViewBorder",(function(){return T}),(function(e){return T=e})),e(t.exports,"peekViewResultsBackground",(function(){return N}),(function(e){return N=e})),e(t.exports,"peekViewResultsMatchForeground",(function(){return P}),(function(e){return P=e})),e(t.exports,"peekViewResultsFileForeground",(function(){return O}),(function(e){return O=e})),e(t.exports,"peekViewResultsSelectionBackground",(function(){return F}),(function(e){return F=e})),e(t.exports,"peekViewResultsSelectionForeground",(function(){return z}),(function(e){return z=e})),e(t.exports,"peekViewEditorBackground",(function(){return B}),(function(e){return B=e})),e(t.exports,"peekViewEditorGutterBackground",(function(){return H}),(function(e){return H=e})),e(t.exports,"peekViewResultsMatchHighlight",(function(){return W}),(function(e){return W=e})),e(t.exports,"peekViewEditorMatchHighlight",(function(){return j}),(function(e){return j=e})),e(t.exports,"peekViewEditorMatchHighlightBorder",(function(){return V}),(function(e){return V=e}));var i=r("2vQKJ"),o=r("5CDwF"),s=r("8M7pz"),a=r("2Jvmn"),l=r("4zvzH"),c=r("1TOwg"),u=r("7yAvG"),d=r("3F47k"),h=r("55Cdt"),p=r("9LBxC"),g=r("1N08n"),f=r("blTDv"),m=r("81WwP"),v=r("eh64S"),b=r("5h6AG"),y=r("evoAc"),_=r("57xBH"),C=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){return function(n,i){t(n,i,e)}};const S=(0,f.createDecorator)("IPeekViewService");var w,k;(0,m.registerSingleton)(S,class{addExclusiveWidget(e,t){const n=this._widgets.get(e);n&&(n.listener.dispose(),n.widget.dispose());this._widgets.set(e,{widget:t,listener:t.onDidClose((()=>{const n=this._widgets.get(e);n&&n.widget===t&&(n.listener.dispose(),this._widgets.delete(e))}))})}constructor(){this._widgets=new Map}}),(k=w||(w={})).inPeekEditor=new(0,g.RawContextKey)("inReferenceSearchEditor",!0,p.localize("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),k.notInPeekEditor=k.inPeekEditor.toNegated();let E=class{dispose(){}constructor(e,t){e instanceof d.EmbeddedCodeEditorWidget&&w.inPeekEditor.bindTo(t)}};function D(e){let t=e.get(u.ICodeEditorService).getFocusedCodeEditor();return t instanceof d.EmbeddedCodeEditorWidget?t.getParentEditor():t}E.ID="editor.contrib.referenceController",E=C([x(1,g.IContextKeyService)],E),(0,v.registerEditorContribution)(E.ID,E);const I={headerBackgroundColor:a.Color.white,primaryHeadingColor:a.Color.fromHex("#333333"),secondaryHeadingColor:a.Color.fromHex("#6c6c6cb3")};let A=class extends h.ZoneWidget{dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){let t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();let e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=i.$(".head"),this._bodyElement=i.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=i.$(".peekview-title");i.append(this._headElement,n),i.addStandardDisposableListener(n,"click",(e=>this._onTitleClick(e))),this._fillTitleIcon(n),this._primaryHeading=i.$("span.filename"),this._secondaryHeading=i.$("span.dirname"),this._metaHeading=i.$("span.meta"),i.append(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const r=i.$(".peekview-actions");i.append(this._headElement,r);const a=this._getActionBarOptions();this._actionbarWidget=new(0,o.ActionBar)(r,a),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new(0,s.Action)("peekview.close",p.localize("label.close","Close"),y.Codicon.close.classNames,!0,(()=>(this.dispose(),Promise.resolve()))),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:_.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:i.clearNode(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,i.show(this._metaHeading)):i.hide(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0)return void this.dispose();const n=Math.ceil(1.2*this.editor.getOption(57)),i=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(i,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new(0,l.Emitter),this.onDidClose=this._onDidClose.event,c.mixin(this.options,I,!1)}};A=C([x(2,f.IInstantiationService)],A);const R=(0,b.registerColor)("peekViewTitle.background",{dark:"#1E1E1E",light:"#FFFFFF",hc:"#0C141F"},p.localize("peekViewTitleBackground","Background color of the peek view title area.")),L=(0,b.registerColor)("peekViewTitleLabel.foreground",{dark:"#FFFFFF",light:"#333333",hc:"#FFFFFF"},p.localize("peekViewTitleForeground","Color of the peek view title.")),M=(0,b.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161e6",hc:"#FFFFFF99"},p.localize("peekViewTitleInfoForeground","Color of the peek view title info.")),T=(0,b.registerColor)("peekView.border",{dark:"#007acc",light:"#007acc",hc:b.contrastBorder},p.localize("peekViewBorder","Color of the peek view borders and arrow.")),N=(0,b.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hc:a.Color.black},p.localize("peekViewResultsBackground","Background color of the peek view result list.")),P=(0,b.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hc:a.Color.white},p.localize("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),O=(0,b.registerColor)("peekViewResult.fileForeground",{dark:a.Color.white,light:"#1E1E1E",hc:a.Color.white},p.localize("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),F=(0,b.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hc:null},p.localize("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),z=(0,b.registerColor)("peekViewResult.selectionForeground",{dark:a.Color.white,light:"#6C6C6C",hc:a.Color.white},p.localize("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),B=(0,b.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hc:a.Color.black},p.localize("peekViewEditorBackground","Background color of the peek view editor.")),H=(0,b.registerColor)("peekViewEditorGutter.background",{dark:B,light:B,hc:B},p.localize("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),W=(0,b.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hc:null},p.localize("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),j=(0,b.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hc:null},p.localize("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),V=(0,b.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hc:b.activeContrastBorder},p.localize("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."))})),r.register("3F47k",(function(t,n){e(t.exports,"EmbeddedCodeEditorWidget",(function(){return f}),(function(e){return f=e}));var i=r("1TOwg"),o=r("7yAvG"),s=r("eF5iL"),a=r("7YObE"),l=r("1N08n"),c=r("blTDv"),u=r("hYVHb"),d=r("JzRxO"),h=r("9WkiO"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};let f=class extends s.CodeEditorWidget{getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){i.mixin(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}constructor(e,t,n,i,o,r,s,a,l,c){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},i,o,r,s,a,l,c),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration((e=>this._onParentConfigurationChanged(e))))}};f=p([g(3,c.IInstantiationService),g(4,o.ICodeEditorService),g(5,a.ICommandService),g(6,l.IContextKeyService),g(7,d.IThemeService),g(8,u.INotificationService),g(9,h.IAccessibilityService)],f)})),r.register("55Cdt",(function(t,n){e(t.exports,"ZoneWidget",(function(){return v}));var i=r("2vQKJ"),o=r("fuOJP"),s=r("2Jvmn"),a=r("3TqE5"),l=r("iNF8q"),c=r("1TOwg"),u=r("dSV0M"),d=r("cVvMG");const h=new(0,s.Color)(new(0,s.RGBA)(0,122,204)),p={showArrow:!0,showFrame:!0,className:"",frameColor:h,arrowColor:h,keepEditorSelection:!1};class g{onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}constructor(e,t,n,i,o,r){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=i,this._onDomNodeTop=o,this._onComputedHeight=r}}class f{getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}constructor(e,t){this._id=e,this._domNode=t}}class m{dispose(){this.hide(),i.removeCSSRulesContainingSelector(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){i.removeCSSRulesContainingSelector(this._ruleName),i.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){this._decorations=this._editor.deltaDecorations(this._decorations,[{range:u.Range.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._editor.deltaDecorations(this._decorations,[])}constructor(e){this._editor=e,this._ruleName=m._IdGenerator.nextId(),this._decorations=[],this._color=null,this._height=-1}}m._IdGenerator=new(0,a.IdGenerator)(".arrow-decoration-");class v{dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null})),this.editor.deltaDecorations(this._positionMarkerId,[]),this._positionMarkerId=[],this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new m(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){let e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){let e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&0===e.minimap.minimapLeft?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){let t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const[e]=this._positionMarkerId;if(!e)return;const t=this.editor.getModel();if(!t)return;const n=t.getDecorationRange(e);return n?n.getStartPosition():void 0}show(e,t){const n=u.Range.isIRange(e)?u.Range.lift(e):u.Range.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId=this.editor.deltaDecorations(this._positionMarkerId,[{range:n,options:d.ModelDecorationOptions.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id)})),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){let e=this.editor.getOption(57),t=0;if(this.options.showArrow){t+=2*Math.round(e/3)}if(this.options.showFrame){t+=2*Math.round(e/9)}return t}_showImpl(e,t){const n=e.getStartPosition(),i=this.editor.getLayoutInfo(),o=this._getWidth(i);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(i)+"px";const r=document.createElement("div");r.style.overflow="hidden";const s=this.editor.getOption(57),a=Math.max(12,this.editor.getLayoutInfo().height/s*.8);t=Math.min(t,a);let l=0,c=0;if(this._arrow&&this.options.showArrow&&(l=Math.round(s/3),this._arrow.height=l,this._arrow.show(n)),this.options.showFrame&&(c=Math.round(s/9)),this.editor.changeViewZones((e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new g(r,n.lineNumber,n.column,t,(e=>this._onViewZoneTop(e)),(e=>this._onViewZoneHeight(e))),this._viewZone.id=e.addZone(this._viewZone),this._overlayWidget=new f("vs.editor.contrib.zoneWidget"+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)})),this.container&&this.options.showFrame){const e=this.options.frameWidth?this.options.frameWidth:c;this.container.style.borderTopWidth=e+"px",this.container.style.borderBottomWidth=e+"px"}let u=t*s-this._decoratingElementsHeight();this.container&&(this.container.style.top=l+"px",this.container.style.height=u+"px",this.container.style.overflow="hidden"),this._doLayout(u,o),this.options.keepEditorSelection||this.editor.setSelection(e);const d=this.editor.getModel();if(d){const t=e.endLineNumber+1;t<=d.getLineCount()?this.revealLine(t,!1):this.revealLine(d.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){this.container&&(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones((t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))}))}_initSash(){if(this._resizeSash)return;let e;this._resizeSash=this._disposables.add(new(0,o.Sash)(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.hide(),this._resizeSash.state=0),this._disposables.add(this._resizeSash.onDidStart((t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})}))),this._disposables.add(this._resizeSash.onDidEnd((()=>{e=void 0}))),this._disposables.add(this._resizeSash.onDidChange((t=>{if(e){let n=(t.currentY-e.startY)/this.editor.getOption(57),i=n<0?Math.ceil(n):Math.floor(n),o=e.heightInLines+i;o>5&&o<35&&this._relayout(o)}})))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(null===this.domNode.style.height?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._positionMarkerId=[],this._viewZone=null,this._disposables=new(0,l.DisposableStore),this.container=null,this._isShowing=!1,this.editor=e,this.options=c.deepClone(t),c.mixin(this.options,p,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange((e=>{const t=this._getWidth(e);this.domNode.style.width=t+"px",this.domNode.style.left=this._getLeft(e)+"px",this._onWidth(t)})))}}})),r.register("57xBH",(function(t,n){e(t.exports,"createAndFillInActionBarActions",(function(){return w}),(function(e){return w=e})),e(t.exports,"MenuEntryActionViewItem",(function(){return k}),(function(e){return k=e})),e(t.exports,"createActionViewItem",(function(){return I}),(function(e){return I=e}));var i=r("2vQKJ"),o=r("8M7pz"),s=r("iNF8q"),a=r("9LBxC"),l=r("d8eAn"),c=r("hpGyO"),u=r("dEnIO"),d=r("96uhy"),h=r("hYVHb"),p=r("JzRxO"),g=r("kIDWE"),f=r("edxy2"),m=r("cexwY"),v=r("blTDv"),b=r("1N08n"),y=r("5oFUP"),_=r("1mptJ"),C=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){return function(n,i){t(n,i,e)}},S=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function w(e,t,n,i,r,a,c){const u=e.getActions(t);return function(e,t,n,i=(e=>"navigation"===e),r=Number.MAX_SAFE_INTEGER,s=(()=>!1),a=!1){let c,u;Array.isArray(t)?(c=t,u=t):(c=t.primary,u=t.secondary);const d=new Set;for(const[t,r]of e){let e;i(t)?(e=c,e.length>0&&a&&e.push(new(0,o.Separator))):(e=u,e.length>0&&e.push(new(0,o.Separator)));for(let i of r){n&&(i=i instanceof l.MenuItemAction&&i.alt?i.alt:i);const r=e.push(i);i instanceof o.SubmenuAction&&d.add({group:t,action:i,index:r-1})}}for(const{group:e,action:t,index:n}of d){const o=i(e)?c:u,a=t.actions;(a.length<=1||o.length+a.length-2<=r)&&s(t,e,o.length)&&o.splice(n,1,...a)}if(c!==u&&c.length>r){const e=c.splice(r,c.length-r);u.unshift(...e,new(0,o.Separator))}}(u,n,!1,"string"==typeof i?e=>e===i:i,r,a,c),function(e){const t=new(0,s.DisposableStore);for(const[,n]of e)for(const e of n)t.add(e);return t}(u)}let k=class extends g.ActionViewItem{get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return S(this,void 0,void 0,(function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(e){this._notificationService.error(e)}}))}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(m.isWindows||m.isLinux)&&this._altKey.keyStatus.shiftKey;const o=()=>{const e=t&&n;e!==this._wantsAltCommand&&(this._wantsAltCommand=e,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event((e=>{n=e.altKey||(m.isWindows||m.isLinux)&&e.shiftKey,o()}))),this._register((0,i.addDisposableListener)(e,"mouseleave",(e=>{t=!1,o()}))),this._register((0,i.addDisposableListener)(e,"mouseenter",(e=>{t=!0,o()})))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}updateTooltip(){if(this.label){const e=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),t=e&&e.getLabel(),n=this._commandAction.tooltip||this._commandAction.label;let i=t?(0,a.localize)("titleAndKb","{0} ({1})",n,t):n;if(!this._wantsAltCommand&&this._menuItemAction.alt){const e=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,t=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),n=t&&t.getLabel(),o=n?(0,a.localize)("titleAndKb","{0} ({1})",e,n):e;i+=`\n[${d.UILabelProvider.modifierLabels[m.OS].altKey}] ${o}`}this.label.title=i}}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:o}=this;if(!n||!o)return;const r=this._commandAction.checked&&(null===(t=e.toggled)||void 0===t?void 0:t.icon)?e.toggled.icon:e.icon;if(r)if(p.ThemeIcon.isThemeIcon(r)){const e=p.ThemeIcon.asClassNameArray(r);o.classList.add(...e),this._itemClassDispose.value=(0,s.toDisposable)((()=>{o.classList.remove(...e)}))}else r.light&&o.style.setProperty("--menu-entry-icon-light",(0,i.asCSSUrl)(r.light)),r.dark&&o.style.setProperty("--menu-entry-icon-dark",(0,i.asCSSUrl)(r.dark)),o.classList.add("icon"),this._itemClassDispose.value=(0,s.toDisposable)((()=>{o.classList.remove("icon"),o.style.removeProperty("--menu-entry-icon-light"),o.style.removeProperty("--menu-entry-icon-dark")}))}constructor(e,t,n,o,r){super(void 0,e,{icon:!(!e.class&&!e.item.icon),label:!e.class&&!e.item.icon,draggable:null==t?void 0:t.draggable}),this._keybindingService=n,this._notificationService=o,this._contextKeyService=r,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new(0,s.MutableDisposable)),this._altKey=i.ModifierKeyEmitter.getInstance()}};k=C([x(2,u.IKeybindingService),x(3,h.INotificationService),x(4,b.IContextKeyService)],k);let E=class extends f.DropdownMenuActionViewItem{render(e){if(super.render(e),this.element){e.classList.add("menu-entry");const{icon:t}=this._action.item;t&&!p.ThemeIcon.isThemeIcon(t)&&(this.element.classList.add("icon"),t.light&&this.element.style.setProperty("--menu-entry-icon-light",(0,i.asCSSUrl)(t.light)),t.dark&&this.element.style.setProperty("--menu-entry-icon-dark",(0,i.asCSSUrl)(t.dark)))}}constructor(e,t){super(e,{getActions:()=>e.actions},t,{menuAsChild:!0,classNames:p.ThemeIcon.isThemeIcon(e.item.icon)?p.ThemeIcon.asClassName(e.item.icon):void 0})}};E=C([x(1,c.IContextMenuService)],E);let D=class extends g.BaseActionViewItem{update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(k,e,void 0),this._defaultAction.actionRunner=new class extends o.ActionRunner{runAction(e,t){return S(this,void 0,void 0,(function*(){yield e.run(void 0)}))}},this._container&&this._defaultAction.render((0,i.prepend)(this._container,(0,i.$)(".action-container")))}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-primary");const t=(0,i.$)(".action-container");this._defaultAction.render((0,i.append)(this._container,t)),this._register((0,i.addDisposableListener)(t,i.EventType.KEY_DOWN,(e=>{const t=new(0,y.StandardKeyboardEvent)(e);t.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),t.stopPropagation())})));const n=(0,i.$)(".dropdown-action-container");this._dropdown.render((0,i.append)(this._container,n)),this._register((0,i.addDisposableListener)(n,i.EventType.KEY_DOWN,(e=>{var t;const n=new(0,y.StandardKeyboardEvent)(e);n.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),null===(t=this._defaultAction.element)||void 0===t||t.focus(),n.stopPropagation())})))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}constructor(e,t,n,i,o,r,s){let a;super(null,e),this._keybindingService=t,this._notificationService=n,this._contextMenuService=i,this._menuService=o,this._instaService=r,this._storageService=s,this._container=null,this._storageKey=`${e.item.submenu._debugName}_lastActionId`;let c=s.get(this._storageKey,1);c&&(a=e.actions.find((e=>c===e.id))),a||(a=e.actions[0]),this._defaultAction=this._instaService.createInstance(k,a,void 0),this._dropdown=new(0,f.DropdownMenuActionViewItem)(e,e.actions,this._contextMenuService,{menuAsChild:!0,classNames:["codicon","codicon-chevron-down"]}),this._dropdown.actionRunner.onDidRun((e=>{e.action instanceof l.MenuItemAction&&this.update(e.action)}))}};function I(e,t){if(t instanceof l.MenuItemAction)return e.createInstance(k,t,void 0);if(t instanceof l.SubmenuItemAction){const n=!t.actions.some((e=>e instanceof l.MenuItemAction&&e.item.icon&&!p.ThemeIcon.isThemeIcon(e.item.icon)));return t.item.rememberDefaultAction&&n?e.createInstance(D,t):e.createInstance(E,t)}}D=C([x(1,u.IKeybindingService),x(2,h.INotificationService),x(3,c.IContextMenuService),x(4,l.IMenuService),x(5,v.IInstantiationService),x(6,_.IStorageService)],D)})),r.register("edxy2",(function(t,n){e(t.exports,"DropdownMenuActionViewItem",(function(){return l}));var i=r("2vQKJ"),o=r("4zvzH"),s=r("kIDWE"),a=r("bXx0c");class l extends s.BaseActionViewItem{render(e){this.actionItem=e;const t=Array.isArray(this.menuActionsOrProvider),n={contextMenuProvider:this.contextMenuProvider,labelRenderer:e=>{this.element=(0,i.append)(e,(0,i.$)("a.action-label"));let t=[];return"string"==typeof this.options.classNames?t=this.options.classNames.split(/\s+/g).filter((e=>!!e)):this.options.classNames&&(t=this.options.classNames),t.find((e=>"icon"===e))||t.push("codicon"),this.element.classList.add(...t),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",null},menuAsChild:this.options.menuAsChild,actions:t?this.menuActionsOrProvider:void 0,actionProvider:t?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new(0,a.DropdownMenu)(e,n)),this._register(this.dropdownMenu.onDidChangeVisibility((e=>{var t;null===(t=this.element)||void 0===t||t.setAttribute("aria-expanded",`${e}`),this._onDidChangeVisibility.fire(e)}))),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const e=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return e.options.anchorAlignmentProvider()}})}this.updateEnabled()}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;null===(e=this.actionItem)||void 0===e||e.classList.toggle("disabled",n),null===(t=this.element)||void 0===t||t.classList.toggle("disabled",n)}constructor(e,t,n,i=Object.create(null)){super(null,e,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new(0,o.Emitter)),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}}})),r.register("bXx0c",(function(t,n){e(t.exports,"DropdownMenu",(function(){return u}));var i=r("02Yht"),o=r("8M7pz"),s=r("2vQKJ"),a=r("5oFUP"),l=r("4zvzH");class c extends o.ActionRunner{get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}constructor(e,t){super(),this._onDidChangeVisibility=new(0,l.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,s.append)(e,(0,s.$)(".monaco-dropdown")),this._label=(0,s.append)(this._element,(0,s.$)(".dropdown-label"));let n=t.labelRenderer;n||(n=e=>(e.textContent=t.label||"",null));for(const e of[s.EventType.CLICK,s.EventType.MOUSE_DOWN,i.EventType.Tap])this._register((0,s.addDisposableListener)(this.element,e,(e=>s.EventHelper.stop(e,!0))));for(const e of[s.EventType.MOUSE_DOWN,i.EventType.Tap])this._register((0,s.addDisposableListener)(this._label,e,(e=>{e instanceof MouseEvent&&e.detail>1||(this.visible?this.hide():this.show())})));this._register((0,s.addDisposableListener)(this._label,s.EventType.KEY_UP,(e=>{const t=new(0,a.StandardKeyboardEvent)(e);(t.equals(3)||t.equals(10))&&(s.EventHelper.stop(e,!0),this.visible?this.hide():this.show())})));const o=n(this._label);o&&this._register(o),this._register(i.Gesture.addTarget(this._label))}}class u extends c{set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}}})),r.register("jOPz7",(function(t,n){e(t.exports,"SeverityIcon",(function(){return i}));var i,o=r("jTBbw"),s=r("JzRxO"),a=r("5h6AG"),l=r("evoAc");(i||(i={})).className=function(e){switch(e){case o.default.Ignore:return"severity-ignore "+l.Codicon.info.classNames;case o.default.Info:return l.Codicon.info.classNames;case o.default.Warning:return l.Codicon.warning.classNames;case o.default.Error:return l.Codicon.error.classNames;default:return""}},(0,s.registerThemingParticipant)(((e,t)=>{const n=e.getColor(a.problemsErrorIconForeground);if(n){const e=l.Codicon.error.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extensions-viewlet > .extensions ${e} {\n\t\t\t\tcolor: ${n};\n\t\t\t}\n\t\t`)}const i=e.getColor(a.problemsWarningIconForeground);if(i){const e=l.Codicon.warning.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.extension-editor ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.preferences-editor ${e} {\n\t\t\t\tcolor: ${i};\n\t\t\t}\n\t\t`)}const o=e.getColor(a.problemsInfoIconForeground);if(o){const e=l.Codicon.info.cssSelector;t.addRule(`\n\t\t\t.monaco-editor .zone-widget ${e},\n\t\t\t.markers-panel .marker-icon${e},\n\t\t\t.extensions-viewlet > .extensions ${e},\n\t\t\t.text-search-provider-messages .providerMessage ${e},\n\t\t\t.extension-editor ${e} {\n\t\t\t\tcolor: ${o};\n\t\t\t}\n\t\t`)}}))})),r.register("gCgfY",(function(t,n){e(t.exports,"IMarkerNavigationService",(function(){return b}),(function(e){return b=e}));var i=r("cbzyk"),o=r("65vvd"),s=r("4zvzH"),a=r("iNF8q"),l=r("dSV0M"),c=r("78mNz"),u=r("cCPZ6"),d=r("blTDv"),h=r("81WwP"),p=r("1Dw1t"),g=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e,t){return function(n,i){t(n,i,e)}};class m{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let v=class e{dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e||!(!this._resourceFilter||!e)&&this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new m(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let i=!1,o=this._markers.findIndex((t=>t.resource.toString()===e.uri.toString()));o<0&&(o=(0,u.binarySearch)(this._markers,{resource:e.uri},((e,t)=>(0,c.compare)(e.resource.toString(),t.resource.toString()))),o<0&&(o=~o));for(let n=o;n<this._markers.length;n++){let o=l.Range.lift(this._markers[n]);if(o.isEmpty()){const t=e.getWordAtPosition(o.getStartPosition());t&&(o=new(0,l.Range)(o.startLineNumber,t.startColumn,o.startLineNumber,t.endColumn))}if(t&&(o.containsPosition(t)||t.isBeforeOrEqual(o.getStartPosition()))){this._nextIdx=n,i=!0;break}if(this._markers[n].resource.toString()!==e.uri.toString())break}i||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(0===this._markers.length)return!1;let i=this._nextIdx;return-1===this._nextIdx?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),i!==this._nextIdx}find(e,t){let n=this._markers.findIndex((t=>t.resource.toString()===e.toString()));if(!(n<0))for(;n<this._markers.length;n++)if(l.Range.containsPosition(this._markers[n],t))return new m(this._markers[n],n+1,this._markers.length)}static _compareMarker(e,t){let n=(0,c.compare)(e.resource.toString(),t.resource.toString());return 0===n&&(n=i.MarkerSeverity.compare(e.severity,t.severity)),0===n&&(n=l.Range.compareRangesUsingStarts(e,t)),n}constructor(t,n){this._markerService=n,this._onDidChange=new(0,s.Emitter),this.onDidChange=this._onDidChange.event,this._dispoables=new(0,a.DisposableStore),this._markers=[],this._nextIdx=-1,o.URI.isUri(t)?this._resourceFilter=e=>e.toString()===t.toString():t&&(this._resourceFilter=t);const r=()=>{this._markers=this._markerService.read({resource:o.URI.isUri(t)?t:void 0,severities:i.MarkerSeverity.Error|i.MarkerSeverity.Warning|i.MarkerSeverity.Info}),"function"==typeof t&&(this._markers=this._markers.filter((e=>this._resourceFilter(e.resource)))),this._markers.sort(e._compareMarker)};r(),this._dispoables.add(n.onMarkerChanged((e=>{this._resourceFilter&&!e.some((e=>this._resourceFilter(e)))||(r(),this._nextIdx=-1,this._onDidChange.fire())})))}};v=g([f(1,i.IMarkerService)],v);const b=(0,d.createDecorator)("IMarkerNavigationService");let y=class{getMarkerList(e){for(let t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new v(e,this._markerService)}constructor(e){this._markerService=e,this._provider=new(0,p.LinkedList)}};y=g([f(0,i.IMarkerService)],y),(0,h.registerSingleton)(b,y,!0)})),r.register("2d2gJ",(function(t,n){e(t.exports,"MarkdownHoverParticipant",(function(){return x}),(function(e){return x=e}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("aQY22"),a=r("iNF8q"),l=r("dSV0M"),c=r("itLZT"),u=r("cCPZ6"),d=r("1n4fF"),h=r("ezXom"),p=r("aZciE"),g=r("15XZP"),f=r("aGBCV"),m=r("3ufSI"),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},b=function(e,t){return function(n,i){t(n,i,e)}},y=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const _=o.$;class C{isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}constructor(e,t,n){this.owner=e,this.range=t,this.contents=n}}let x=class{createLoadingMessage(e){return new C(this,e.range,[(new(0,s.MarkdownString)).appendText(i.localize("modesContentHover.loading","Loading..."))])}computeSync(e,t){if(!this._editor.hasModel()||1!==e.type)return[];const n=this._editor.getModel(),o=e.range.startLineNumber,r=n.getLineMaxColumn(o),a=[];for(const n of t){const t=n.range.startLineNumber===o?n.range.startColumn:1,i=n.range.endLineNumber===o?n.range.endColumn:r,c=n.options.hoverMessage;if(!c||(0,s.isEmptyMarkdownString)(c))continue;const d=new(0,l.Range)(e.range.startLineNumber,t,e.range.startLineNumber,i);a.push(new C(this,d,(0,u.asArray)(c)))}const c=this._editor.getModel().getLineLength(o),d=this._configurationService.getValue("editor.maxTokenizationLineLength");return"number"==typeof d&&c>=d&&a.push(new C(this,new(0,l.Range)(o,1,o,c+1),[{value:i.localize("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}])),a}computeAsync(e,t,n){return y(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||1!==e.type)return Promise.resolve([]);const t=this._editor.getModel();if(!p.HoverProviderRegistry.has(t))return Promise.resolve([]);const i=yield(0,g.getHover)(t,new(0,f.Position)(e.range.startLineNumber,e.range.startColumn),n),o=[];for(const t of i){if((0,s.isEmptyMarkdownString)(t.contents))continue;const n=t.range?l.Range.lift(t.range):e.range;o.push(new C(this,n,t.contents))}return o}))}renderHoverParts(e,t,n){const i=new(0,a.DisposableStore);for(const n of e)for(const e of n.contents){if((0,s.isEmptyMarkdownString)(e))continue;const n=_("div.hover-row.markdown-hover"),r=o.append(n,_("div.hover-contents")),a=i.add(new(0,c.MarkdownRenderer)({editor:this._editor},this._modeService,this._openerService));i.add(a.onDidRenderAsync((()=>{r.className="hover-contents code-hover-contents",this._hover.onContentsChanged()})));const l=i.add(a.render(e));r.appendChild(l.element),t.appendChild(n)}return i}constructor(e,t,n,i,o){this._editor=e,this._hover=t,this._modeService=n,this._openerService=i,this._configurationService=o}};x=v([b(2,h.IModeService),b(3,d.IOpenerService),b(4,m.IConfigurationService)],x)})),r.register("itLZT",(function(t,n){e(t.exports,"MarkdownRenderer",(function(){return m}),(function(e){return m=e}));var i,o=r("bgAUA"),s=r("1n4fF"),a=r("ezXom"),l=r("2zf51"),c=r("f1lnM"),u=r("4zvzH"),d=r("iNF8q"),h=r("aZciE"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}},f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let m=class e{dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){const i=new(0,d.DisposableStore);let r;return r=e?(0,o.renderMarkdown)(e,Object.assign(Object.assign({},this._getRenderOptions(e,i)),t),n):document.createElement("span"),{element:r,dispose:()=>i.dispose()}}_getRenderOptions(t,n){return{baseUrl:this._options.baseUrl,codeBlockRenderer:(t,n)=>f(this,void 0,void 0,(function*(){var i,o,r,s;let a;t?a=this._modeService.getModeIdForLanguageName(t):this._options.editor&&(a=null===(i=this._options.editor.getModel())||void 0===i?void 0:i.getLanguageIdentifier().language),a||(a="plaintext"),this._modeService.triggerMode(a);const l=null!==(o=yield h.TokenizationRegistry.getPromise(a))&&void 0!==o?o:void 0,u=document.createElement("span");u.innerHTML=null!==(s=null===(r=e._ttpTokenizer)||void 0===r?void 0:r.createHTML(n,l))&&void 0!==s?s:(0,c.tokenizeToString)(n,l);let d=this._options.codeBlockFontFamily;return this._options.editor&&(d=this._options.editor.getOption(41).fontFamily),d&&(u.style.fontFamily=d),u})),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:e=>this._openerService.open(e,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:t.isTrusted}).catch(l.onUnexpectedError),disposeables:n}}}constructor(e,t,n){this._options=e,this._modeService=t,this._openerService=n,this._onDidRenderAsync=new(0,u.Emitter),this.onDidRenderAsync=this._onDidRenderAsync.event}};m._ttpTokenizer=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("tokenizeToString",{createHTML:(e,t)=>(0,c.tokenizeToString)(e,t)}),m=p([g(1,a.IModeService),g(2,s.IOpenerService)],m)})),r.register("bgAUA",(function(t,n){e(t.exports,"renderMarkdown",(function(){return w}));var i,o=r("2vQKJ"),s=r("1lywn"),a=r("2zf51"),l=r("aQY22"),c=r("3TqE5"),u=r("3ws7C"),d=r("8GH1t"),h=r("jHk8S"),p=r("1TOwg"),g=r("78mNz"),f=r("65vvd"),m=r("5KVQh"),v=r("6vMUG"),b=r("d8krI"),y=r("gNbWk"),_=r("cDJQr"),C=r("4zvzH"),x=r("ibCEk");const S=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("insane",{createHTML:(e,t)=>(0,d.insane)(e,t)});function w(e,t={},n={}){var i;const r=(0,s.createElement)(t),w=function(t){let n;try{n=(0,h.parse)(decodeURIComponent(t))}catch(e){}return n?(n=(0,p.cloneAndChange)(n,(t=>e.uris&&e.uris[t]?f.URI.revive(e.uris[t]):void 0)),encodeURIComponent(JSON.stringify(n))):t},k=function(t,n){const i=e.uris&&e.uris[t];if(!i)return t;let o=f.URI.revive(i);return f.URI.parse(t).toString()===o.toString()?t:n?m.FileAccess.asBrowserUri(o).toString(!0):(o.query&&(o=o.with({query:w(o.query)})),o.toString())};let E;const D=new Promise((e=>E=e)),I=new u.Renderer;if(I.image=(e,n,i)=>{let o=[],r=[];if(e){({href:e,dimensions:o}=(0,l.parseHrefAndDimensions)(e)),e=k(e,!0);try{const n=f.URI.parse(e);t.baseUrl&&n.scheme===m.Schemas.file&&(e=(0,b.resolvePath)(t.baseUrl,e).toString())}catch(e){}r.push(`src="${e}"`)}return i&&r.push(`alt="${i}"`),n&&r.push(`title="${n}"`),o.length&&(r=r.concat(o)),"<img "+r.join(" ")+">"},I.link=(n,i,o)=>{if(n===o&&(o=(0,l.removeMarkdownEscapes)(o)),n=k(n,!1),t.baseUrl){/^\w[\w\d+.-]*:/.test(n)||(n=(0,b.resolvePath)(t.baseUrl,n).toString())}return i=(0,l.removeMarkdownEscapes)(i),!(n=(0,l.removeMarkdownEscapes)(n))||n.match(/^data:|javascript:/i)||n.match(/^command:/i)&&!e.isTrusted||n.match(/^command:(\/\/\/)?_workbench\.downloadResource/i)?o:`<a href="#" data-href="${n=n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}" title="${i||n}">${o}</a>`},I.paragraph=t=>{if(e.supportThemeIcons){t=(0,_.renderLabelWithIcons)(t).map((e=>"string"==typeof e?e:e.outerHTML)).join("")}return`<p>${t}</p>`},t.codeBlockRenderer&&(I.code=(e,n)=>{const i=t.codeBlockRenderer(n,e),s=c.defaultGenerator.nextId(),a=Promise.all([i,D]).then((e=>{const t=r.querySelector(`div[data-code="${s}"]`);t&&o.reset(t,e[0])})).catch((e=>{}));return t.asyncRenderCallback&&a.then(t.asyncRenderCallback),`<div class="code" data-code="${s}">${(0,g.escape)(e)}</div>`}),t.actionHandler){const e=t.actionHandler.disposeables.add(new(0,x.DomEmitter)(r,"click")),n=t.actionHandler.disposeables.add(new(0,x.DomEmitter)(r,"auxclick"));t.actionHandler.disposeables.add(C.Event.any(e.event,n.event)((e=>{const n=new(0,y.StandardMouseEvent)(e);if(!n.leftButton&&!n.middleButton)return;let i=n.target;if("A"===i.tagName||(i=i.parentElement,i&&"A"===i.tagName))try{const e=i.dataset.href;e&&t.actionHandler.callback(e,n)}catch(e){(0,a.onUnexpectedError)(e)}finally{n.preventDefault()}})))}n.sanitizer=t=>(e.isTrusted?t.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?t:"",n.sanitize=!0,n.silent=!0,n.renderer=I;let A=null!==(i=e.value)&&void 0!==i?i:"";A.length>1e5&&(A=`${A.substr(0,1e5)}`),e.supportThemeIcons&&(A=(0,v.markdownEscapeEscapedIcons)(A));const R=u.parse(A,n);if(r.innerHTML=function(e,t){var n;const i=function(e){const t=[m.Schemas.http,m.Schemas.https,m.Schemas.mailto,m.Schemas.data,m.Schemas.file,m.Schemas.vscodeRemote,m.Schemas.vscodeRemoteResource];e.isTrusted&&t.push(m.Schemas.command);return{allowedSchemes:t,allowedTags:["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],allowedAttributes:{a:["href","name","target","data-href"],img:["src","title","alt","width","height"],div:["class","data-code"],span:["class","style"],th:["align"],td:["align"]},filter:t=>"span"!==t.tag||!e.isTrusted||(t.attrs.style&&1===Object.keys(t.attrs).length?!!t.attrs.style.match(/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/):!!t.attrs.class&&!!t.attrs.class.match(/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/))}}(e);return null!==(n=null==S?void 0:S.createHTML(t,i))&&void 0!==n?n:(0,d.insane)(t,i)}(e,R),E(),t.asyncRenderCallback)for(const e of r.getElementsByTagName("img")){const n=o.addDisposableListener(e,"load",(()=>{n.dispose(),t.asyncRenderCallback()}))}return r}})),r.register("3ws7C",(function(e,t){e.exports,e.exports=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=e[Symbol.iterator]()).next.bind(i)}function r(e){var t={exports:{}};return e(t,t.exports),t.exports}var s=r((function(e){function t(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function n(t){e.exports.defaults=t}e.exports={defaults:t(),getDefaults:t,changeDefaults:n}})),a=/[&<>"']/,l=/[&<>"']/g,c=/[<>"']|&(?!#?\w+;)/,u=/[<>"']|&(?!#?\w+;)/g,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},h=function(e){return d[e]};function p(e,t){if(t){if(a.test(e))return e.replace(l,h)}else if(c.test(e))return e.replace(u,h);return e}var g=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function f(e){return e.replace(g,(function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))}var m=/(^|[^\[])\^/g;function v(e,t){e=e.source||e,t=t||"";var n={replace:function(t,i){return i=(i=i.source||i).replace(m,"$1"),e=e.replace(t,i),n},getRegex:function(){return new RegExp(e,t)}};return n}var b=/[^\w:]/g,y=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function _(e,t,n){if(e){var i;try{i=decodeURIComponent(f(n)).replace(b,"").toLowerCase()}catch(e){return null}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return null}t&&!y.test(n)&&(n=k(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}var C={},x=/^[^:]+:\/*[^/]*$/,S=/^([^:]+:)[\s\S]*$/,w=/^([^:]+:\/*[^/]*)[\s\S]*$/;function k(e,t){C[" "+e]||(x.test(e)?C[" "+e]=e+"/":C[" "+e]=I(e,"/",!0));var n=-1===(e=C[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(S,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(w,"$1")+t:e+t}function E(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function D(e,t){var n=e.replace(/\|/g,(function(e,t,n){for(var i=!1,o=t;--o>=0&&"\\"===n[o];)i=!i;return i?"|":" |"})).split(/ \|/),i=0;if(n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function I(e,t,n){var i=e.length;if(0===i)return"";for(var o=0;o<i;){var r=e.charAt(i-o-1);if(r!==t||n){if(r===t||!n)break;o++}else o++}return e.substr(0,i-o)}function A(e,t){if(-1===e.indexOf(t[1]))return-1;for(var n=e.length,i=0,o=0;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])i++;else if(e[o]===t[1]&&--i<0)return o;return-1}function R(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function L(e,t){if(t<1)return"";for(var n="";t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}var M={escape:p,unescape:f,edit:v,cleanUrl:_,resolveUrl:k,noopTest:{exec:function(){}},merge:E,splitCells:D,rtrim:I,findClosingBracket:A,checkSanitizeDeprecation:R,repeatString:L},T=s.defaults,N=M.rtrim,P=M.splitCells,O=M.escape,F=M.findClosingBracket;function z(e,t,n){var i=t.href,o=t.title?O(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");return"!"!==e[0].charAt(0)?{type:"link",raw:n,href:i,title:o,text:r}:{type:"image",raw:n,href:i,title:o,text:O(r)}}function B(e,t){var n=e.match(/^(\s+)(?:```)/);if(null===n)return t;var i=n[1];return t.split("\n").map((function(e){var t=e.match(/^\s+/);return null===t?e:t[0].length>=i.length?e.slice(i.length):e})).join("\n")}var H=function(){function e(e){this.options=e||T}var t=e.prototype;return t.space=function(e){var t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:"\n"}},t.code=function(e){var t=this.rules.block.code.exec(e);if(t){var n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:N(n,"\n")}}},t.fences=function(e){var t=this.rules.block.fences.exec(e);if(t){var n=t[0],i=B(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:i}}},t.heading=function(e){var t=this.rules.block.heading.exec(e);if(t){var n=t[2].trim();if(/#$/.test(n)){var i=N(n,"#");this.options.pedantic?n=i.trim():i&&!/ $/.test(i)||(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n}}},t.nptable=function(e){var t=this.rules.block.nptable.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[],raw:t[0]};if(n.header.length===n.align.length){var i,o=n.align.length;for(i=0;i<o;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(o=n.cells.length,i=0;i<o;i++)n.cells[i]=P(n.cells[i],n.header.length);return n}}},t.hr=function(e){var t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}},t.blockquote=function(e){var t=this.rules.block.blockquote.exec(e);if(t){var n=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],text:n}}},t.list=function(e){var t=this.rules.block.list.exec(e);if(t){var n,i,o,r,s,a,l,c,u=t[0],d=t[2],h=d.length>1,p={type:"list",raw:u,ordered:h,start:h?+d.slice(0,-1):"",loose:!1,items:[]},g=t[0].match(this.rules.block.item),f=!1,m=g.length;o=this.rules.block.listItemStart.exec(g[0]);for(var v=0;v<m;v++){if(u=n=g[v],v!==m-1){if(r=this.rules.block.listItemStart.exec(g[v+1]),this.options.pedantic?r[1].length>o[1].length:r[1].length>o[0].length||r[1].length>3){g.splice(v,2,g[v]+"\n"+g[v+1]),v--,m--;continue}(!this.options.pedantic||this.options.smartLists?r[2][r[2].length-1]!==d[d.length-1]:h===(1===r[2].length))&&(s=g.slice(v+1).join("\n"),p.raw=p.raw.substring(0,p.raw.length-s.length),v=m-1),o=r}i=n.length,~(n=n.replace(/^ *([*+-]|\d+[.)]) ?/,"")).indexOf("\n ")&&(i-=n.length,n=this.options.pedantic?n.replace(/^ {1,4}/gm,""):n.replace(new RegExp("^ {1,"+i+"}","gm"),"")),a=f||/\n\n(?!\s*$)/.test(n),v!==m-1&&(f="\n"===n.charAt(n.length-1),a||(a=f)),a&&(p.loose=!0),this.options.gfm&&(c=void 0,(l=/^\[[ xX]\] /.test(n))&&(c=" "!==n[1],n=n.replace(/^\[[ xX]\] +/,""))),p.items.push({type:"list_item",raw:u,task:l,checked:c,loose:a,text:n})}return p}},t.html=function(e){var t=this.rules.block.html.exec(e);if(t)return{type:this.options.sanitize?"paragraph":"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):O(t[0]):t[0]}},t.def=function(e){var t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}},t.table=function(e){var t=this.rules.block.table.exec(e);if(t){var n={type:"table",header:P(t[1].replace(/^ *| *\| *$/g,"")),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:t[3]?t[3].replace(/\n$/,"").split("\n"):[]};if(n.header.length===n.align.length){n.raw=t[0];var i,o=n.align.length;for(i=0;i<o;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(o=n.cells.length,i=0;i<o;i++)n.cells[i]=P(n.cells[i].replace(/^ *\| *| *\| *$/g,""),n.header.length);return n}}},t.lheading=function(e){var t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1]}},t.paragraph=function(e){var t=this.rules.block.paragraph.exec(e);if(t)return{type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1]}},t.text=function(e){var t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0]}},t.escape=function(e){var t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:O(t[1])}},t.tag=function(e,t,n){var i=this.rules.inline.tag.exec(e);if(i)return!t&&/^<a /i.test(i[0])?t=!0:t&&/^<\/a>/i.test(i[0])&&(t=!1),!n&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?n=!0:n&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(n=!1),{type:this.options.sanitize?"text":"html",raw:i[0],inLink:t,inRawBlock:n,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):O(i[0]):i[0]}},t.link=function(e){var t=this.rules.inline.link.exec(e);if(t){var n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;var i=N(n.slice(0,-1),"\\");if((n.length-i.length)%2==0)return}else{var o=F(t[2],"()");if(o>-1){var r=(0===t[0].indexOf("!")?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,r).trim(),t[3]=""}}var s=t[2],a="";if(this.options.pedantic){var l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);l&&(s=l[1],a=l[3])}else a=t[3]?t[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(s=this.options.pedantic&&!/>$/.test(n)?s.slice(1):s.slice(1,-1)),z(t,{href:s?s.replace(this.rules.inline._escapes,"$1"):s,title:a?a.replace(this.rules.inline._escapes,"$1"):a},t[0])}},t.reflink=function(e,t){var n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){var i=(n[2]||n[1]).replace(/\s+/g," ");if(!(i=t[i.toLowerCase()])||!i.href){var o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return z(n,i,n[0])}},t.emStrong=function(e,t,n){void 0===n&&(n="");var i=this.rules.inline.emStrong.lDelim.exec(e);if(i&&(!i[3]||!n.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var o=i[1]||i[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){var r,s,a=i[0].length-1,l=a,c=0,u="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+a);null!=(i=u.exec(t));)if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6])if(s=r.length,i[3]||i[4])l+=s;else if(!((i[5]||i[6])&&a%3)||(a+s)%3){if(!((l-=s)>0)){if(l+c-s<=0&&!t.slice(u.lastIndex).match(u)&&(s=Math.min(s,s+l+c)),Math.min(a,s)%2)return{type:"em",raw:e.slice(0,a+i.index+s+1),text:e.slice(1,a+i.index+s)};if(Math.min(a,s)%2==0)return{type:"strong",raw:e.slice(0,a+i.index+s+1),text:e.slice(2,a+i.index+s-1)}}}else c+=s}}},t.codespan=function(e){var t=this.rules.inline.code.exec(e);if(t){var n=t[2].replace(/\n/g," "),i=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return i&&o&&(n=n.substring(1,n.length-1)),n=O(n,!0),{type:"codespan",raw:t[0],text:n}}},t.br=function(e){var t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}},t.del=function(e){var t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2]}},t.autolink=function(e,t){var n,i,o=this.rules.inline.autolink.exec(e);if(o)return i="@"===o[2]?"mailto:"+(n=O(this.options.mangle?t(o[1]):o[1])):n=O(o[1]),{type:"link",raw:o[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}},t.url=function(e,t){var n;if(n=this.rules.inline.url.exec(e)){var i,o;if("@"===n[2])o="mailto:"+(i=O(this.options.mangle?t(n[0]):n[0]));else{var r;do{r=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(r!==n[0]);i=O(n[0]),o="www."===n[1]?"http://"+i:i}return{type:"link",raw:n[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}},t.inlineText=function(e,t,n){var i,o=this.rules.inline.text.exec(e);if(o)return i=t?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(o[0]):O(o[0]):o[0]:O(this.options.smartypants?n(o[0]):o[0]),{type:"text",raw:o[0],text:i}},e}(),W=M.noopTest,j=M.edit,V=M.merge,K={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:<(script|pre|style)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:\\n{2,}|$)|<(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|</(?!script|pre|style)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:W,table:W,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};K.def=j(K.def).replace("label",K._label).replace("title",K._title).getRegex(),K.bullet=/(?:[*+-]|\d{1,9}[.)])/,K.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/,K.item=j(K.item,"gm").replace(/bull/g,K.bullet).getRegex(),K.listItemStart=j(/^( *)(bull)/).replace("bull",K.bullet).getRegex(),K.list=j(K.list).replace(/bull/g,K.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+K.def.source+")").getRegex(),K._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",K._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,K.html=j(K.html,"i").replace("comment",K._comment).replace("tag",K._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),K.paragraph=j(K._paragraph).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.blockquote=j(K.blockquote).replace("paragraph",K.paragraph).getRegex(),K.normal=V({},K),K.gfm=V({},K.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),K.gfm.nptable=j(K.gfm.nptable).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.gfm.table=j(K.gfm.table).replace("hr",K.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|!--)").replace("tag",K._tag).getRegex(),K.pedantic=V({},K.normal,{html:j("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",K._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:W,paragraph:j(K.normal._paragraph).replace("hr",K.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",K.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var U={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:W,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/\_\_[^_]*?\*[^_]*?\_\_|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/\*\*[^*]*?\_[^*]*?\*\*|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:W,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~"};U.punctuation=j(U.punctuation).replace(/punctuation/g,U._punctuation).getRegex(),U.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,U.escapedEmSt=/\\\*|\\_/g,U._comment=j(K._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),U.emStrong.lDelim=j(U.emStrong.lDelim).replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimAst=j(U.emStrong.rDelimAst,"g").replace(/punct/g,U._punctuation).getRegex(),U.emStrong.rDelimUnd=j(U.emStrong.rDelimUnd,"g").replace(/punct/g,U._punctuation).getRegex(),U._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,U._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,U._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,U.autolink=j(U.autolink).replace("scheme",U._scheme).replace("email",U._email).getRegex(),U._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,U.tag=j(U.tag).replace("comment",U._comment).replace("attribute",U._attribute).getRegex(),U._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,U._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,U._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,U.link=j(U.link).replace("label",U._label).replace("href",U._href).replace("title",U._title).getRegex(),U.reflink=j(U.reflink).replace("label",U._label).getRegex(),U.reflinkSearch=j(U.reflinkSearch,"g").replace("reflink",U.reflink).replace("nolink",U.nolink).getRegex(),U.normal=V({},U),U.pedantic=V({},U.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:j(/^!?\[(label)\]\((.*?)\)/).replace("label",U._label).getRegex(),reflink:j(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",U._label).getRegex()}),U.gfm=V({},U.normal,{escape:j(U.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/}),U.gfm.url=j(U.gfm.url,"i").replace("email",U.gfm._extended_email).getRegex(),U.breaks=V({},U.gfm,{br:j(U.br).replace("{2,}","*").getRegex(),text:j(U.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var q={block:K,inline:U},$=s.defaults,G=q.block,Q=q.inline,X=M.repeatString;function Z(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function J(e){var t,n,i="",o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var Y=function(){function e(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||$,this.options.tokenizer=this.options.tokenizer||new H,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options;var t={block:G.normal,inline:Q.normal};this.options.pedantic?(t.block=G.pedantic,t.inline=Q.pedantic):this.options.gfm&&(t.block=G.gfm,this.options.breaks?t.inline=Q.breaks:t.inline=Q.gfm),this.tokenizer.rules=t}e.lex=function(t,n){return new e(n).lex(t)},e.lexInline=function(t,n){return new e(n).inlineTokens(t)};var n=e.prototype;return n.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    "),this.blockTokens(e,this.tokens,!0),this.inline(this.tokens),this.tokens},n.blockTokens=function(e,t,n){var i,o,r,s;for(void 0===t&&(t=[]),void 0===n&&(n=!0),this.options.pedantic&&(e=e.replace(/^ +$/gm,""));e;)if(i=this.tokenizer.space(e))e=e.substring(i.raw.length),i.type&&t.push(i);else if(i=this.tokenizer.code(e))e=e.substring(i.raw.length),(s=t[t.length-1])&&"paragraph"===s.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text):t.push(i);else if(i=this.tokenizer.fences(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.heading(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.nptable(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.hr(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.blockquote(e))e=e.substring(i.raw.length),i.tokens=this.blockTokens(i.text,[],n),t.push(i);else if(i=this.tokenizer.list(e)){for(e=e.substring(i.raw.length),r=i.items.length,o=0;o<r;o++)i.items[o].tokens=this.blockTokens(i.items[o].text,[],!1);t.push(i)}else if(i=this.tokenizer.html(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.def(e)))e=e.substring(i.raw.length),this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});else if(i=this.tokenizer.table(e))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.lheading(e))e=e.substring(i.raw.length),t.push(i);else if(n&&(i=this.tokenizer.paragraph(e)))e=e.substring(i.raw.length),t.push(i);else if(i=this.tokenizer.text(e))e=e.substring(i.raw.length),(s=t[t.length-1])&&"text"===s.type?(s.raw+="\n"+i.raw,s.text+="\n"+i.text):t.push(i);else if(e){var a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}throw new Error(a)}return t},n.inline=function(e){var t,n,i,o,r,s,a=e.length;for(t=0;t<a;t++)switch((s=e[t]).type){case"paragraph":case"text":case"heading":s.tokens=[],this.inlineTokens(s.text,s.tokens);break;case"table":for(s.tokens={header:[],cells:[]},o=s.header.length,n=0;n<o;n++)s.tokens.header[n]=[],this.inlineTokens(s.header[n],s.tokens.header[n]);for(o=s.cells.length,n=0;n<o;n++)for(r=s.cells[n],s.tokens.cells[n]=[],i=0;i<r.length;i++)s.tokens.cells[n][i]=[],this.inlineTokens(r[i],s.tokens.cells[n][i]);break;case"blockquote":this.inline(s.tokens);break;case"list":for(o=s.items.length,n=0;n<o;n++)this.inline(s.items[n].tokens)}return e},n.inlineTokens=function(e,t,n,i){var o,r;void 0===t&&(t=[]),void 0===n&&(n=!1),void 0===i&&(i=!1);var s,a,l,c=e;if(this.tokens.links){var u=Object.keys(this.tokens.links);if(u.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(c));)u.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,s.index)+"["+X("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,s.index)+"["+X("a",s[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,s.index)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(a||(l=""),a=!1,o=this.tokenizer.escape(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.tag(e,n,i)){e=e.substring(o.raw.length),n=o.inLink,i=o.inRawBlock;var d=t[t.length-1];d&&"text"===o.type&&"text"===d.type?(d.raw+=o.raw,d.text+=o.text):t.push(o)}else if(o=this.tokenizer.link(e))e=e.substring(o.raw.length),"link"===o.type&&(o.tokens=this.inlineTokens(o.text,[],!0,i)),t.push(o);else if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length);var h=t[t.length-1];"link"===o.type?(o.tokens=this.inlineTokens(o.text,[],!0,i),t.push(o)):h&&"text"===o.type&&"text"===h.type?(h.raw+=o.raw,h.text+=o.text):t.push(o)}else if(o=this.tokenizer.emStrong(e,c,l))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,i),t.push(o);else if(o=this.tokenizer.codespan(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.br(e))e=e.substring(o.raw.length),t.push(o);else if(o=this.tokenizer.del(e))e=e.substring(o.raw.length),o.tokens=this.inlineTokens(o.text,[],n,i),t.push(o);else if(o=this.tokenizer.autolink(e,J))e=e.substring(o.raw.length),t.push(o);else if(n||!(o=this.tokenizer.url(e,J))){if(o=this.tokenizer.inlineText(e,i,Z))e=e.substring(o.raw.length),"_"!==o.raw.slice(-1)&&(l=o.raw.slice(-1)),a=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=o.raw,r.text+=o.text):t.push(o);else if(e){var p="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(p);break}throw new Error(p)}}else e=e.substring(o.raw.length),t.push(o);return t},t(e,null,[{key:"rules",get:function(){return{block:G,inline:Q}}}]),e}(),ee=s.defaults,te=M.cleanUrl,ne=M.escape,ie=function(){function e(e){this.options=e||ee}var t=e.prototype;return t.code=function(e,t,n){var i=(t||"").match(/\S*/)[0];if(this.options.highlight){var o=this.options.highlight(e,i);null!=o&&o!==e&&(n=!0,e=o)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+ne(i,!0)+'">'+(n?e:ne(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:ne(e,!0))+"</code></pre>\n"},t.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},t.html=function(e){return e},t.heading=function(e,t,n,i){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+i.slug(n)+'">'+e+"</h"+t+">\n":"<h"+t+">"+e+"</h"+t+">\n"},t.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},t.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},t.listitem=function(e){return"<li>"+e+"</li>\n"},t.checkbox=function(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},t.paragraph=function(e){return"<p>"+e+"</p>\n"},t.table=function(e,t){return t&&(t="<tbody>"+t+"</tbody>"),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"},t.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},t.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' align="'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},t.strong=function(e){return"<strong>"+e+"</strong>"},t.em=function(e){return"<em>"+e+"</em>"},t.codespan=function(e){return"<code>"+e+"</code>"},t.br=function(){return this.options.xhtml?"<br/>":"<br>"},t.del=function(e){return"<del>"+e+"</del>"},t.link=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<a href="'+ne(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>"},t.image=function(e,t,n){if(null===(e=te(this.options.sanitize,this.options.baseUrl,e)))return n;var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},t.text=function(e){return e},e}(),oe=function(){function e(){}var t=e.prototype;return t.strong=function(e){return e},t.em=function(e){return e},t.codespan=function(e){return e},t.del=function(e){return e},t.html=function(e){return e},t.text=function(e){return e},t.link=function(e,t,n){return""+n},t.image=function(e,t,n){return""+n},t.br=function(){return""},e}(),re=function(){function e(){this.seen={}}var t=e.prototype;return t.serialize=function(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},t.getNextSafeSlug=function(e,t){var n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{n=e+"-"+ ++i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n},t.slug=function(e,t){void 0===t&&(t={});var n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)},e}(),se=s.defaults,ae=M.unescape,le=function(){function e(e){this.options=e||se,this.options.renderer=this.options.renderer||new ie,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new oe,this.slugger=new re}e.parse=function(t,n){return new e(n).parse(t)},e.parseInline=function(t,n){return new e(n).parseInline(t)};var t=e.prototype;return t.parse=function(e,t){void 0===t&&(t=!0);var n,i,o,r,s,a,l,c,u,d,h,p,g,f,m,v,b,y,_="",C=e.length;for(n=0;n<C;n++)switch((d=e[n]).type){case"space":continue;case"hr":_+=this.renderer.hr();continue;case"heading":_+=this.renderer.heading(this.parseInline(d.tokens),d.depth,ae(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":_+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",r=d.header.length,i=0;i<r;i++)l+=this.renderer.tablecell(this.parseInline(d.tokens.header[i]),{header:!0,align:d.align[i]});for(c+=this.renderer.tablerow(l),u="",r=d.cells.length,i=0;i<r;i++){for(l="",s=(a=d.tokens.cells[i]).length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(a[o]),{header:!1,align:d.align[o]});u+=this.renderer.tablerow(l)}_+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),_+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,g=d.loose,r=d.items.length,u="",i=0;i<r;i++)v=(m=d.items[i]).checked,b=m.task,f="",m.task&&(y=this.renderer.checkbox(v),g?m.tokens.length>0&&"text"===m.tokens[0].type?(m.tokens[0].text=y+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=y+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:y}):f+=y),f+=this.parse(m.tokens,g),u+=this.renderer.listitem(f,b,v);_+=this.renderer.list(u,h,p);continue;case"html":_+=this.renderer.html(d.text);continue;case"paragraph":_+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<C&&"text"===e[n+1].type;)u+="\n"+((d=e[++n]).tokens?this.parseInline(d.tokens):d.text);_+=t?this.renderer.paragraph(u):u;continue;default:var x='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(x);throw new Error(x)}return _},t.parseInline=function(e,t){t=t||this.renderer;var n,i,o="",r=e.length;for(n=0;n<r;n++)switch((i=e[n]).type){case"escape":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;case"text":o+=t.text(i.text);break;default:var s='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(s);throw new Error(s)}return o},e}(),ce=M.merge,ue=M.checkSanitizeDeprecation,de=M.escape,he=s.getDefaults,pe=s.changeDefaults,ge=s.defaults;function fe(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),t=ce({},fe.defaults,t||{}),ue(t),n){var i,o=t.highlight;try{i=Y.lex(e,t)}catch(e){return n(e)}var r=function(e){var r;if(!e)try{r=le.parse(i,t)}catch(t){e=t}return t.highlight=o,e?n(e):n(null,r)};if(!o||o.length<3)return r();if(delete t.highlight,!i.length)return r();var s=0;return fe.walkTokens(i,(function(e){"code"===e.type&&(s++,setTimeout((function(){o(e.text,e.lang,(function(t,n){if(t)return r(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--s&&r()}))}),0))})),void(0===s&&r())}try{var a=Y.lex(e,t);return t.walkTokens&&fe.walkTokens(a,t.walkTokens),le.parse(a,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}}return fe.options=fe.setOptions=function(e){return ce(fe.defaults,e),pe(fe.defaults),fe},fe.getDefaults=he,fe.defaults=ge,fe.use=function(e){var t=ce({},e);if(e.renderer&&function(){var n=fe.defaults.renderer||new ie,i=function(t){var i=n[t];n[t]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.renderer[t].apply(n,r);return!1===a&&(a=i.apply(n,r)),a}};for(var o in e.renderer)i(o);t.renderer=n}(),e.tokenizer&&function(){var n=fe.defaults.tokenizer||new H,i=function(t){var i=n[t];n[t]=function(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];var a=e.tokenizer[t].apply(n,r);return!1===a&&(a=i.apply(n,r)),a}};for(var o in e.tokenizer)i(o);t.tokenizer=n}(),e.walkTokens){var n=fe.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens(t),n&&n(t)}}fe.setOptions(t)},fe.walkTokens=function(e,t){for(var n,i=o(e);!(n=i()).done;){var r=n.value;switch(t(r),r.type){case"table":for(var s,a=o(r.tokens.header);!(s=a()).done;){var l=s.value;fe.walkTokens(l,t)}for(var c,u=o(r.tokens.cells);!(c=u()).done;)for(var d,h=o(c.value);!(d=h()).done;){var p=d.value;fe.walkTokens(p,t)}break;case"list":fe.walkTokens(r.items,t);break;default:r.tokens&&fe.walkTokens(r.tokens,t)}}},fe.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=ce({},fe.defaults,t||{}),ue(t);try{var n=Y.lexInline(e,t);return t.walkTokens&&fe.walkTokens(n,t.walkTokens),le.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+de(e.message+"",!0)+"</pre>";throw e}},fe.Parser=le,fe.parser=le.parse,fe.Renderer=ie,fe.TextRenderer=oe,fe.Lexer=Y,fe.lexer=Y.lex,fe.Tokenizer=H,fe.Slugger=re,fe.parse=fe,fe}()})),r.register("8GH1t",(function(t,n){let i;e(t.exports,"insane",(function(){return o})),function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l=void 0;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,n,i)}return n[s].exports}for(var r=void 0,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){var i=e("./toMap");t.exports={uris:i(["background","base","cite","href","longdesc","src","usemap"])}},{"./toMap":10}],2:[function(e,t,n){t.exports={allowedAttributes:{"*":["title","accesskey"],a:["href","name","target","aria-label"],iframe:["allowfullscreen","frameborder","src"],img:["src","alt","title","aria-label"]},allowedClasses:{},allowedSchemes:["http","https","mailto"],allowedTags:["a","abbr","article","b","blockquote","br","caption","code","del","details","div","em","h1","h2","h3","h4","h5","h6","hr","i","img","ins","kbd","li","main","mark","ol","p","pre","section","span","strike","strong","sub","summary","sup","table","tbody","td","th","thead","tr","u","ul"],filter:null}},{}],3:[function(e,t,n){var i=e("./toMap");t.exports={voids:i(["area","br","col","hr","img","wbr","input","base","basefont","link","meta"])}},{"./toMap":10}],4:[function(e,t,n){e("he");var o=e("assignment"),r=e("./parser"),s=e("./sanitizer"),a=e("./defaults");function l(e,t,n){var i=[],l=!0===n?t:o({},a,t),c=s(i,l);return r(e,c),i.join("")}l.defaults=a,t.exports=l,i=l},{"./defaults":2,"./parser":7,"./sanitizer":8,assignment:6,he:9}],5:[function(e,t,n){t.exports=function(e){return"string"==typeof e?e.toLowerCase():e}},{}],6:[function(e,t,n){t.exports=function e(t){for(var n,i,o=Array.prototype.slice.call(arguments,1);o.length;)for(i in n=o.shift())n.hasOwnProperty(i)&&("[object Object]"===Object.prototype.toString.call(t[i])?t[i]=e(t[i],n[i]):t[i]=n[i]);return t}},{}],7:[function(e,t,n){var i=e("he"),o=e("./lowercase"),r=(e("./attributes"),e("./elements")),s=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,a=/^<\s*\/\s*([\w:-]+)[^>]*>/,l=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,c=/^</,u=/^<\s*\//;t.exports=function(e,t){for(var n,d=function(){var e=[];return e.lastItem=function(){return e[e.length-1]},e}(),h=e;e;)p();function p(){n=!0,function(){"\x3c!--"===e.substr(0,4)?(i=e.indexOf("--\x3e"),i>=0&&(t.comment&&t.comment(e.substring(4,i)),e=e.substring(i+3),n=!1)):u.test(e)?g(a,m):c.test(e)&&g(s,f);var i;!function(){if(!n)return;var i,o=e.indexOf("<");o>=0?(i=e.substring(0,o),e=e.substring(o)):(i=e,e="");t.chars&&t.chars(i)}()}();var i=e===h;h=e,i&&(e="")}function g(t,i){var o=e.match(t);o&&(e=e.substring(o[0].length),o[0].replace(t,i),n=!1)}function f(e,n,s,a){var c={},u=o(n),h=r.voids[u]||!!a;s.replace(l,(function(e,t,n,o,r){c[t]=void 0===n&&void 0===o&&void 0===r?void 0:i.decode(n||o||r||"")})),h||d.push(u),t.start&&t.start(u,c,h)}function m(e,n){var i,r=0,s=o(n);if(s)for(r=d.length-1;r>=0&&d[r]!==s;r--);if(r>=0){for(i=d.length-1;i>=r;i--)t.end&&t.end(d[i]);d.length=r}}m()}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],8:[function(e,t,n){var i=e("he"),o=e("./lowercase"),r=e("./attributes"),s=e("./elements");t.exports=function(e,t){var n,a=t||{};return d(),{start:function(e,t,s){var u=o(e);if(n.ignoring)return void c(u);if(-1===(a.allowedTags||[]).indexOf(u))return void c(u);if(a.filter&&!a.filter({tag:u,attrs:t}))return void c(u);l("<"),l(u),Object.keys(t).forEach((function(e){var n=t[e],s=(a.allowedClasses||{})[u]||[],c=(a.allowedAttributes||{})[u]||[];c=c.concat((a.allowedAttributes||{})["*"]||[]);var d=o(e);("class"===d&&-1===c.indexOf(d)?(n=n.split(" ").filter((function(e){return s&&-1!==s.indexOf(e)})).join(" ").trim()).length:-1!==c.indexOf(d)&&(!0!==r.uris[d]||function(e){var t=e[0];if("#"===t||"/"===t)return!0;var n=e.indexOf(":");if(-1===n)return!0;var i=e.indexOf("?");if(-1!==i&&n>i)return!0;var o=e.indexOf("#");return-1!==o&&n>o||a.allowedSchemes.some(r);function r(t){return 0===e.indexOf(t+":")}}(n)))&&(l(" "),l(e),"string"==typeof n&&(l('="'),l(i.encode(n)),l('"')))})),l(s?"/>":">")},end:function(e){var t=o(e);-1!==(a.allowedTags||[]).indexOf(t)&&!1===n.ignoring?(l("</"),l(t),l(">")):u(t)},chars:function(e){!1===n.ignoring&&l(a.transformText?a.transformText(e):e)}};function l(t){e.push(t)}function c(e){s.voids[e]||(!1===n.ignoring?n={ignoring:e,depth:1}:n.ignoring===e&&n.depth++)}function u(e){n.ignoring===e&&--n.depth<=0&&d()}function d(){n={ignoring:!1,depth:0}}}},{"./attributes":1,"./elements":3,"./lowercase":5,he:9}],9:[function(e,t,n){var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},r=/(&amp;|&lt;|&gt;|&quot;|&#39;)/g,s=/[&<>"']/g;function a(e){return i[e]}function l(e){return o[e]}function c(e){return null==e?"":String(e).replace(s,a)}function u(e){return null==e?"":String(e).replace(r,l)}c.options=u.options={},t.exports={encode:c,escape:c,decode:u,unescape:u,version:"1.0.0-browser"}},{}],10:[function(e,t,n){function i(e,t){return e[t]=!0,e}t.exports=function(e){return e.reduce(i,{})}},{}]},{},[4]);var o=i})),r.register("15XZP",(function(t,n){e(t.exports,"getHover",(function(){return c}));var i=r("cCPZ6"),o=r("dq3o1"),s=r("2zf51"),a=r("eh64S"),l=r("aZciE");function c(e,t,n){const o=l.HoverProviderRegistry.ordered(e).map((i=>Promise.resolve(i.provideHover(e,t,n)).then((e=>e&&function(e){const t=void 0!==e.range,n=void 0!==e.contents&&e.contents&&e.contents.length>0;return t&&n}(e)?e:void 0),(e=>{(0,s.onUnexpectedExternalError)(e)}))));return Promise.all(o).then(i.coalesce)}(0,a.registerModelAndPositionCommand)("_executeHoverProvider",((e,t)=>c(e,t,o.CancellationToken.None)))})),r.register("8dAJl",(function(t,n){e(t.exports,"InlineCompletionsHoverParticipant",(function(){return f}),(function(e){return f=e}));var i=r("9LBxC"),o=r("hOfQT"),s=r("dSV0M"),a=r("iNF8q"),l=r("g7oVn"),c=r("7YObE"),u=r("d8eAn"),d=r("1N08n"),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){return function(n,i){t(n,i,e)}};class g{isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}}let f=class{suggestHoverAnchor(e){const t=l.GhostTextController.get(this._editor);if(!t)return null;if(8===e.target.type){const n=e.target.detail;if(t.shouldShowHoverAtViewZone(n.viewZoneId))return new(0,o.HoverForeignElementAnchor)(1e3,this,s.Range.fromPositions(n.positionBefore||n.position,n.positionBefore||n.position))}if(7===e.target.type&&e.target.range&&t.shouldShowHoverAt(e.target.range))return new(0,o.HoverForeignElementAnchor)(1e3,this,e.target.range);if(6===e.target.type&&e.target.range&&e.target.detail){if(e.target.detail.mightBeForeignElement&&t.shouldShowHoverAt(e.target.range))return new(0,o.HoverForeignElementAnchor)(1e3,this,e.target.range)}return null}computeSync(e,t){const n=l.GhostTextController.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new g(this,e.range,n)]:[]}renderHoverParts(e,t,n){const o=new(0,a.DisposableStore),r=o.add(this._menuService.createMenu(u.MenuId.InlineCompletionsActions,this._contextKeyService)),s=n.addAction({label:i.localize("showNextInlineSuggestion","Next"),commandId:l.ShowNextInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(l.ShowNextInlineSuggestionAction.ID)}),c=n.addAction({label:i.localize("showPreviousInlineSuggestion","Previous"),commandId:l.ShowPreviousInlineSuggestionAction.ID,run:()=>this._commandService.executeCommand(l.ShowPreviousInlineSuggestionAction.ID)});n.addAction({label:i.localize("acceptInlineSuggestion","Accept"),commandId:l.commitInlineSuggestionAction.id,run:()=>this._commandService.executeCommand(l.commitInlineSuggestionAction.id)});const d=[s,c];for(const e of d)e.setEnabled(!1);e[0].hasMultipleSuggestions().then((e=>{for(const t of d)t.setEnabled(e)}));for(const[e,t]of r.getActions())for(const e of t)e instanceof u.MenuItemAction&&n.addAction({label:e.label,commandId:e.item.id,run:()=>this._commandService.executeCommand(e.item.id)});return o}constructor(e,t,n,i,o){this._editor=e,this._commandService=n,this._menuService=i,this._contextKeyService=o}};f=h([p(2,c.ICommandService),p(3,u.IMenuService),p(4,d.IContextKeyService)],f)})),r.register("hOfQT",(function(t,n){e(t.exports,"HoverRangeAnchor",(function(){return i})),e(t.exports,"HoverForeignElementAnchor",(function(){return o}));class i{equals(e){return 1===e.type&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return 1===e.type&&t.lineNumber===this.range.startLineNumber}constructor(e,t){this.priority=e,this.range=t,this.type=1}}class o{equals(e){return 2===e.type&&this.owner===e.owner}canAdoptVisibleHover(e,t){return 2===e.type&&this.owner===e.owner}constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}}})),r.register("g7oVn",(function(t,n){e(t.exports,"GhostTextController",(function(){return f}),(function(e){return f=e})),e(t.exports,"commitInlineSuggestionAction",(function(){return y}),(function(e){return y=e})),e(t.exports,"ShowNextInlineSuggestionAction",(function(){return _}),(function(e){return _=e})),e(t.exports,"ShowPreviousInlineSuggestionAction",(function(){return C}),(function(e){return C=e}));var i=r("iNF8q"),o=r("eh64S"),s=r("igipX"),a=r("jdj8b"),l=r("9LBxC"),c=r("1N08n"),u=r("blTDv"),d=r("eC3v5"),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){return function(n,i){t(n,i,e)}},g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let f=class e extends i.Disposable{static get(t){return t.getContribution(e.ID)}get activeModel(){var e;return null===(e=this.activeController.value)||void 0===e?void 0:e.model}updateModelController(){const e=this.editor.getOption(105),t=this.editor.getOption(53);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(v,this.editor):void 0}shouldShowHoverAt(e){var t;return(null===(t=this.activeModel)||void 0===t?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return(null===(n=null===(t=this.activeController.value)||void 0===t?void 0:t.widget)||void 0===n?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),null===(e=this.activeModel)||void 0===e||e.triggerInlineCompletion()}commit(){var e;null===(e=this.activeModel)||void 0===e||e.commitInlineCompletion()}hide(){var e;null===(e=this.activeModel)||void 0===e||e.hideInlineCompletion()}showNextInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;null===(e=this.activeModel)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return g(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new(0,i.MutableDisposable)),this._register(this.editor.onDidChangeModel((()=>{this.updateModelController()}))),this._register(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(105)&&this.updateModelController(),e.hasChanged(53)&&this.updateModelController()}))),this.updateModelController()}};f.inlineSuggestionVisible=new(0,c.RawContextKey)("inlineSuggestionVisible",!1,l.localize("inlineSuggestionVisible","Whether an inline suggestion is visible")),f.inlineSuggestionHasIndentation=new(0,c.RawContextKey)("inlineSuggestionHasIndentation",!1,l.localize("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),f.ID="editor.contrib.ghostTextController",f=h([p(1,u.IInstantiationService)],f);class m{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=f.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=f.inlineSuggestionHasIndentation.bindTo(this.contextKeyService)}}let v=class extends i.Disposable{updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(void 0!==(null===(e=this.model.activeInlineCompletionsModel)||void 0===e?void 0:e.ghostText));const t=this.model.inlineCompletionsModel.ghostText;if(t&&t.parts.length>0){const{column:e,lines:n}=t.parts[0],i=n[0].startsWith(" ")||n[0].startsWith("\t"),o=e<=this.editor.getModel().getLineIndentColumn(t.lineNumber);this.contextKeys.inlineCompletionSuggestsIndentation.set(!!this.model.activeInlineCompletionsModel&&i&&o)}else this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new m(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(d.GhostTextModel,this.editor)),this.widget=this._register(this.instantiationService.createInstance(a.GhostTextWidget,this.editor,this.model)),this._register((0,i.toDisposable)((()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1)}))),this._register(this.model.onDidChange((()=>{this.updateContextKeys()}))),this.updateContextKeys()}};v=h([p(1,u.IInstantiationService),p(2,c.IContextKeyService)],v);const b=o.EditorCommand.bindToContribution(f.get),y=new b({id:"editor.action.inlineSuggest.commit",precondition:c.ContextKeyExpr.and(f.inlineSuggestionVisible,f.inlineSuggestionHasIndentation.toNegated(),s.EditorContextKeys.tabMovesFocus.toNegated()),kbOpts:{weight:200,primary:2},handler(e){e.commit(),e.editor.focus()}});(0,o.registerEditorCommand)(y),(0,o.registerEditorCommand)(new b({id:"editor.action.inlineSuggest.hide",precondition:f.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(e){e.hide()}}));class _ extends o.EditorAction{run(e,t){return g(this,void 0,void 0,(function*(){const e=f.get(t);e&&(e.showNextInlineCompletion(),t.focus())}))}constructor(){super({id:_.ID,label:l.localize("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.writable,f.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}}_.ID="editor.action.inlineSuggest.showNext";class C extends o.EditorAction{run(e,t){return g(this,void 0,void 0,(function*(){const e=f.get(t);e&&(e.showPreviousInlineCompletion(),t.focus())}))}constructor(){super({id:C.ID,label:l.localize("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:c.ContextKeyExpr.and(s.EditorContextKeys.writable,f.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}}C.ID="editor.action.inlineSuggest.showPrevious";class x extends o.EditorAction{run(e,t){return g(this,void 0,void 0,(function*(){const e=f.get(t);e&&e.trigger()}))}constructor(){super({id:"editor.action.inlineSuggest.trigger",label:l.localize("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:s.EditorContextKeys.writable})}}(0,o.registerEditorContribution)(f.ID,f),(0,o.registerEditorAction)(x),(0,o.registerEditorAction)(_),(0,o.registerEditorAction)(C)})),r.register("jdj8b",(function(t,n){e(t.exports,"GhostTextWidget",(function(){return E}),(function(e){return E=e}));var i,o=r("2vQKJ"),s=r("iNF8q"),a=r("dSV0M"),l=r("7yAvG"),c=r("78mNz"),u=r("xShKP"),d=r("k21TA"),h=r("kTLLF"),p=r("iJIEC"),g=r("b3veX"),f=r("aGBCV"),m=r("JzRxO"),v=r("kg7au"),b=r("2Jvmn"),y=r("loy6J"),_=r("3W1JG"),C=r("1N08n"),x=r("blTDv"),S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){return function(n,i){t(n,i,e)}};const k=null===(i=window.trustedTypes)||void 0===i?void 0:i.createPolicy("editorGhostText",{createHTML:e=>e});let E=class extends s.Disposable{shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed)return this.partsWidget.clear(),void this.additionalLinesWidget.clear();const n=new Array,i=new Array;function o(e,t){if(i.length>0){const n=i[i.length-1];t&&n.decorations.push(new(0,_.LineDecoration)(n.content.length+1,n.content.length+1+e[0].length,t,0)),n.content+=e[0],e=e.slice(1)}for(const n of e)i.push({content:n,decorations:t?[new(0,_.LineDecoration)(1,n.length+1,t,0)]:[]})}const r=this.editor.getModel().getLineContent(t.lineNumber);let s;this.editor.getModel().getLineTokens(t.lineNumber);let a=0;for(const e of t.parts){let t=e.lines;void 0===s?(n.push({column:e.column,text:t[0]}),t=t.slice(1)):o([r.substring(a,e.column-1)],void 0),t.length>0&&(o(t,"ghost-text"),void 0===s&&e.column<=r.length&&(s=e.column)),a=e.column-1}void 0!==s&&o([r.substring(a)],void 0),this.partsWidget.setParts(t.lineNumber,n,void 0!==s?{column:s,length:r.length+1-s}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,i,t.additionalReservedLineCount),t.parts.some((e=>e.lines.length<0))?this.viewMoreContentWidget=this.renderViewMoreLines(new(0,f.Position)(t.lineNumber,this.editor.getModel().getLineMaxColumn(t.lineNumber)),"",0):(null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0)}renderViewMoreLines(e,t,n){const i=this.editor.getOption(41),r=document.createElement("div");r.className="suggest-preview-additional-widget",p.Configuration.applyFontInfoSlow(r,i);const a=document.createElement("span");a.className="content-spacer",a.append(t),r.append(a);const l=document.createElement("span");l.className="content-newline suggest-preview-text",l.append("  "),r.append(l);const c=new(0,s.DisposableStore),u=document.createElement("div");return u.className="button suggest-preview-text",u.append(`+${n} lines`),c.add(o.addStandardDisposableListener(u,"mousedown",(e=>{var t;null===(t=this.model)||void 0===t||t.setExpanded(!0),e.preventDefault(),this.editor.focus()}))),r.append(u),new L(this.editor,e,r,c)}constructor(e,t,n){super(),this.editor=e,this.model=t,this.instantiationService=n,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(D,this.editor)),this.additionalLinesWidget=this._register(new A(this.editor)),this.viewMoreContentWidget=void 0,this._register(this.editor.onDidChangeConfiguration((e=>{(e.hasChanged(27)||e.hasChanged(104)||e.hasChanged(87)||e.hasChanged(81)||e.hasChanged(42)||e.hasChanged(41)||e.hasChanged(57))&&this.update()}))),this._register((0,s.toDisposable)((()=>{var e;this.disposed=!0,this.update(),null===(e=this.viewMoreContentWidget)||void 0===e||e.dispose(),this.viewMoreContentWidget=void 0}))),this._register(t.onDidChange((()=>{this.update()}))),this.update()}};E=S([w(2,x.IInstantiationService)],E);let D=class{dispose(){this.clear(),this.disposableStore.dispose()}clear(){this.editor.deltaDecorations(this.decorationIds,[]),this.disposableStore.clear()}setParts(e,t,n){this.disposableStore.clear();const i=this.themeService.getColorTheme(),o=i.getColor(v.ghostTextForeground);let r,s;o&&(r=String(o.rgba.a),s=b.Color.Format.CSS.format(I(o)));const l=i.getColor(v.ghostTextBorder);let c;l&&(c=`2px dashed ${l}`);const u=this.editor.getModel();if(!u)return;const{tabSize:d}=u.getOptions(),h=u.getLineContent(e)||"";let p=0,g="";const m=new Array;n&&m.push({range:a.Range.fromPositions(new(0,f.Position)(e,n.column),new(0,f.Position)(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});const y=this.contextKeyService.getContextKeyValue("config.editor.useInjectedText"),_=void 0===y||!!y;this.decorationIds=this.editor.deltaDecorations(this.decorationIds,t.map((t=>{g+=h.substring(p,t.column-1),p=t.column-1;const n=_?t.text:this.renderSingleLineText(t.text,g,d,!1),i=this.disposableStore.add(function(e,t,n,i){const o=n+R++;return e.registerDecorationType(t,o,i),{dispose(){e.removeDecorationType(o)},resolve:()=>e.resolveDecorationOptions(o,!0)}}(this.codeEditorService,"ghost-text","0-ghost-text-",{after:{contentText:n,opacity:r,color:s,border:c}}));return{range:a.Range.fromPositions(new(0,f.Position)(e,t.column)),options:_?{description:"ghost-text",after:{content:n,inlineClassName:"ghost-text-decoration"}}:Object.assign({},i.resolve())}})).concat(m))}renderSingleLineText(e,t,n,i){const o=t+e,r=y.CursorColumns.visibleColumnsByColumns(o,n);let s="",a=t.length+1;for(const t of e){if("\t"===t){const e=r[a+1]-r[a];if(i){s+="";for(let t=1;t<e;t++)s+=""}else for(let t=0;t<e;t++)s+=""}else s+=" "===t?i?"":"":t;a+=1}return s}constructor(e,t,n,i){this.editor=e,this.codeEditorService=t,this.themeService=n,this.contextKeyService=i,this.decorationIds=[],this.disposableStore=new(0,s.DisposableStore)}};function I(e){const{r:t,b:n,g:i}=e.rgba;return new(0,b.Color)(new(0,b.RGBA)(t,i,n,255))}D=S([w(1,l.ICodeEditorService),w(2,m.IThemeService),w(3,C.IContextKeyService)],D);class A{get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones((e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)}))}updateLines(e,t,n){const i=this.editor.getModel();if(!i)return;const{tabSize:o}=i.getOptions();this.editor.changeViewZones((i=>{this._viewZoneId&&(i.removeZone(this._viewZoneId),this._viewZoneId=void 0);const r=Math.max(t.length,n);if(r>0){const n=document.createElement("div");!function(e,t,n,i){const o=i.get(27),r=i.get(104),s="none",a=i.get(81),l=i.get(42),f=i.get(41),m=i.get(57),v=(0,h.createStringBuilder)(1e4);v.appendASCIIString('<div class="suggest-preview-text">');for(let e=0,i=n.length;e<i;e++){const i=n[e],h=i.content;v.appendASCIIString('<div class="view-line'),v.appendASCIIString('" style="top:'),v.appendASCIIString(String(e*m)),v.appendASCIIString('px;width:1000000px;">');const p=c.isBasicASCII(h),b=c.containsRTL(h),y=g.LineTokens.createEmpty(h);(0,u.renderViewLine)(new(0,u.RenderLineInput)(f.isMonospace&&!o,f.canUseHalfwidthRightwardsArrow,h,!1,p,b,0,y,i.decorations,t,0,f.spaceWidth,f.middotWidth,f.wsmiddotWidth,r,s,a,l!==d.EditorFontLigatures.OFF,null),v),v.appendASCIIString("</div>")}v.appendASCIIString("</div>"),p.Configuration.applyFontInfoSlow(e,f);const b=v.build(),y=k?k.createHTML(b):b;e.innerHTML=y}(n,o,t,this.editor.getOptions()),this._viewZoneId=i.addZone({afterLineNumber:e,heightInLines:r,domNode:n})}}))}constructor(e){this.editor=e,this._viewZoneId=void 0}}let R=0;class L extends s.Disposable{getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}constructor(e,t,n,i){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(i),this._register((0,s.toDisposable)((()=>{this.editor.removeContentWidget(this)}))),this.editor.addContentWidget(this)}}(0,m.registerThemingParticipant)(((e,t)=>{const n=e.getColor(v.ghostTextForeground);if(n){const e=String(n.rgba.a),i=b.Color.Format.CSS.format(I(n));t.addRule(`.monaco-editor .ghost-text-decoration { opacity: ${e}; color: ${i}; }`),t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { opacity: ${e}; color: ${i}; }`)}const i=e.getColor(v.ghostTextBorder);i&&t.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 2px dashed ${i}; }`)}))})),r.register("eC3v5",(function(t,n){e(t.exports,"GhostTextModel",(function(){return f}),(function(e){return f=e}));var i=r("iNF8q"),o=r("9nJ2H"),s=r("dnU54"),a=r("7YObE"),l=r("4zvzH"),c=r("aGBCV"),u=r("13Id7"),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){return function(n,i){t(n,i,e)}},p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class g extends i.Disposable{get targetModel(){var e;return null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object}setTargetModel(e){var t;(null===(t=this.currentModelRef.value)||void 0===t?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?(0,u.createDisposableRef)(e,e.onDidChange((()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()}))):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=null===(t=null===(e=this.currentModelRef.value)||void 0===e?void 0:e.object)||void 0===t?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;null===(t=this.targetModel)||void 0===t||t.setExpanded(e)}get expanded(){return!!this.targetModel&&this.targetModel.expanded}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}constructor(){super(...arguments),this.onDidChangeEmitter=new(0,l.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new(0,i.MutableDisposable))}}let f=class extends g{get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=null===(t=this.activeInlineCompletionsModel)||void 0===t?void 0:t.ghostText;return!!n&&n.parts.some((t=>e.containsPosition(new(0,c.Position)(n.lineNumber,t.column))))}triggerInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.trigger()}commitInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.hide()}showNextInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showNext()}showPreviousInlineCompletion(){var e;null===(e=this.activeInlineCompletionsModel)||void 0===e||e.showPrevious()}hasMultipleInlineCompletions(){var e;return p(this,void 0,void 0,(function*(){const t=yield null===(e=this.activeInlineCompletionsModel)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}constructor(e,t){super(),this.editor=e,this.commandService=t,this.suggestWidgetAdapterModel=this._register(new(0,s.SuggestWidgetAdapterModel)(this.editor)),this.inlineCompletionsModel=this._register(new(0,o.InlineCompletionsModel)(this.editor,this.commandService)),this._register(this.suggestWidgetAdapterModel.onDidChange((()=>{this.updateModel()}))),this.updateModel()}};f=d([h(1,a.ICommandService)],f)})),r.register("9nJ2H",(function(t,n){e(t.exports,"InlineCompletionsModel",(function(){return x}),(function(e){return x=e})),e(t.exports,"inlineCompletionToGhostText",(function(){return D}),(function(e){return D=e}));var i=r("6wKox"),o=r("dq3o1"),s=r("2zf51"),a=r("4zvzH"),l=r("iNF8q"),c=r("78mNz"),u=r("dSV0M"),d=r("aZciE"),h=r("2zCwF"),p=r("7YObE"),g=r("eh64S"),f=r("4I5Ci"),m=r("2HxJI"),v=r("cheGG"),b=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},y=function(e,t){return function(n,i){t(n,i,e)}},_=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let C,x=class extends l.Disposable{handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout((()=>{this.startSessionIfTriggered()}),0)}get session(){return this.completionSession.value}get ghostText(){var e;return null===(e=this.session)||void 0===e?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}get expanded(){return!!this.session&&this.session.expanded}setExpanded(e){var t;null===(t=this.session)||void 0===t||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&(null===(t=this.session)||void 0===t||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){this.editor.getOption(53).enabled&&(this.session&&this.session.isValid||this.trigger())}trigger(){this.completionSession.value||(this.completionSession.value=new S(this.editor,this.editor.getPosition(),(()=>this.active),this.commandService),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange((()=>{this.onDidChangeEmitter.fire()}))))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;null===(e=this.session)||void 0===e||e.commitCurrentCompletion()}showNext(){var e;null===(e=this.session)||void 0===e||e.showNextInlineCompletion()}showPrevious(){var e;null===(e=this.session)||void 0===e||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return _(this,void 0,void 0,(function*(){const t=yield null===(e=this.session)||void 0===e?void 0:e.hasMultipleInlineCompletions();return void 0!==t&&t}))}constructor(e,t){super(),this.editor=e,this.commandService=t,this.onDidChangeEmitter=new(0,a.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new(0,l.MutableDisposable)),this.active=!1,this._register(t.onDidExecuteCommand((t=>{new Set([g.UndoCommand.id,g.RedoCommand.id,f.CoreEditingCommands.Tab.id,f.CoreEditingCommands.DeleteLeft.id,f.CoreEditingCommands.DeleteRight.id]).has(t.commandId)&&e.hasTextFocus()&&this.handleUserInput()}))),this._register(this.editor.onDidType((e=>{this.handleUserInput()}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.session&&!this.session.isValid&&this.hide()})))}};x=b([y(1,p.ICommandService)],x);class S extends v.BaseGhostTextWidgetModel{fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value)return 0;if(0===this.cache.value.completions.length)return 0;const e=this.cache.value.completions.findIndex((e=>e.semanticId===this.currentlySelectedCompletionId));return-1===e?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(this.cache.value)return this.cache.value.completions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){var e;return _(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}showPreviousInlineCompletion(){var e;return _(this,void 0,void 0,(function*(){yield this.ensureUpdateWithExplicitContext();const t=(null===(e=this.cache.value)||void 0===e?void 0:e.completions)||[];if(t.length>0){const e=(this.fixAndGetIndexOfCurrentSelection()+t.length-1)%t.length;this.currentlySelectedCompletionId=t[e].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()}))}ensureUpdateWithExplicitContext(){var e;return _(this,void 0,void 0,(function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===d.InlineCompletionTriggerKind.Explicit?yield this.updateOperation.value.promise:yield this.update(d.InlineCompletionTriggerKind.Explicit):(null===(e=this.cache.value)||void 0===e?void 0:e.triggerKind)!==d.InlineCompletionTriggerKind.Explicit&&(yield this.update(d.InlineCompletionTriggerKind.Explicit))}))}hasMultipleInlineCompletions(){var e;return _(this,void 0,void 0,(function*(){return yield this.ensureUpdateWithExplicitContext(),((null===(e=this.cache.value)||void 0===e?void 0:e.completions.length)||0)>1}))}get ghostText(){const e=this.currentCompletion,t=this.editor.getOptions().get(53).mode;return e?D(e,this.editor.getModel(),t,this.editor.getPosition()):void 0}get currentCompletion(){const e=this.currentCachedCompletion;if(e)return{text:e.inlineCompletion.text,range:e.synchronizedRange,command:e.inlineCompletion.command,sourceProvider:e.inlineCompletion.sourceProvider,sourceInlineCompletions:e.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:e.inlineCompletion.sourceInlineCompletion}}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule()}update(e){return _(this,void 0,void 0,(function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=(0,i.createCancelablePromise)((n=>_(this,void 0,void 0,(function*(){let i;try{i=yield function(e,t,n,i=o.CancellationToken.None){return _(this,void 0,void 0,(function*(){const o=function(e,t){const n=t.getWordAtPosition(e),i=t.getLineMaxColumn(e.lineNumber);return n?new(0,u.Range)(e.lineNumber,n.startColumn,e.lineNumber,i):u.Range.fromPositions(e,e.with(void 0,i))}(e,t),r=d.InlineCompletionsProviderRegistry.all(t),s=yield Promise.all(r.map((o=>_(this,void 0,void 0,(function*(){const r=yield o.provideInlineCompletions(t,e,n,i);return{completions:r,provider:o,dispose:()=>{r&&o.freeInlineCompletions(r)}}}))))),a=new Map;for(const e of s){const t=e.completions;if(t)for(const n of t.items.map((n=>({text:n.text,range:n.range?u.Range.lift(n.range):o,command:n.command,sourceProvider:e.provider,sourceInlineCompletions:t,sourceInlineCompletion:n}))))n.range.startLineNumber===n.range.endLineNumber&&a.set(JSON.stringify({text:n.text,range:n.range}),n)}return{items:[...a.values()],dispose:()=>{for(const e of s)e.dispose()}}}))}(t,this.editor.getModel(),{triggerKind:e},n)}catch(e){return void(0,s.onUnexpectedError)(e)}n.isCancellationRequested||(this.cache.value=new k(this.editor,i,(()=>this.onDidChangeEmitter.fire()),e),this.onDidChangeEmitter.fire())})))),r=new w(n,e);this.updateOperation.value=r,yield n,this.updateOperation.value===r&&this.updateOperation.clear()}))}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const e=this.currentCompletion;e&&this.commit(e)}commit(e){const t=this.cache.clearAndLeak();this.editor.executeEdits("inlineSuggestion.accept",[h.EditOperation.replaceMove(e.range,e.text)]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally((()=>{null==t||t.dispose()})).then(void 0,s.onUnexpectedExternalError):null==t||t.dispose(),this.onDidChangeEmitter.fire()}constructor(e,t,n,o){let r;super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=o,this.minReservedLineCount=0,this.updateOperation=this._register(new(0,l.MutableDisposable)),this.cache=this._register(new(0,l.MutableDisposable)),this.updateSoon=this._register(new(0,i.RunOnceScheduler)((()=>this.update(d.InlineCompletionTriggerKind.Automatic)),50)),this.textModel=this.editor.getModel(),this.currentlySelectedCompletionId=void 0,this._register(this.onDidChange((()=>{const e=this.currentCompletion;if(e&&e.sourceInlineCompletion!==r){r=e.sourceInlineCompletion;const t=e.sourceProvider;t.handleItemDidShow&&t.handleItemDidShow(e.sourceInlineCompletions,r)}}))),this._register(this.editor.onDidChangeCursorPosition((e=>{this.cache.value&&this.onDidChangeEmitter.fire()}))),this._register(this.editor.onDidChangeModelContent((e=>{if(this.cache.value){let e=!1;for(const t of this.cache.value.completions){const n=this.textModel.getDecorationRange(t.decorationId);n?t.synchronizedRange.equalsRange(n)||(e=!0,t.synchronizedRange=n):(0,s.onUnexpectedError)(new Error("Decoration has no range"))}e&&this.onDidChangeEmitter.fire()}this.scheduleAutomaticUpdate()}))),this._register(d.InlineCompletionsProviderRegistry.onDidChange((()=>{this.updateSoon.schedule()}))),this.scheduleAutomaticUpdate()}}class w{dispose(){this.promise.cancel()}constructor(e,t){this.promise=e,this.triggerKind=t}}class k extends l.Disposable{constructor(e,t,n,i){super(),this.triggerKind=i;const o=e.deltaDecorations([],t.items.map((e=>({range:e.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,l.toDisposable)((()=>{e.deltaDecorations(o,[])}))),this.completions=t.items.map(((e,t)=>new E(e,o[t]))),this._register(e.onDidChangeModelContent((()=>{let t=!1;const i=e.getModel();for(const e of this.completions){const n=i.getDecorationRange(e.decorationId);n?e.synchronizedRange.equalsRange(n)||(t=!0,e.synchronizedRange=n):(0,s.onUnexpectedError)(new Error("Decoration has no range"))}t&&n()}))),this._register(t)}}class E{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.text,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}}function D(e,t,n,i){if(e.range.startLineNumber!==e.range.endLineNumber)return;const o=t.getValueInRange(e.range),r=function(e,t){if((null==C?void 0:C.originalValue)===e&&(null==C?void 0:C.newValue)===t)return null==C?void 0:C.changes;{const n=function(e,t){function n(e){let t=0;for(let n=0,i=e.length;n<i;n++){const i=e.charCodeAt(n);i>t&&(t=i)}return t}const i=Math.max(n(e),n(t));function o(e){if(e<0)throw new Error("unexpected");return i+e+1}function r(e){let t=0,n=0;const i=new Int32Array(e.length);for(let r=0,s=e.length;r<s;r++){const s=100*n+t;"("===e[r]?(i[r]=o(2*s),t++):")"===e[r]?(i[r]=o(2*s+1),1===t&&n++,t=Math.max(t-1,0)):i[r]=e.charCodeAt(r)}return i}const s=r(e),a=r(t);return new(0,m.LcsDiff)({getElements:()=>s},{getElements:()=>a}).ComputeDiff(!1).changes}(e,t);return C={originalValue:e,newValue:t,changes:n},n}}(o,e.text),s=e.range.startLineNumber,a=new Array;if("prefix"===n){const e=r.filter((e=>0===e.originalLength));if(e.length>1||1===e.length&&e[0].originalStart!==o.length)return}for(const l of r){const r=e.range.startColumn+l.originalStart+l.originalLength;if("subwordSmart"===n&&i&&i.lineNumber===e.range.startLineNumber&&r<i.column)return;if(l.originalLength>0){const e=o.substr(l.originalStart,l.originalLength),n=t.getLineFirstNonWhitespaceColumn(s);if(!/^(\t| )*$/.test(e)||!(0===n||r<=n))return}if(0===l.modifiedLength)continue;const u=e.text.substr(l.modifiedStart,l.modifiedLength),d=c.splitLines(u);a.push(new(0,v.GhostTextPart)(r,d))}return new(0,v.GhostText)(s,a,0)}})),r.register("cheGG",(function(t,n){e(t.exports,"GhostText",(function(){return s})),e(t.exports,"GhostTextPart",(function(){return a})),e(t.exports,"BaseGhostTextWidgetModel",(function(){return l}));var i=r("4zvzH"),o=r("iNF8q");class s{static equals(e,t){return e===t||!!e&&!!t&&e.equals(t)}equals(e){return this.lineNumber===e.lineNumber&&this.parts.length===e.parts.length&&this.parts.every(((t,n)=>t.equals(e.parts[n])))}constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}}class a{equals(e){return this.column===e.column&&this.lines.length===e.lines.length&&this.lines.every(((t,n)=>t===e.lines[n]))}constructor(e,t){this.column=e,this.lines=t}}class l extends o.Disposable{get expanded(){return void 0===this._expanded||this._expanded}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new(0,i.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration((e=>{e.hasChanged(105)&&void 0===this._expanded&&this.onDidChangeEmitter.fire()})))}}})),r.register("dnU54",(function(t,n){e(t.exports,"SuggestWidgetAdapterModel",(function(){return p}));var i=r("6wKox"),o=r("4zvzH"),s=r("iNF8q"),a=r("dSV0M"),l=r("cheGG"),c=r("9nJ2H"),u=r("gQH4x"),d=r("a17Zs"),h=r("5ylgG");class p extends l.BaseGhostTextWidgetModel{get isActive(){return this._isActive}setExpanded(e){super.setExpanded(e),this.updateFromSuggestion()}isSuggestionPreviewEnabled(){return this.editor.getOption(105).preview}updateFromSuggestion(){const e=h.SuggestController.get(this.editor);if(!e)return void this.setCurrentInlineCompletion(void 0);if(!this.isSuggestWidgetVisible)return void this.setCurrentInlineCompletion(void 0);const t=e.widget.value.getFocusedItem();t?this.setCurrentInlineCompletion(function(e,t,n,i){const o=n.item;if(Array.isArray(o.completion.additionalTextEdits))return{text:"",range:a.Range.fromPositions(t,t)};let{insertText:r}=o.completion;if(4&o.completion.insertTextRules){const n=(new(0,u.SnippetParser)).parse(r),i=e.editor.getModel();d.SnippetSession.adjustWhitespace(i,t,n,!0,!0),r=n.toString()}const s=e.getOverwriteInfo(o,i);return{text:r,range:a.Range.fromPositions(t.delta(0,-s.overwriteBefore),t.delta(0,Math.max(s.overwriteAfter,0)))}}(e,this.editor.getPosition(),t,this.isShiftKeyPressed)):this.setCurrentInlineCompletion(void 0)}setCurrentInlineCompletion(e){this.currentCompletion=e,this.update()}update(){const e=this.currentCompletion,t=this.editor.getOptions().get(105).previewMode;this.setGhostText(e?(0,c.inlineCompletionToGhostText)(e,this.editor.getModel(),t,this.editor.getPosition())||new(0,l.GhostText)(e.range.endLineNumber,[],this.minReservedLineCount):void 0)}setGhostText(e){if(l.GhostText.equals(this.currentGhostText,e))return;this.currentGhostText=e,this.currentGhostText&&this.expanded&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,...this.currentGhostText.parts.map((e=>e.lines.length-1))));const t=h.SuggestController.get(this.editor);t&&(this.minReservedLineCount>=1&&this.isSuggestionPreviewEnabled()?t.forceRenderingAbove():t.stopForceRenderingAbove()),this.onDidChangeEmitter.fire()}get ghostText(){return this.isSuggestionPreviewEnabled()?this.currentGhostText:void 0}constructor(e){super(e),this.isSuggestWidgetVisible=!1,this.currentGhostText=void 0,this._isActive=!1,this.isShiftKeyPressed=!1,this.minReservedLineCount=0,this.setInactiveDelayed=this._register(new(0,i.RunOnceScheduler)((()=>{this.isSuggestWidgetVisible||this.isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())}),100));const t=h.SuggestController.get(this.editor);if(t){let e=!1;const n=()=>{e||(e=!0,this._register(t.widget.value.onDidShow((()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()}))),this._register(t.widget.value.onDidHide((()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.minReservedLineCount=0,this.updateFromSuggestion()}))),this._register(t.widget.value.onDidFocus((()=>{this.isSuggestWidgetVisible=!0,this._isActive=!0,this.updateFromSuggestion()}))))};this._register(o.Event.once(t.model.onDidTrigger)((e=>{n()})))}this.updateFromSuggestion(),this._register(this.editor.onDidChangeCursorPosition((e=>{this.isSuggestionPreviewEnabled()&&this.update()}))),this._register((0,s.toDisposable)((()=>{const e=h.SuggestController.get(this.editor);e&&e.stopForceRenderingAbove()}))),this._register(e.onKeyDown((e=>{e.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.updateFromSuggestion())}))),this._register(e.onKeyUp((e=>{e.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.updateFromSuggestion())})))}}})),r.register("gQH4x",(function(t,n){e(t.exports,"Text",(function(){return r})),e(t.exports,"Placeholder",(function(){return a})),e(t.exports,"Choice",(function(){return l})),e(t.exports,"SnippetParser",(function(){return g}));class i{static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};let e,t=this.pos,n=0,o=this.value.charCodeAt(t);if(e=i._table[o],"number"==typeof e)return this.pos+=1,{type:e,pos:t,len:1};if(i.isDigitCharacter(o)){e=8;do{n+=1,o=this.value.charCodeAt(t+n)}while(i.isDigitCharacter(o));return this.pos+=n,{type:e,pos:t,len:n}}if(i.isVariableCharacter(o)){e=9;do{o=this.value.charCodeAt(t+ ++n)}while(i.isVariableCharacter(o)||i.isDigitCharacter(o));return this.pos+=n,{type:e,pos:t,len:n}}e=10;do{n+=1,o=this.value.charCodeAt(t+n)}while(!isNaN(o)&&void 0===i._table[o]&&!i.isDigitCharacter(o)&&!i.isVariableCharacter(o));return this.pos+=n,{type:e,pos:t,len:n}}constructor(){this.value="",this.pos=0}}i._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class o{appendChild(e){return e instanceof r&&this._children[this._children.length-1]instanceof r?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,i=n.children.indexOf(e),o=n.children.slice(0);o.splice(i,1,...t),n._children=o,function e(t,n){for(const i of t)i.parent=n,e(i.children,i)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof p)return e;e=e.parent}}toString(){return this.children.reduce(((e,t)=>e+t.toString()),"")}len(){return 0}constructor(){this._children=[]}}class r extends o{toString(){return this.value}len(){return this.value.length}clone(){return new r(this.value)}constructor(e){super(),this.value=e}}class s extends o{}class a extends s{static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return 0===this.index}get choice(){return 1===this._children.length&&this._children[0]instanceof l?this._children[0]:void 0}clone(){let e=new a(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}constructor(e){super(),this.index=e}}class l extends o{appendChild(e){return e instanceof r&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){let e=new l;return this.options.forEach(e.appendChild,e),e}constructor(){super(...arguments),this.options=[]}}class c extends o{resolve(e){const t=this;let n=!1,i=e.replace(this.regexp,(function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))}));return!n&&this._children.some((e=>e instanceof u&&Boolean(e.elseValue)))&&(i=this._replace([])),i}_replace(e){let t="";for(const n of this._children)if(n instanceof u){let i=e[n.index]||"";i=n.resolve(i),t+=i}else t+=n.toString();return t}toString(){return""}clone(){let e=new c;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map((e=>e.clone())),e}constructor(){super(...arguments),this.regexp=new RegExp("")}}class u extends o{resolve(e){return"upcase"===this.shorthandName?e?e.toLocaleUpperCase():"":"downcase"===this.shorthandName?e?e.toLocaleLowerCase():"":"capitalize"===this.shorthandName?e?e[0].toLocaleUpperCase()+e.substr(1):"":"pascalcase"===this.shorthandName?e?this._toPascalCase(e):"":"camelcase"===this.shorthandName?e?this._toCamelCase(e):"":Boolean(e)&&"string"==typeof this.ifValue?this.ifValue:Boolean(e)||"string"!=typeof this.elseValue?e||"":this.elseValue}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())).join(""):e}clone(){return new u(this.index,this.shorthandName,this.ifValue,this.elseValue)}constructor(e,t,n,i){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=i}}class d extends s{resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),void 0!==t&&(this._children=[new r(t)],!0)}clone(){const e=new d(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map((e=>e.clone())),e}constructor(e){super(),this.name=e}}function h(e,t){const n=[...e];for(;n.length>0;){const e=n.shift();if(!t(e))break;n.unshift(...e.children)}}class p extends o{get placeholderInfo(){if(!this._placeholders){let e,t=[];this.walk((function(n){return n instanceof a&&(t.push(n),e=!e||e.index<n.index?n:e),!0})),this._placeholders={all:t,last:e}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk((i=>i===e?(n=!0,!1):(t+=i.len(),!0))),n?t:-1}fullLen(e){let t=0;return h([e],(e=>(t+=e.len(),!0))),t}enclosingPlaceholders(e){let t=[],{parent:n}=e;for(;n;)n instanceof a&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk((t=>(t instanceof d&&t.resolve(e)&&(this._placeholders=void 0),!0))),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){let e=new p;return this._children=this.children.map((e=>e.clone())),e}walk(e){h(this.children,e)}}class g{static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){this._scanner.text(e),this._token=this._scanner.next();const i=new p;for(;this._parse(i););const o=new Map,r=[];let s=0;i.walk((e=>(e instanceof a&&(s+=1,e.isFinalTabstop?o.set(0,void 0):!o.has(e.index)&&e.children.length>0?o.set(e.index,e.children):r.push(e)),!0)));for(const e of r){const t=o.get(e.index);if(t){const n=new a(e.index);n.transform=e.transform;for(const e of t)n.appendChild(e.clone());i.replace(e,[n])}}return n||(n=s>0&&t),!o.has(0)&&n&&i.appendChild(new a(0)),i}_accept(e,t){if(void 0===e||this._token.type===e){let e=!t||this._scanner.tokenText(this._token);return this._token=this._scanner.next(),e}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(14===this._token.type)return!1;if(5===this._token.type){const e=this._scanner.next();if(0!==e.type&&4!==e.type&&5!==e.type)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return!!(t=this._accept(5,!0))&&(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new r(t)),!0)}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new a(Number(t)):new d(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const i=new a(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new r("${"+t+":")),i.children.forEach(e.appendChild,e),!0}else{if(!(i.index>0&&this._accept(7)))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);{const t=new l;for(;;){if(this._parseChoiceElement(t)){if(this._accept(2))continue;if(this._accept(7)&&(i.appendChild(t),this._accept(4)))return e.appendChild(i),!0}return this._backTo(n),!1}}}}_parseChoiceElement(e){const t=this._token,n=[];for(;2!==this._token.type&&7!==this._token.type;){let e;if(e=(e=this._accept(5,!0))?this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||e:this._accept(void 0,!0),!e)return this._backTo(t),!1;n.push(e)}return 0===n.length?(this._backTo(t),!1):(e.appendChild(new r(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const i=new d(t);if(!this._accept(1))return this._accept(6)?this._parseTransform(i)?(e.appendChild(i),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(i),!0):this._backTo(n);for(;;){if(this._accept(4))return e.appendChild(i),!0;if(!this._parse(i))return e.appendChild(new r("${"+t+":")),i.children.forEach(e.appendChild,e),!0}}_parseTransform(e){let t=new c,n="",i="";for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(6,!0)||e,n+=e;else{if(14===this._token.type)return!1;n+=this._accept(void 0,!0)}}for(;!this._accept(6);){let e;if(e=this._accept(5,!0))e=this._accept(5,!0)||this._accept(6,!0)||e,t.appendChild(new r(e));else if(!this._parseFormatString(t)&&!this._parseAnything(t))return!1}for(;!this._accept(4);){if(14===this._token.type)return!1;i+=this._accept(void 0,!0)}try{t.regexp=new RegExp(n,i)}catch(e){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);let i=this._accept(8,!0);if(!i)return this._backTo(t),!1;if(!n)return e.appendChild(new u(Number(i))),!0;if(this._accept(4))return e.appendChild(new u(Number(i))),!0;if(!this._accept(1))return this._backTo(t),!1;if(this._accept(6)){let n=this._accept(9,!0);return n&&this._accept(4)?(e.appendChild(new u(Number(i),n)),!0):(this._backTo(t),!1)}if(this._accept(11)){let t=this._until(4);if(t)return e.appendChild(new u(Number(i),void 0,t,void 0)),!0}else if(this._accept(12)){let t=this._until(4);if(t)return e.appendChild(new u(Number(i),void 0,void 0,t)),!0}else if(this._accept(13)){let t=this._until(1);if(t){let n=this._until(4);if(n)return e.appendChild(new u(Number(i),void 0,t,n)),!0}}else{let t=this._until(4);if(t)return e.appendChild(new u(Number(i),void 0,void 0,t)),!0}return this._backTo(t),!1}_parseAnything(e){return 14!==this._token.type&&(e.appendChild(new r(this._scanner.tokenText(this._token))),this._accept(void 0),!0)}constructor(){this._scanner=new i,this._token={type:14,pos:0,len:0}}}})),r.register("a17Zs",(function(t,n){e(t.exports,"SnippetSession",(function(){return _}));var i=r("cCPZ6"),o=r("iNF8q"),s=r("78mNz"),a=r("2zCwF"),l=r("dSV0M"),c=r("e8gAb"),u=r("cVvMG"),d=r("118Sb"),h=r("blTDv"),p=r("gQH4x"),g=r("c42uq"),f=r("JzRxO"),m=r("5h6AG"),v=r("3dE3O");(0,f.registerThemingParticipant)(((e,t)=>{function n(t){const n=e.getColor(t);return n?n.toString():"transparent"}t.addRule(`.monaco-editor .snippet-placeholder { background-color: ${n(m.snippetTabstopHighlightBackground)}; outline-color: ${n(m.snippetTabstopHighlightBorder)}; }`),t.addRule(`.monaco-editor .finish-snippet-placeholder { background-color: ${n(m.snippetFinalTabstopHighlightBackground)}; outline-color: ${n(m.snippetFinalTabstopHighlightBorder)}; }`)}));class b{dispose(){this._placeholderDecorations&&this._editor.deltaDecorations([...this._placeholderDecorations.values()],[]),this._placeholderGroups.length=0}_initDecorations(){if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations((t=>{for(const n of this._snippet.placeholders){const i=this._snippet.offset(n),o=this._snippet.fullLen(n),r=l.Range.fromPositions(e.getPositionAt(this._offset+i),e.getPositionAt(this._offset+i+o)),s=n.isFinalTabstop?b._decor.inactiveFinal:b._decor.inactive,a=t.addDecoration(r,s);this._placeholderDecorations.set(n,a)}}))}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){let e=[];for(const t of this._placeholderGroups[this._placeholderGroupsIdx])if(t.transform){const n=this._placeholderDecorations.get(t),i=this._editor.getModel().getDecorationRange(n),o=this._editor.getModel().getValueInRange(i),r=t.transform.resolve(o).split(/\r\n|\r|\n/);for(let e=1;e<r.length;e++)r[e]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+r[e]);e.push(a.EditOperation.replace(i,r.join(this._editor.getModel().getEOL())))}e.length>0&&this._editor.executeEdits("snippet.placeholderTransform",e)}let t=!1;!0===e&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):!1===e&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations((e=>{const n=new Set,i=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx]){const r=this._placeholderDecorations.get(o),s=this._editor.getModel().getDecorationRange(r);i.push(new(0,c.Selection)(s.startLineNumber,s.startColumn,s.endLineNumber,s.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(o),e.changeDecorationOptions(r,o.isFinalTabstop?b._decor.activeFinal:b._decor.active),n.add(o);for(const t of this._snippet.enclosingPlaceholders(o)){const i=this._placeholderDecorations.get(t);e.changeDecorationOptions(i,t.isFinalTabstop?b._decor.activeFinal:b._decor.active),n.add(t)}}for(const[t,i]of this._placeholderDecorations)n.has(t)||e.changeDecorationOptions(i,t.isFinalTabstop?b._decor.inactiveFinal:b._decor.inactive);return i}));return t?this.move(e):null!=n?n:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof p.Placeholder){const e=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(e).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||0===this._placeholderGroups.length}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const i of t){if(i.isFinalTabstop)break;n||(n=[],e.set(i.index,n));const t=this._placeholderDecorations.get(i),o=this._editor.getModel().getDecorationRange(t);if(!o){e.delete(i.index);break}n.push(o)}}return e}get choice(){return this._placeholderGroups[this._placeholderGroupsIdx][0].choice}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations((n=>{for(const i of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(!o._placeholderDecorations);const r=o._snippet.placeholderInfo.last.index;for(const e of o._snippet.placeholderInfo.all)e.isFinalTabstop?e.index=i.index+(r+1)/this._nestingLevel:e.index=i.index+e.index/this._nestingLevel;this._snippet.replace(i,o._snippet.children);const s=this._placeholderDecorations.get(i);n.removeDecoration(s),this._placeholderDecorations.delete(i);for(const e of o._snippet.placeholders){const i=o._snippet.offset(e),r=o._snippet.fullLen(e),s=l.Range.fromPositions(t.getPositionAt(o._offset+i),t.getPositionAt(o._offset+i+r)),a=n.addDecoration(s,b._decor.inactive);this._placeholderDecorations.set(e,a)}}this._placeholderGroups=(0,i.groupBy)(this._snippet.placeholders,p.Placeholder.compareByIndex)}))}constructor(e,t,n,o){this._editor=e,this._snippet=t,this._offset=n,this._snippetLineLeadingWhitespace=o,this._nestingLevel=1,this._placeholderGroups=(0,i.groupBy)(t.placeholders,p.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}}b._decor={active:u.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:u.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:u.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const y={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};class _{static adjustWhitespace(e,t,n,i,o){const r=e.getLineContent(t.lineNumber),a=(0,s.getLeadingWhitespace)(r,0,t.column-1);let l;return n.walk((t=>{if(!(t instanceof p.Text)||t.parent instanceof p.Choice)return!0;const o=t.value.split(/\r\n|\r|\n/);if(i){const i=n.offset(t);if(0===i)o[0]=e.normalizeIndentation(o[0]);else{l=null!=l?l:n.toString();let t=l.charCodeAt(i-1);10!==t&&13!==t||(o[0]=e.normalizeIndentation(a+o[0]))}for(let t=1;t<o.length;t++)o[t]=e.normalizeIndentation(a+o[t])}const r=o.join(e.getEOL());return r!==t.value&&(t.parent.replace(t,[new(0,p.Text)(r)]),l=void 0),!0})),a}static adjustSelection(e,t,n,i){if(0!==n||0!==i){const{positionLineNumber:o,positionColumn:r}=t,s=r-n,a=r+i,l=e.validateRange({startLineNumber:o,startColumn:s,endLineNumber:o,endColumn:a});t=c.Selection.createWithDirection(l.startLineNumber,l.startColumn,l.endLineNumber,l.endColumn,t.getDirection())}return t}static createEditsAndSnippets(e,t,n,i,o,r,s,c){const u=[],f=[];if(!e.hasModel())return{edits:u,snippets:f};const m=e.getModel(),y=e.invokeWithinContext((e=>e.get(d.IWorkspaceContextService,h.optional))),C=e.invokeWithinContext((e=>new(0,g.ModelBasedVariableResolver)(e.get(v.ILabelService,h.optional),m))),x=()=>s;let S=0,w=m.getValueInRange(_.adjustSelection(m,e.getSelection(),n,0)),k=m.getValueInRange(_.adjustSelection(m,e.getSelection(),0,i)),E=m.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber);const D=e.getSelections().map(((e,t)=>({selection:e,idx:t}))).sort(((e,t)=>l.Range.compareRangesUsingStarts(e.selection,t.selection)));for(const{selection:s,idx:l}of D){let d=_.adjustSelection(m,s,n,0),h=_.adjustSelection(m,s,0,i);w!==m.getValueInRange(d)&&(d=s),k!==m.getValueInRange(h)&&(h=s);const v=s.setStartPosition(d.startLineNumber,d.startColumn).setEndPosition(h.endLineNumber,h.endColumn),I=(new(0,p.SnippetParser)).parse(t,!0,o),A=v.getStartPosition(),R=_.adjustWhitespace(m,A,I,r||l>0&&E!==m.getLineFirstNonWhitespaceColumn(s.positionLineNumber),!0);I.resolveVariables(new(0,g.CompositeSnippetVariableResolver)([C,new(0,g.ClipboardBasedVariableResolver)(x,l,D.length,"spread"===e.getOption(69)),new(0,g.SelectionBasedVariableResolver)(m,s,l,c),new(0,g.CommentBasedVariableResolver)(m,s),new(0,g.TimeBasedVariableResolver),new(0,g.WorkspaceBasedVariableResolver)(y),new(0,g.RandomBasedVariableResolver)]));const L=m.getOffsetAt(A)+S;S+=I.toString().length-m.getValueLengthInRange(v),u[l]=a.EditOperation.replace(v,I.toString()),u[l].identifier={major:l,minor:0},f[l]=new b(e,I,L,R)}return{edits:u,snippets:f}}dispose(){(0,o.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=_.createEditsAndSnippets(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer);this._snippets=t,this._editor.executeEdits("snippet",e,(e=>this._snippets[0].hasPlaceholder?this._move(!0):e.filter((e=>!!e.identifier)).map((e=>c.Selection.fromPositions(e.range.getEndPosition()))))),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=y){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:i}=_.createEditsAndSnippets(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer);this._editor.executeEdits("snippet",n,(e=>{for(const e of this._snippets)e.merge(i);return console.assert(0===i.length),this._snippets[0].hasPlaceholder?this._move(void 0):e.filter((e=>!!e.identifier)).map((e=>c.Selection.fromPositions(e.range.getEndPosition())))}))}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const i=n.move(e);t.push(...i)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get choice(){return this._snippets[0].choice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;let t=new Map;for(const n of this._snippets){const i=n.computePossibleSelections();if(0===t.size)for(const[n,o]of i){o.sort(l.Range.compareRangesUsingStarts);for(const i of e)if(o[0].containsRange(i)){t.set(n,[]);break}}if(0===t.size)return!1;t.forEach(((e,t)=>{e.push(...i.get(t))}))}e.sort(l.Range.compareRangesUsingStarts);for(let[n,i]of t)if(i.length===e.length){i.sort(l.Range.compareRangesUsingStarts);for(let o=0;o<i.length;o++)if(!i[o].containsRange(e[o])){t.delete(n);continue}}else t.delete(n);return t.size>0}constructor(e,t,n=y){this._templateMerges=[],this._snippets=[],this._editor=e,this._template=t,this._options=n}}})),r.register("c42uq",(function(t,n){e(t.exports,"CompositeSnippetVariableResolver",(function(){return p})),e(t.exports,"SelectionBasedVariableResolver",(function(){return g})),e(t.exports,"ModelBasedVariableResolver",(function(){return f})),e(t.exports,"ClipboardBasedVariableResolver",(function(){return m})),e(t.exports,"CommentBasedVariableResolver",(function(){return v})),e(t.exports,"TimeBasedVariableResolver",(function(){return b})),e(t.exports,"WorkspaceBasedVariableResolver",(function(){return y})),e(t.exports,"RandomBasedVariableResolver",(function(){return _}));var i=r("9LBxC"),o=r("cDzDG"),s=r("d8krI"),a=r("gQH4x"),l=r("iD7e1"),c=r("78mNz"),u=r("3Mnwj"),d=r("yhcHt"),h=r("e2Hog");class p{resolve(e){for(const t of this._delegates){let n=t.resolve(e);if(void 0!==n)return n}}constructor(e){this._delegates=e}}class g{resolve(e){const{name:t}=e;if("SELECTION"===t||"TM_SELECTED_TEXT"===t){let t=this._model.getValueInRange(this._selection)||void 0,n=this._selection.startLineNumber!==this._selection.endLineNumber;if(!t&&this._overtypingCapturer){const e=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);e&&(t=e.value,n=e.multiline)}if(t&&n&&e.snippet){const n=this._model.getLineContent(this._selection.startLineNumber),i=(0,c.getLeadingWhitespace)(n,0,this._selection.startColumn-1);let o=i;e.snippet.walk((t=>t!==e&&(t instanceof a.Text&&(o=(0,c.getLeadingWhitespace)((0,c.splitLines)(t.value).pop())),!0)));const r=(0,c.commonPrefixLength)(o,i);t=t.replace(/(\r\n|\r|\n)(.*)/g,((e,t,n)=>`${t}${o.substr(r)}${n}`))}return t}if("TM_CURRENT_LINE"===t)return this._model.getLineContent(this._selection.positionLineNumber);if("TM_CURRENT_WORD"===t){const e=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return e&&e.word||void 0}return"TM_LINE_INDEX"===t?String(this._selection.positionLineNumber-1):"TM_LINE_NUMBER"===t?String(this._selection.positionLineNumber):void 0}constructor(e,t,n,i){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=i}}class f{resolve(e){const{name:t}=e;if("TM_FILENAME"===t)return o.basename(this._model.uri.fsPath);if("TM_FILENAME_BASE"===t){const e=o.basename(this._model.uri.fsPath),t=e.lastIndexOf(".");return t<=0?e:e.slice(0,t)}return"TM_DIRECTORY"===t&&this._labelService?"."===o.dirname(this._model.uri.fsPath)?"":this._labelService.getUriLabel((0,s.dirname)(this._model.uri)):"TM_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri):"RELATIVE_FILEPATH"===t&&this._labelService?this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0}):void 0}constructor(e,t){this._labelService=e,this._model=t}}class m{resolve(e){if("CLIPBOARD"!==e.name)return;const t=this._readClipboardText();if(t){if(this._spread){const e=t.split(/\r\n|\n|\r/).filter((e=>!(0,c.isFalsyOrWhitespace)(e)));if(e.length===this._selectionCount)return e[this._selectionIdx]}return t}}constructor(e,t,n,i){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=i}}class v{resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),i=l.LanguageConfigurationRegistry.getComments(n);if(i)return"LINE_COMMENT"===t?i.lineCommentToken||void 0:"BLOCK_COMMENT_START"===t?i.blockCommentStartToken||void 0:"BLOCK_COMMENT_END"===t&&i.blockCommentEndToken||void 0}constructor(e,t){this._model=e,this._selection=t}}class b{resolve(e){const{name:t}=e;return"CURRENT_YEAR"===t?String(this._date.getFullYear()):"CURRENT_YEAR_SHORT"===t?String(this._date.getFullYear()).slice(-2):"CURRENT_MONTH"===t?String(this._date.getMonth().valueOf()+1).padStart(2,"0"):"CURRENT_DATE"===t?String(this._date.getDate().valueOf()).padStart(2,"0"):"CURRENT_HOUR"===t?String(this._date.getHours().valueOf()).padStart(2,"0"):"CURRENT_MINUTE"===t?String(this._date.getMinutes().valueOf()).padStart(2,"0"):"CURRENT_SECOND"===t?String(this._date.getSeconds().valueOf()).padStart(2,"0"):"CURRENT_DAY_NAME"===t?b.dayNames[this._date.getDay()]:"CURRENT_DAY_NAME_SHORT"===t?b.dayNamesShort[this._date.getDay()]:"CURRENT_MONTH_NAME"===t?b.monthNames[this._date.getMonth()]:"CURRENT_MONTH_NAME_SHORT"===t?b.monthNamesShort[this._date.getMonth()]:"CURRENT_SECONDS_UNIX"===t?String(Math.floor(this._date.getTime()/1e3)):void 0}constructor(){this._date=new Date}}b.dayNames=[i.localize("Sunday","Sunday"),i.localize("Monday","Monday"),i.localize("Tuesday","Tuesday"),i.localize("Wednesday","Wednesday"),i.localize("Thursday","Thursday"),i.localize("Friday","Friday"),i.localize("Saturday","Saturday")],b.dayNamesShort=[i.localize("SundayShort","Sun"),i.localize("MondayShort","Mon"),i.localize("TuesdayShort","Tue"),i.localize("WednesdayShort","Wed"),i.localize("ThursdayShort","Thu"),i.localize("FridayShort","Fri"),i.localize("SaturdayShort","Sat")],b.monthNames=[i.localize("January","January"),i.localize("February","February"),i.localize("March","March"),i.localize("April","April"),i.localize("May","May"),i.localize("June","June"),i.localize("July","July"),i.localize("August","August"),i.localize("September","September"),i.localize("October","October"),i.localize("November","November"),i.localize("December","December")],b.monthNamesShort=[i.localize("JanuaryShort","Jan"),i.localize("FebruaryShort","Feb"),i.localize("MarchShort","Mar"),i.localize("AprilShort","Apr"),i.localize("MayShort","May"),i.localize("JuneShort","Jun"),i.localize("JulyShort","Jul"),i.localize("AugustShort","Aug"),i.localize("SeptemberShort","Sep"),i.localize("OctoberShort","Oct"),i.localize("NovemberShort","Nov"),i.localize("DecemberShort","Dec")];class y{resolve(e){if(!this._workspaceService)return;const t=(0,u.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());return t?"WORKSPACE_NAME"===e.name?this._resolveWorkspaceName(t):"WORKSPACE_FOLDER"===e.name?this._resoveWorkspacePath(t):void 0:void 0}_resolveWorkspaceName(e){if((0,u.isSingleFolderWorkspaceIdentifier)(e))return o.basename(e.uri.path);let t=o.basename(e.configPath.path);return t.endsWith(u.WORKSPACE_EXTENSION)&&(t=t.substr(0,t.length-u.WORKSPACE_EXTENSION.length-1)),t}_resoveWorkspacePath(e){if((0,u.isSingleFolderWorkspaceIdentifier)(e))return(0,d.normalizeDriveLetter)(e.uri.fsPath);let t=o.basename(e.configPath.path),n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?(0,d.normalizeDriveLetter)(n):"/"}constructor(e){this._workspaceService=e}}class _{resolve(e){const{name:t}=e;return"RANDOM"===t?Math.random().toString().slice(-6):"RANDOM_HEX"===t?Math.random().toString(16).slice(-6):"UUID"===t?(0,h.generateUuid)():void 0}}})),r.register("3Mnwj",(function(t,n){e(t.exports,"WORKSPACE_EXTENSION",(function(){return o})),e(t.exports,"isSingleFolderWorkspaceIdentifier",(function(){return s})),e(t.exports,"toWorkspaceIdentifier",(function(){return a}));var i=r("65vvd");const o="code-workspace";function s(e){const t=e;return"string"==typeof(null==t?void 0:t.id)&&i.URI.isUri(t.uri)}function a(e){return e.configuration?{id:e.id,configPath:e.configuration}:1===e.folders.length?{id:e.id,uri:e.folders[0].uri}:void 0}})),r.register("e2Hog",(function(t,n){e(t.exports,"generateUuid",(function(){return s}));const i=new Uint8Array(16),o=[];for(let e=0;e<256;e++)o.push(e.toString(16).padStart(2,"0"));let r;function s(){r(i),i[6]=15&i[6]|64,i[8]=63&i[8]|128;let e=0,t="";return t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+="-",t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t+=o[i[e++]],t}r="object"==typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){for(let t=0;t<e.length;t++)e[t]=Math.floor(256*Math.random());return e}})),r.register("5ylgG",(function(t,n){e(t.exports,"SuggestController",(function(){return W}),(function(e){return W=e}));var i=r("4waad"),o=r("cCPZ6"),s=r("2zf51"),a=r("izshX"),l=r("iNF8q"),c=r("dGvPd"),u=r("eh64S"),d=r("2zCwF"),h=r("dSV0M"),p=r("igipX"),g=r("57EO8"),f=r("gQH4x"),m=r("9eXUO"),v=r("9LBxC"),b=r("7YObE"),y=r("1N08n"),_=r("blTDv"),C=r("ft1dr"),x=r("gLmC6"),S=r("jPriH"),w=r("aOwol"),k=r("jFAlz"),E=r("irWgq"),D=r("4zvzH"),I=r("6wKox"),A=r("6cqQ7"),R=r("3WZXP"),L=r("7yM9J"),M=r("aGBCV"),T=r("cexwY"),N=r("d8eAn"),P=r("dq3o1"),O=r("cJ7j9"),F=r("ie89j"),z=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},B=function(e,t){return function(n,i){t(n,i,e)}};class H{dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}return this._model.getLineMaxColumn(e.lineNumber)-e.column}constructor(e,t){this._model=e,this._position=t;if(e.getLineMaxColumn(t.lineNumber)!==t.column){const n=e.getOffsetAt(t),i=e.getPositionAt(n+1);this._marker=e.deltaDecorations([],[{range:h.Range.fromPositions(t,i),options:{description:"suggest-line-suffix",stickiness:1}}])}}}let W=class e{static get(t){return t.getContribution(e.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item)return this._alternatives.value.reset(),this.model.cancel(),void this.model.clear();if(!this.editor.hasModel())return;const n=this.editor.getModel(),i=n.getAlternativeVersionId(),{item:o}=e,r=[],a=new(0,P.CancellationTokenSource);1&t||this.editor.pushUndoStop();const l=this.getOverwriteInfo(o,Boolean(8&t));if(this._memoryService.memorize(n,this.editor.getPosition(),o),Array.isArray(o.completion.additionalTextEdits)){const e=c.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",o.completion.additionalTextEdits.map((e=>d.EditOperation.replace(h.Range.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!o.isResolved){const e=new(0,F.StopWatch)(!0);let i;const s=n.onDidChangeContent((e=>{if(e.isFlush)return a.cancel(),void s.dispose();for(let t of e.changes){const e=h.Range.getEndPosition(t.range);i&&!M.Position.isBefore(e,i)||(i=e)}}));let l=t;t|=2;let u=!1,p=this.editor.onWillType((()=>{p.dispose(),u=!0,2&l||this.editor.pushUndoStop()}));r.push(o.resolve(a.token).then((()=>{if(!o.completion.additionalTextEdits||a.token.isCancellationRequested)return!1;if(i&&o.completion.additionalTextEdits.some((e=>M.Position.isBefore(i,h.Range.getStartPosition(e.range)))))return!1;u&&this.editor.pushUndoStop();const e=c.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",o.completion.additionalTextEdits.map((e=>d.EditOperation.replace(h.Range.lift(e.range),e.text)))),e.restoreRelativeVerticalPositionOfCursor(this.editor),!u&&2&l||this.editor.pushUndoStop(),!0})).then((t=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",e.elapsed(),t),s.dispose(),p.dispose()})))}let{insertText:u}=o.completion;4&o.completion.insertTextRules||(u=f.SnippetParser.escape(u)),g.SnippetController2.get(this.editor).insert(u,{overwriteBefore:l.overwriteBefore,overwriteAfter:l.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(1&o.completion.insertTextRules),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),2&t||this.editor.pushUndoStop(),o.completion.command?o.completion.command.id===j.id?this.model.trigger({auto:!0,shy:!1},!0):(r.push(this._commandService.executeCommand(o.completion.command.id,...o.completion.command.arguments?[...o.completion.command.arguments]:[]).catch(s.onUnexpectedError)),this.model.cancel()):this.model.cancel(),4&t&&this._alternatives.value.set(e,(e=>{for(a.cancel();n.canUndo();){i!==n.getAlternativeVersionId()&&n.undo(),this._insertSuggestion(e,3|(8&t?8:0));break}})),this._alertCompletionItem(o),Promise.all(r).finally((()=>{this.model.clear(),a.dispose()}))}getOverwriteInfo(e,t){(0,A.assertType)(this.editor.hasModel());let n="replace"===this.editor.getOption(105).insertMode;t&&(n=!n);const i=e.position.column-e.editStart.column,o=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column;return{overwriteBefore:i+(this.editor.getPosition().column-e.position.column),overwriteAfter:o+(this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0)}}_alertCompletionItem(e){if((0,o.isNonEmptyArray)(e.completion.additionalTextEdits)){let t=v.localize("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,i.alert)(t)}}triggerSuggest(e){this.editor.hasModel()&&(this.model.trigger({auto:!1,shy:!1},!1,e),this.editor.revealLine(this.editor.getPosition().lineNumber,0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},i=e=>{if(4&e.completion.insertTextRules||e.completion.additionalTextEdits)return!0;const t=this.editor.getPosition(),n=e.editStart.column,i=t.column;if(i-n!==e.completion.insertText.length)return!0;return this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:n,endLineNumber:t.lineNumber,endColumn:i})!==e.completion.insertText};D.Event.once(this.model.onDidTrigger)((e=>{let t=[];D.Event.any(this.model.onDidTrigger,this.model.onDidCancel)((()=>{(0,l.dispose)(t),n()}),void 0,t),this.model.onDidSuggest((({completionModel:e})=>{if((0,l.dispose)(t),0===e.items.length)return void n();const o=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.items),r=e.items[o];i(r)?(this.editor.pushUndoStop(),this._insertSuggestion({index:o,item:r,model:e},7)):n()}),void 0,t)})),this.model.trigger({auto:!1,shy:!0}),this.editor.revealLine(t.lineNumber,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let i=0;e&&(i|=4),t&&(i|=8),this._insertSuggestion(n,i)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.value.stopForceRenderingAbove()}constructor(e,t,n,i,o,r){this._memoryService=t,this._commandService=n,this._contextKeyService=i,this._instantiationService=o,this._logService=r,this._lineSuffix=new(0,l.MutableDisposable),this._toDispose=new(0,l.DisposableStore),this.editor=e,this.model=o.createInstance(w.SuggestModel,this.editor);const s=x.Context.InsertMode.bindTo(i);s.set(e.getOption(105).insertMode),this.model.onDidTrigger((()=>s.set(e.getOption(105).insertMode))),this.widget=this._toDispose.add(new(0,I.IdleValue)((()=>{const e=this._instantiationService.createInstance(k.SuggestWidget,this.editor);this._toDispose.add(e),this._toDispose.add(e.onDidSelect((e=>this._insertSuggestion(e,0)),this));const t=new(0,R.CommitCharacterController)(this.editor,e,(e=>this._insertSuggestion(e,2)));this._toDispose.add(t),this._toDispose.add(this.model.onDidSuggest((e=>{0===e.completionModel.items.length&&t.reset()})));const n=x.Context.MakesTextEdit.bindTo(this._contextKeyService),i=x.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),o=x.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,l.toDisposable)((()=>{n.reset(),i.reset(),o.reset()}))),this._toDispose.add(e.onDidFocus((({item:e})=>{const t=this.editor.getPosition(),r=e.editStart.column,s=t.column;let a=!0;if(!("smart"!==this.editor.getOption(1)||2!==this.model.state||e.completion.command||e.completion.additionalTextEdits||4&e.completion.insertTextRules||s-r!==e.completion.insertText.length)){a=this.editor.getModel().getValueInRange({startLineNumber:t.lineNumber,startColumn:r,endLineNumber:t.lineNumber,endColumn:s})!==e.completion.insertText}n.set(a),i.set(!M.Position.equals(e.editInsertEnd,e.editReplaceEnd)),o.set(Boolean(e.provider.resolveCompletionItem)||Boolean(e.completion.documentation)||e.completion.detail!==e.completion.label)}))),this._toDispose.add(e.onDetailsKeyDown((e=>{e.toKeybinding().equals(new(0,a.SimpleKeybinding)(!0,!1,!1,!1,33))||T.isMacintosh&&e.toKeybinding().equals(new(0,a.SimpleKeybinding)(!1,!1,!1,!0,33))?e.stopPropagation():e.toKeybinding().isModifierKey()||this.editor.focus()}))),e}))),this._overtypingCapturer=this._toDispose.add(new(0,I.IdleValue)((()=>this._toDispose.add(new(0,L.OvertypingCapturer)(this.editor,this.model))))),this._alternatives=this._toDispose.add(new(0,I.IdleValue)((()=>this._toDispose.add(new(0,S.SuggestAlternatives)(this.editor,this._contextKeyService))))),this._toDispose.add(o.createInstance(E.WordContextKey,e)),this._toDispose.add(this.model.onDidTrigger((e=>{this.widget.value.showTriggered(e.auto,e.shy?250:50),this._lineSuffix.value=new H(this.editor.getModel(),e.position)}))),this._toDispose.add(this.model.onDidSuggest((e=>{if(!e.shy){let t=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),e.completionModel.items);this.widget.value.showSuggestions(e.completionModel,t,e.isFrozen,e.auto)}}))),this._toDispose.add(this.model.onDidCancel((e=>{e.retrigger||this.widget.value.hideWidget()}))),this._toDispose.add(this.editor.onDidBlurEditorWidget((()=>{this.model.cancel(),this.model.clear()})));let c=x.Context.AcceptSuggestionsOnEnter.bindTo(i),u=()=>{const e=this.editor.getOption(1);c.set("on"===e||"smart"===e)};this._toDispose.add(this.editor.onDidChangeConfiguration((()=>u()))),u()}};W.ID="editor.contrib.suggestController",W=z([B(1,m.ISuggestMemoryService),B(2,b.ICommandService),B(3,y.IContextKeyService),B(4,_.IInstantiationService),B(5,O.ILogService)],W);class j extends u.EditorAction{run(e,t){const n=W.get(t);n&&n.triggerSuggest()}constructor(){super({id:j.id,label:v.localize("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:y.ContextKeyExpr.and(p.EditorContextKeys.writable,p.EditorContextKeys.hasCompletionItemProvider),kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}}j.id="editor.action.triggerSuggest",(0,u.registerEditorContribution)(W.ID,W),(0,u.registerEditorAction)(j);const V=190,K=u.EditorCommand.bindToContribution(W.get);(0,u.registerEditorCommand)(new K({id:"acceptSelectedSuggestion",precondition:x.Context.Visible,handler(e){e.acceptSelectedSuggestion(!0,!1)}})),C.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:y.ContextKeyExpr.and(x.Context.Visible,p.EditorContextKeys.textInputFocus),primary:2,weight:V}),C.KeybindingsRegistry.registerKeybindingRule({id:"acceptSelectedSuggestion",when:y.ContextKeyExpr.and(x.Context.Visible,p.EditorContextKeys.textInputFocus,x.Context.AcceptSuggestionsOnEnter,x.Context.MakesTextEdit),primary:3,weight:V}),N.MenuRegistry.appendMenuItem(x.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:v.localize("accept.insert","Insert")},group:"left",order:1,when:x.Context.HasInsertAndReplaceRange.toNegated()}),N.MenuRegistry.appendMenuItem(x.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:v.localize("accept.insert","Insert")},group:"left",order:1,when:y.ContextKeyExpr.and(x.Context.HasInsertAndReplaceRange,x.Context.InsertMode.isEqualTo("insert"))}),N.MenuRegistry.appendMenuItem(x.suggestWidgetStatusbarMenu,{command:{id:"acceptSelectedSuggestion",title:v.localize("accept.replace","Replace")},group:"left",order:1,when:y.ContextKeyExpr.and(x.Context.HasInsertAndReplaceRange,x.Context.InsertMode.isEqualTo("replace"))}),(0,u.registerEditorCommand)(new K({id:"acceptAlternativeSelectedSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,p.EditorContextKeys.textInputFocus),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(e){e.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:x.suggestWidgetStatusbarMenu,group:"left",order:2,when:y.ContextKeyExpr.and(x.Context.HasInsertAndReplaceRange,x.Context.InsertMode.isEqualTo("insert")),title:v.localize("accept.replace","Replace")},{menuId:x.suggestWidgetStatusbarMenu,group:"left",order:2,when:y.ContextKeyExpr.and(x.Context.HasInsertAndReplaceRange,x.Context.InsertMode.isEqualTo("replace")),title:v.localize("accept.insert","Insert")}]})),b.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,u.registerEditorCommand)(new K({id:"hideSuggestWidget",precondition:x.Context.Visible,handler:e=>e.cancelSuggestWidget(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,u.registerEditorCommand)(new K({id:"selectNextSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectNextSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,u.registerEditorCommand)(new K({id:"selectNextPageSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectNextPageSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,u.registerEditorCommand)(new K({id:"selectLastSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectLastSuggestion()})),(0,u.registerEditorCommand)(new K({id:"selectPrevSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectPrevSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,u.registerEditorCommand)(new K({id:"selectPrevPageSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectPrevPageSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,u.registerEditorCommand)(new K({id:"selectFirstSuggestion",precondition:y.ContextKeyExpr.and(x.Context.Visible,x.Context.MultipleSuggestions),handler:e=>e.selectFirstSuggestion()})),(0,u.registerEditorCommand)(new K({id:"toggleSuggestionDetails",precondition:x.Context.Visible,handler:e=>e.toggleSuggestionDetails(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:2058,mac:{primary:266}},menuOpts:[{menuId:x.suggestWidgetStatusbarMenu,group:"right",order:1,when:y.ContextKeyExpr.and(x.Context.DetailsVisible,x.Context.CanResolve),title:v.localize("detail.more","show less")},{menuId:x.suggestWidgetStatusbarMenu,group:"right",order:1,when:y.ContextKeyExpr.and(x.Context.DetailsVisible.toNegated(),x.Context.CanResolve),title:v.localize("detail.less","show more")}]})),(0,u.registerEditorCommand)(new K({id:"toggleExplainMode",precondition:x.Context.Visible,handler:e=>e.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,u.registerEditorCommand)(new K({id:"toggleSuggestionFocus",precondition:x.Context.Visible,handler:e=>e.toggleSuggestionFocus(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,u.registerEditorCommand)(new K({id:"insertBestCompletion",precondition:y.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,y.ContextKeyExpr.equals("config.editor.tabCompletion","on"),E.WordContextKey.AtEnd,x.Context.Visible.toNegated(),S.SuggestAlternatives.OtherSuggestions.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:(e,t)=>{e.triggerSuggestAndAcceptBest((0,A.isObject)(t)?Object.assign({fallback:"tab"},t):{fallback:"tab"})},kbOpts:{weight:V,primary:2}})),(0,u.registerEditorCommand)(new K({id:"insertNextSuggestion",precondition:y.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,y.ContextKeyExpr.equals("config.editor.tabCompletion","on"),S.SuggestAlternatives.OtherSuggestions,x.Context.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptNextSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:2}})),(0,u.registerEditorCommand)(new K({id:"insertPrevSuggestion",precondition:y.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,y.ContextKeyExpr.equals("config.editor.tabCompletion","on"),S.SuggestAlternatives.OtherSuggestions,x.Context.Visible.toNegated(),g.SnippetController2.InSnippetMode.toNegated()),handler:e=>e.acceptPrevSuggestion(),kbOpts:{weight:V,kbExpr:p.EditorContextKeys.textInputFocus,primary:1026}})),(0,u.registerEditorAction)(class extends u.EditorAction{run(e,t){W.get(t).resetWidgetSize()}constructor(){super({id:"editor.action.resetSuggestSize",label:v.localize("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}})})),r.register("57EO8",(function(t,n){e(t.exports,"SnippetController2",(function(){return v}),(function(e){return v=e}));var i=r("iNF8q"),o=r("eh64S"),s=r("dSV0M"),a=r("e8gAb"),l=r("igipX"),c=r("gLmC6"),u=r("1N08n"),d=r("cJ7j9"),h=r("a17Zs"),p=r("9LBxC"),g=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e,t){return function(n,i){t(n,i,e)}};const m={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let v=class e{static get(t){return t.getContribution(e.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),null===(e=this._session)||void 0===e||e.dispose(),this._snippetListener.dispose()}insert(e,t){try{this._doInsert(e,void 0===t?m:Object.assign(Object.assign({},m),t))}catch(t){this.cancel(),this._logService.error(t),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){this._editor.hasModel()&&(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session?this._session.merge(e,t):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new(0,h.SnippetSession)(this._editor,e,t),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent((e=>e.isFlush&&this.cancel()))),this._snippetListener.add(this._editor.onDidChangeModel((()=>this.cancel()))),this._snippetListener.add(this._editor.onDidChangeCursorSelection((()=>this._updateState()))))}_updateState(){if(this._session&&this._editor.hasModel()){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel())return void(this._currentChoice=void 0);const{choice:e}=this._session;if(e){if(this._currentChoice!==e){this._currentChoice=e,this._editor.setSelections(this._editor.getSelections().map((e=>a.Selection.fromPositions(e.getStartPosition()))));const[t]=e.options;(0,c.showSimpleSuggestions)(this._editor,e.options.map(((e,n)=>({kind:13,label:e.value,insertText:e.value,sortText:"a".repeat(n+1),range:s.Range.fromPositions(this._editor.getPosition(),this._editor.getPosition().delta(0,t.value.length))}))))}}else this._currentChoice=void 0}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),null===(t=this._session)||void 0===t||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}constructor(t,n,o){this._editor=t,this._logService=n,this._snippetListener=new(0,i.DisposableStore),this._modelVersionId=-1,this._inSnippet=e.InSnippetMode.bindTo(o),this._hasNextTabstop=e.HasNextTabstop.bindTo(o),this._hasPrevTabstop=e.HasPrevTabstop.bindTo(o)}};v.ID="snippetController2",v.InSnippetMode=new(0,u.RawContextKey)("inSnippetMode",!1,(0,p.localize)("inSnippetMode","Whether the editor in current in snippet mode")),v.HasNextTabstop=new(0,u.RawContextKey)("hasNextTabstop",!1,(0,p.localize)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),v.HasPrevTabstop=new(0,u.RawContextKey)("hasPrevTabstop",!1,(0,p.localize)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),v=g([f(1,d.ILogService),f(2,u.IContextKeyService)],v),(0,o.registerEditorContribution)(v.ID,v);const b=o.EditorCommand.bindToContribution(v.get);(0,o.registerEditorCommand)(new b({id:"jumpToNextSnippetPlaceholder",precondition:u.ContextKeyExpr.and(v.InSnippetMode,v.HasNextTabstop),handler:e=>e.next(),kbOpts:{weight:130,kbExpr:l.EditorContextKeys.editorTextFocus,primary:2}})),(0,o.registerEditorCommand)(new b({id:"jumpToPrevSnippetPlaceholder",precondition:u.ContextKeyExpr.and(v.InSnippetMode,v.HasPrevTabstop),handler:e=>e.prev(),kbOpts:{weight:130,kbExpr:l.EditorContextKeys.editorTextFocus,primary:1026}})),(0,o.registerEditorCommand)(new b({id:"leaveSnippet",precondition:v.InSnippetMode,handler:e=>e.cancel(!0),kbOpts:{weight:130,kbExpr:l.EditorContextKeys.editorTextFocus,primary:9,secondary:[1033]}})),(0,o.registerEditorCommand)(new b({id:"acceptSnippet",precondition:v.InSnippetMode,handler:e=>e.finish()}))})),r.register("gLmC6",(function(t,n){e(t.exports,"Context",(function(){return C}),(function(e){return C=e})),e(t.exports,"suggestWidgetStatusbarMenu",(function(){return x}),(function(e){return x=e})),e(t.exports,"CompletionOptions",(function(){return w}),(function(e){return w=e})),e(t.exports,"getSnippetSuggestSupport",(function(){return E}),(function(e){return E=e})),e(t.exports,"provideSuggestionItems",(function(){return I}),(function(e){return I=e})),e(t.exports,"getSuggestionComparator",(function(){return L}),(function(e){return L=e})),e(t.exports,"showSimpleSuggestions",(function(){return T}),(function(e){return T=e}));var i=r("2zf51"),o=r("aZciE"),s=r("aGBCV"),a=r("1N08n"),l=r("dq3o1"),c=r("dSV0M"),u=r("bZqqW"),d=r("iNF8q"),h=r("d8eAn"),p=r("gQH4x"),g=r("ie89j"),f=r("7YObE"),m=r("6cqQ7"),v=r("65vvd"),b=r("d0Qsb"),y=r("9LBxC"),_=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const C={Visible:new(0,a.RawContextKey)("suggestWidgetVisible",!1,(0,y.localize)("suggestWidgetVisible","Whether suggestion are visible")),DetailsVisible:new(0,a.RawContextKey)("suggestWidgetDetailsVisible",!1,(0,y.localize)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new(0,a.RawContextKey)("suggestWidgetMultipleSuggestions",!1,(0,y.localize)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new(0,a.RawContextKey)("suggestionMakesTextEdit",!0,(0,y.localize)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new(0,a.RawContextKey)("acceptSuggestionOnEnter",!0,(0,y.localize)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new(0,a.RawContextKey)("suggestionHasInsertAndReplaceRange",!1,(0,y.localize)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new(0,a.RawContextKey)("suggestionInsertMode",void 0,{type:"string",description:(0,y.localize)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new(0,a.RawContextKey)("suggestionCanResolve",!1,(0,y.localize)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},x=new(0,h.MenuId)("suggestWidgetStatusBar");class S{get isResolved(){return!!this._isResolved}resolve(e){return _(this,void 0,void 0,(function*(){if(!this._resolveCache){const t=e.onCancellationRequested((()=>{this._resolveCache=void 0,this._isResolved=!1}));this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then((e=>{Object.assign(this.completion,e),this._isResolved=!0,t.dispose()}),(e=>{(0,i.isPromiseCanceledError)(e)&&(this._resolveCache=void 0,this._isResolved=!1)}))}return this._resolveCache}))}constructor(e,t,n,i){this.position=e,this.completion=t,this.container=n,this.provider=i,this.isInvalid=!1,this.score=u.FuzzyScore.Default,this.distance=0,this.textLabel="string"==typeof t.label?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),c.Range.isIRange(t.range)?(this.editStart=new(0,s.Position)(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new(0,s.Position)(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new(0,s.Position)(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||c.Range.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new(0,s.Position)(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new(0,s.Position)(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new(0,s.Position)(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||c.Range.spansMultipleLines(t.range.insert)||c.Range.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),"function"!=typeof i.resolveCompletionItem&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}}class w{constructor(e=2,t=new Set,n=new Set,i=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=i}}let k;function E(){return k}w.default=new w;class D{constructor(e,t,n,i){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=i}}function I(e,t,n=w.default,r={triggerKind:0},s=l.CancellationToken.None){return _(this,void 0,void 0,(function*(){const a=new(0,g.StopWatch)(!0);t=t.clone();const l=e.getWordAtPosition(t),u=l?new(0,c.Range)(t.lineNumber,l.startColumn,t.lineNumber,l.endColumn):c.Range.fromPositions(t),h={replace:u,insert:u.setEndPosition(t.lineNumber,t.column)},f=[],m=new(0,d.DisposableStore),v=[];let b=!1;const y=(e,i,o)=>{var r,s,a;if(i){for(let o of i.suggestions)if(!n.kindFilter.has(o.kind)){if(!n.showDeprecated&&(null===(r=null==o?void 0:o.tags)||void 0===r?void 0:r.includes(1)))continue;o.range||(o.range=h),o.sortText||(o.sortText="string"==typeof o.label?o.label:o.label.label),!b&&o.insertTextRules&&4&o.insertTextRules&&(b=p.SnippetParser.guessNeedsClipboard(o.insertText)),f.push(new S(t,o,i,e))}(0,d.isDisposable)(i)&&m.add(i),v.push({providerName:null!==(s=e._debugDisplayName)&&void 0!==s?s:"unkown_provider",elapsedProvider:null!==(a=i.duration)&&void 0!==a?a:-1,elapsedOverall:o.elapsed()})}},C=(()=>_(this,void 0,void 0,(function*(){})))();for(let a of o.CompletionProviderRegistry.orderedGroups(e)){let o=f.length;if(yield Promise.all(a.map((o=>_(this,void 0,void 0,(function*(){if(!(n.providerFilter.size>0)||n.providerFilter.has(o))try{const n=new(0,g.StopWatch)(!0),i=yield o.provideCompletionItems(e,t,r,s);y(o,i,n)}catch(e){(0,i.onUnexpectedExternalError)(e)}}))))),o!==f.length||s.isCancellationRequested)break}return yield C,s.isCancellationRequested?(m.dispose(),Promise.reject((0,i.canceled)())):new D(f.sort(L(n.snippetSortOrder)),b,{entries:v,elapsed:a.elapsed()},m)}))}function A(e,t){if(e.sortTextLow&&t.sortTextLow){if(e.sortTextLow<t.sortTextLow)return-1;if(e.sortTextLow>t.sortTextLow)return 1}return e.completion.label<t.completion.label?-1:e.completion.label>t.completion.label?1:e.completion.kind-t.completion.kind}const R=new Map;function L(e){return R.get(e)}R.set(0,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return A(e,t)})),R.set(2,(function(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return A(e,t)})),R.set(1,A),f.CommandsRegistry.registerCommand("_executeCompletionItemProvider",((e,...t)=>_(void 0,void 0,void 0,(function*(){const[n,i,o,r]=t;(0,m.assertType)(v.URI.isUri(n)),(0,m.assertType)(s.Position.isIPosition(i)),(0,m.assertType)("string"==typeof o||!o),(0,m.assertType)("number"==typeof r||!r);const a=yield e.get(b.ITextModelService).createModelReference(n);try{const e={incomplete:!1,suggestions:[]},t=[],n=yield I(a.object.textEditorModel,s.Position.lift(i),void 0,{triggerCharacter:o,triggerKind:o?1:0});for(const i of n.items)t.length<(null!=r?r:0)&&t.push(i.resolve(l.CancellationToken.None)),e.incomplete=e.incomplete||i.container.incomplete,e.suggestions.push(i.completion);try{return yield Promise.all(t),e}finally{setTimeout((()=>n.disposable.dispose()),100)}}finally{a.dispose()}}))));const M=new class{provideCompletionItems(){let e={suggestions:this.onlyOnceSuggestions.slice(0)};return this.onlyOnceSuggestions.length=0,e}constructor(){this.onlyOnceSuggestions=[]}};function T(e,t){setTimeout((()=>{M.onlyOnceSuggestions.push(...t),e.getContribution("editor.contrib.suggestController").triggerSuggest((new Set).add(M))}),0)}o.CompletionProviderRegistry.register("*",M)})),r.register("9eXUO",(function(t,n){e(t.exports,"ISuggestMemoryService",(function(){return b}),(function(e){return b=e}));var i=r("bngWv"),o=r("1mptJ"),s=r("aZciE"),a=r("iNF8q"),l=r("6wKox"),c=r("blTDv"),u=r("3ufSI"),d=r("81WwP"),h=r("ezXom"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};class f{select(e,t,n){if(0===n.length)return 0;let i=n[0].score[0];for(let e=0;e<n.length;e++){const{score:t,completion:o}=n[e];if(t[0]!==i)break;if(o.preselect)return e}return 0}constructor(e){this.name=e}}class m extends f{memorize(e,t,n){}toJSON(){}fromJSON(){}constructor(){super("first")}}let v=class e{dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(t,n){var i,o;const r=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:null===(i=this._modeService.getLanguageIdentifier(t.getLanguageIdAtPosition(n.lineNumber,n.column)))||void 0===i?void 0:i.language,resource:t.uri});if((null===(o=this._strategy)||void 0===o?void 0:o.name)!==r){this._saveState();const t=e._strategyCtors.get(r)||m;this._strategy=new t;try{const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=this._storageService.get(`${e._storagePrefix}/${r}`,t);n&&this._strategy.fromJSON(JSON.parse(n))}catch(e){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${e._storagePrefix}/${this._strategy.name}`,n,t,1)}}constructor(e,t,n){this._storageService=e,this._modeService=t,this._configService=n,this._disposables=new(0,a.DisposableStore),this._persistSoon=new(0,l.RunOnceScheduler)((()=>this._saveState()),500),this._disposables.add(e.onWillSaveState((e=>{e.reason===o.WillSaveStateReason.SHUTDOWN&&this._saveState()})))}};v._strategyCtors=new Map([["recentlyUsedByPrefix",class extends f{memorize(e,t,n){const{word:i}=e.getWordUntilPosition(t),o=`${e.getLanguageIdentifier().language}/${i}`;this._trie.set(o,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){let{word:i}=e.getWordUntilPosition(t);if(!i)return super.select(e,t,n);let o=`${e.getLanguageIdentifier().language}/${i}`,r=this._trie.get(o);if(r||(r=this._trie.findSubstr(o)),r)for(let e=0;e<n.length;e++){let{kind:t,insertText:i}=n[e].completion;if(t===r.type&&i===r.insertText)return e}return super.select(e,t,n)}toJSON(){let e=[];return this._trie.forEach(((t,n)=>e.push([n,t]))),e.sort(((e,t)=>-(e[1].touch-t[1].touch))).forEach(((e,t)=>e[1].touch=t)),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type="number"==typeof n.type?n.type:(0,s.completionKindFromString)(n.type),this._trie.set(t,n)}}constructor(){super("recentlyUsedByPrefix"),this._trie=i.TernarySearchTree.forStrings(),this._seq=0}}],["recentlyUsed",class extends f{memorize(e,t,n){const i=`${e.getLanguageIdentifier().language}/${n.textLabel}`;this._cache.set(i,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(0===n.length)return 0;const i=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(i))return super.select(e,t,n);let o=n[0].score[0],r=-1,s=-1,a=-1;for(let t=0;t<n.length&&n[t].score[0]===o;t++){const i=`${e.getLanguageIdentifier().language}/${n[t].textLabel}`,o=this._cache.peek(i);if(o&&o.touch>a&&o.type===n[t].completion.kind&&o.insertText===n[t].completion.insertText&&(a=o.touch,s=t),n[t].completion.preselect&&-1===r)return t}return-1!==s?s:-1!==r?r:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();for(const[t,n]of e)n.touch=0,n.type="number"==typeof n.type?n.type:(0,s.completionKindFromString)(n.type),this._cache.set(t,n);this._seq=this._cache.size}constructor(){super("recentlyUsed"),this._cache=new(0,i.LRUCache)(300,.66),this._seq=0}}],["first",m]]),v._storagePrefix="suggest/memories",v=p([g(0,o.IStorageService),g(1,h.IModeService),g(2,u.IConfigurationService)],v);const b=(0,c.createDecorator)("ISuggestMemories");(0,d.registerSingleton)(b,v,!0)})),r.register("jPriH",(function(t,n){e(t.exports,"SuggestAlternatives",(function(){return a}),(function(e){return a=e}));var i=r("1N08n"),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){return function(n,i){t(n,i,e)}};let a=class e{dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),null===(e=this._listener)||void 0===e||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:t,index:n},i){if(0===t.items.length)return void this.reset();e._moveIndex(!0,t,n)!==n?(this._acceptNext=i,this._model=t,this._index=n,this._listener=this._editor.onDidChangeCursorPosition((()=>{this._ignore||this.reset()})),this._ckOtherSuggestions.set(!0)):this.reset()}static _moveIndex(e,t,n){let i=n;for(;i=(i+t.items.length+(e?1:-1))%t.items.length,i!==n&&t.items[i].completion.additionalTextEdits;);return i}next(){this._move(!0)}prev(){this._move(!1)}_move(t){if(this._model)try{this._ignore=!0,this._index=e._moveIndex(t,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}constructor(t,n){this._editor=t,this._index=0,this._ckOtherSuggestions=e.OtherSuggestions.bindTo(n)}};a.OtherSuggestions=new(0,i.RawContextKey)("hasOtherSuggestions",!1),a=o([s(1,i.IContextKeyService)],a)})),r.register("aOwol",(function(t,n){e(t.exports,"SuggestModel",(function(){return E}),(function(e){return E=e}));var i=r("6wKox"),o=r("2zf51"),s=r("4zvzH"),a=r("iNF8q"),l=r("e8gAb"),c=r("aZciE"),u=r("6NJrl"),d=r("gLmC6"),h=r("57EO8"),p=r("dq3o1"),g=r("ki64z"),f=r("95CDe"),m=r("78mNz"),v=r("fHyTN"),b=r("d5Cac"),y=r("cJ7j9"),_=r("1N08n"),C=r("3ufSI"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}},w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class k{static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenizeIfCheap(n.lineNumber);const i=t.getWordAtPosition(n);return!!i&&(i.endColumn===n.column&&!!isNaN(Number(i.word)))}constructor(e,t,n,i){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=i}}let E=class e{dispose(){(0,a.dispose)(this._triggerCharacterListener),(0,a.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateQuickSuggest(){this._quickSuggestDelay=this._editor.getOption(78),(isNaN(this._quickSuggestDelay)||!this._quickSuggestDelay&&0!==this._quickSuggestDelay||this._quickSuggestDelay<0)&&(this._quickSuggestDelay=10)}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(79)||!this._editor.hasModel()||!this._editor.getOption(108))return;const e=new Map;for(const t of c.CompletionProviderRegistry.all(this._editor.getModel()))for(const n of t.triggerCharacters||[]){let i=e.get(n);i||(i=new Set,i.add((0,d.getSnippetSuggestSupport)()),e.set(n,i)),i.add(t)}const t=t=>{if(n=this._contextKeyService,i=this._configurationService,Boolean(n.getContextKeyValue("inlineSuggestionVisible"))&&!Boolean(i.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters")))return;var n,i;if(k.shouldAutoTrigger(this._editor))return;if(!t){const e=this._editor.getPosition();t=this._editor.getModel().getLineContent(e.lineNumber).substr(0,e.column-1)}let o="";(0,m.isLowSurrogate)(t.charCodeAt(t.length-1))?(0,m.isHighSurrogate)(t.charCodeAt(t.length-2))&&(o=t.substr(t.length-2)):o=t.charAt(t.length-1);const r=e.get(o);if(r){const e=this._completionModel?{items:this._completionModel.adopt(r),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,triggerCharacter:o},Boolean(this._completionModel),r,e)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(t))}get state(){return this._state}cancel(e=!1){var t;0!==this._state&&(this._triggerQuickSuggest.cancel(),null===(t=this._requestToken)||void 0===t||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){0!==this._state&&(this._editor.hasModel()&&c.CompletionProviderRegistry.has(this._editor.getModel())?this.trigger({auto:2===this._state,shy:!1},!0):this.cancel())}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||0!==e.reason&&3!==e.reason||"keyboard"!==e.source&&"deleteLeft"!==e.source)this.cancel();else if(c.CompletionProviderRegistry.has(t))if(0===this._state&&0===e.reason){if(!1===this._editor.getOption(77))return;if(!n.containsRange(this._currentSelection)&&!n.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))return;if(this._editor.getOption(105).snippetsPreventQuickSuggestions&&h.SnippetController2.get(this._editor).isInSnippet())return;this.cancel(),this._triggerQuickSuggest.cancelAndSet((()=>{if(0!==this._state)return;if(!k.shouldAutoTrigger(this._editor))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=this._editor.getOption(77);if(!1!==n){if(!0===n);else{e.tokenizeIfCheap(t.lineNumber);const i=e.getLineTokens(t.lineNumber),o=i.getStandardTokenType(i.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if(!(n.other&&0===o||n.comments&&1===o||n.strings&&2===o))return}var i,o;if(i=this._contextKeyService,o=this._configurationService,!Boolean(i.getContextKeyValue("inlineSuggestionVisible"))||Boolean(o.getValue("editor.inlineSuggest.allowQuickSuggestions")))this.trigger({auto:!0,shy:!1})}}),this._quickSuggestDelay)}else 0!==this._state&&3===e.reason&&this._refilterCompletionItems()}_refilterCompletionItems(){Promise.resolve().then((()=>{if(0===this._state)return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new k(e,t,2===this._state,!1);this._onNewContext(n)}))}trigger(t,n=!1,i,r){var s;if(!this._editor.hasModel())return;const a=this._editor.getModel(),l=t.auto,c=new k(a,this._editor.getPosition(),l,t.shy);this.cancel(n),this._state=l?2:1,this._onDidTrigger.fire({auto:l,shy:t.shy,position:this._editor.getPosition()}),this._context=c;let h={triggerKind:null!==(s=t.triggerKind)&&void 0!==s?s:0};t.triggerCharacter&&(h={triggerKind:1,triggerCharacter:t.triggerCharacter}),this._requestToken=new(0,p.CancellationTokenSource);const g=this._editor.getOption(100);let m=1;switch(g){case"top":m=0;break;case"bottom":m=2}const{itemKind:v,showDeprecated:b}=e._createSuggestFilter(this._editor),y=f.WordDistance.create(this._editorWorkerService,this._editor),_=(0,d.provideSuggestionItems)(a,this._editor.getPosition(),new(0,d.CompletionOptions)(m,v,i,b),h,this._requestToken.token);Promise.all([_,y]).then((([e,n])=>w(this,void 0,void 0,(function*(){var i;if(null===(i=this._requestToken)||void 0===i||i.dispose(),!this._editor.hasModel())return;let o=null==r?void 0:r.clipboardText;if(!o&&e.needsClipboard&&(o=yield this._clipboardService.readText()),0===this._state)return;const s=this._editor.getModel();let a=e.items;if(r){const e=(0,d.getSuggestionComparator)(m);a=a.concat(r.items).sort(e)}const c=new k(s,this._editor.getPosition(),l,t.shy);this._completionModel=new(0,u.CompletionModel)(a,this._context.column,{leadingLineContent:c.leadingLineContent,characterCountDelta:c.column-this._context.column},n,this._editor.getOption(105),this._editor.getOption(100),o),this._completionDisposables.add(e.disposable),this._onNewContext(c),this._reportDurationsTelemetry(e.durations)})))).catch(o.onUnexpectedError)}_reportDurationsTelemetry(e){this._telemetryGate++%230==0&&setTimeout((()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)}))}static _createSuggestFilter(e){const t=new Set;"none"===e.getOption(100)&&t.add(27);const n=e.getOption(105);return n.showMethods||t.add(0),n.showFunctions||t.add(1),n.showConstructors||t.add(2),n.showFields||t.add(3),n.showVariables||t.add(4),n.showClasses||t.add(5),n.showStructs||t.add(6),n.showInterfaces||t.add(7),n.showModules||t.add(8),n.showProperties||t.add(9),n.showEvents||t.add(10),n.showOperators||t.add(11),n.showUnits||t.add(12),n.showValues||t.add(13),n.showConstants||t.add(14),n.showEnums||t.add(15),n.showEnumMembers||t.add(16),n.showKeywords||t.add(17),n.showWords||t.add(18),n.showColors||t.add(19),n.showFiles||t.add(20),n.showReferences||t.add(21),n.showColors||t.add(22),n.showFolders||t.add(23),n.showTypeParameters||t.add(24),n.showSnippets||t.add(27),n.showUsers||t.add(25),n.showIssues||t.add(26),{itemKind:t,showDeprecated:n.showDeprecated}}_onNewContext(e){if(this._context)if(e.lineNumber===this._context.lineNumber)if((0,m.getLeadingWhitespace)(e.leadingLineContent)===(0,m.getLeadingWhitespace)(this._context.leadingLineContent)){if(e.column<this._context.column)e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1},!0):this.cancel();else if(this._completionModel)if(0!==e.leadingWord.word.length&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const e=new Set(c.CompletionProviderRegistry.all(this._editor.getModel()));for(let t of this._completionModel.allProvider)e.delete(t);const t=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&0!==e.leadingWord.word.length){const{incomplete:e}=this._completionModel,t=this._completionModel.adopt(e);this.trigger({auto:2===this._state,shy:!1,triggerKind:2},!0,e,{items:t,clipboardText:this._completionModel.clipboardText})}else{let t=this._completionModel.lineContext,n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},0===this._completionModel.items.length){if(k.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn)return void this.trigger({auto:this._context.auto,shy:!1},!0);if(this._context.auto)return void this.cancel();if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&0===e.leadingWord.word.length)return void this.cancel()}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,isFrozen:n})}}else this.cancel();else this.cancel()}constructor(e,t,n,o,r,u,d){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=o,this._logService=r,this._contextKeyService=u,this._configurationService=d,this._toDispose=new(0,a.DisposableStore),this._quickSuggestDelay=10,this._triggerCharacterListener=new(0,a.DisposableStore),this._triggerQuickSuggest=new(0,i.TimeoutTimer),this._state=0,this._completionDisposables=new(0,a.DisposableStore),this._onDidCancel=new(0,s.Emitter),this._onDidTrigger=new(0,s.Emitter),this._onDidSuggest=new(0,s.Emitter),this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new(0,l.Selection)(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeModelLanguage((()=>{this._updateTriggerCharacters(),this.cancel()}))),this._toDispose.add(this._editor.onDidChangeConfiguration((()=>{this._updateTriggerCharacters(),this._updateQuickSuggest()}))),this._toDispose.add(c.CompletionProviderRegistry.onDidChange((()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}))),this._toDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._onCursorChange(e)})));let h=!1;this._toDispose.add(this._editor.onDidCompositionStart((()=>{h=!0}))),this._toDispose.add(this._editor.onDidCompositionEnd((()=>{h=!1,this._refilterCompletionItems()}))),this._toDispose.add(this._editor.onDidChangeModelContent((()=>{h||this._refilterCompletionItems()}))),this._updateTriggerCharacters(),this._updateQuickSuggest()}};E=x([S(1,g.IEditorWorkerService),S(2,v.IClipboardService),S(3,b.ITelemetryService),S(4,y.ILogService),S(5,_.IContextKeyService),S(6,C.IConfigurationService)],E)})),r.register("6NJrl",(function(t,n){e(t.exports,"CompletionModel",(function(){return a}));var i=r("bZqqW"),o=r("78mNz"),s=r("cCPZ6");class a{get lineContext(){return this._lineContext}set lineContext(e){this._lineContext.leadingLineContent===e.leadingLineContent&&this._lineContext.characterCountDelta===e.characterCountDelta||(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(let[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){let t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){0!==this._refilterKind&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let r="",a="";const l=1===this._refilterKind?this._items:this._filteredItems,c=[],u=!this._options.filterGraceful||l.length>2e3?i.fuzzyScore:i.fuzzyScoreGracefulAggressive;for(let s=0;s<l.length;s++){const d=l[s];if(d.isInvalid)continue;this._providerInfo.set(d.provider,Boolean(d.container.incomplete));const h=d.position.column-d.editStart.column,p=h+n-(d.position.column-this._column);if(r.length!==p&&(r=0===p?"":t.slice(-p),a=r.toLowerCase()),d.word=r,0===p)d.score=i.FuzzyScore.Default;else{let e=0;for(;e<h;){const t=r.charCodeAt(e);if(32!==t&&9!==t)break;e+=1}if(e>=p)d.score=i.FuzzyScore.Default;else if("string"==typeof d.completion.filterText){let t=u(r,a,e,d.completion.filterText,d.filterTextLow,0,!1);if(!t)continue;0===(0,o.compareIgnoreCase)(d.completion.filterText,d.textLabel)?d.score=t:(d.score=(0,i.anyScore)(r,a,e,d.textLabel,d.labelLow,0),d.score[0]=t[0])}else{let t=u(r,a,e,d.textLabel,d.labelLow,0,!1);if(!t)continue;d.score=t}}d.idx=s,d.distance=this._wordDistance.distance(d.position,d.completion),c.push(d),e.push(d.textLabel.length)}this._filteredItems=c.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,s.quickSelect)(e.length-.85,e,((e,t)=>e-t)):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return 1;if(27===t.completion.kind)return-1}return a._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(27===e.completion.kind)return-1;if(27===t.completion.kind)return 1}return a._compareCompletionItems(e,t)}constructor(e,t,n,i,o,r,s){this.clipboardText=s,this._snippetCompareFn=a._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=i,this._options=o,this._refilterKind=1,this._lineContext=n,"top"===r?this._snippetCompareFn=a._compareCompletionItemsSnippetsUp:"bottom"===r&&(this._snippetCompareFn=a._compareCompletionItemsSnippetsDown)}}})),r.register("95CDe",(function(t,n){e(t.exports,"WordDistance",(function(){return l}),(function(e){return l=e}));var i=r("cCPZ6"),o=r("dSV0M"),s=r("gbo29"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class l{static create(e,t){return a(this,void 0,void 0,(function*(){if(!t.getOption(105).localityBonus)return l.None;if(!t.hasModel())return l.None;const n=t.getModel(),r=t.getPosition();if(!e.canComputeWordRanges(n.uri))return l.None;const[a]=yield(new(0,s.BracketSelectionRangeProvider)).provideSelectionRanges(n,[r]);if(0===a.length)return l.None;const c=yield e.computeWordRanges(n.uri,a[0].range);if(!c)return l.None;const u=n.getWordUntilPosition(r);return delete c[u.word],new class extends l{distance(e,n){if(!r.equals(t.getPosition()))return 0;if(17===n.kind)return 2097152;let s="string"==typeof n.label?n.label:n.label.label,l=c[s];if((0,i.isFalsyOrEmpty)(l))return 2097152;let u=(0,i.binarySearch)(l,o.Range.fromPositions(e),o.Range.compareRangesUsingStarts),d=u>=0?l[u]:l[Math.max(0,~u-1)],h=a.length;for(const e of a){if(!o.Range.containsRange(e.range,d))break;h-=1}return h}}}))}}l.None=new class extends l{distance(){return 0}}})),r.register("gbo29",(function(t,n){e(t.exports,"BracketSelectionRangeProvider",(function(){return l}),(function(e){return l=e}));var i=r("aGBCV"),o=r("dSV0M"),s=r("1Dw1t"),a=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class l{provideSelectionRanges(e,t){return a(this,void 0,void 0,(function*(){const n=[];for(const i of t){const t=[];n.push(t);const o=new Map;yield new Promise((t=>l._bracketsRightYield(t,0,e,i,o))),yield new Promise((n=>l._bracketsLeftYield(n,0,e,i,o,t)))}return n}))}static _bracketsRightYield(e,t,n,i,o){const r=new Map,a=Date.now();for(;;){if(t>=l._maxRounds){e();break}if(!i){e();break}let c=n.findNextBracket(i);if(!c){e();break}if(Date.now()-a>l._maxDuration){setTimeout((()=>l._bracketsRightYield(e,t+1,n,i,o)));break}const u=c.close[0];if(c.isOpen){let e=r.has(u)?r.get(u):0;r.set(u,e+1)}else{let e=r.has(u)?r.get(u):0;if(e-=1,r.set(u,Math.max(0,e)),e<0){let e=o.get(u);e||(e=new(0,s.LinkedList),o.set(u,e)),e.push(c.range)}}i=c.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,i,r,s){const a=new Map,c=Date.now();for(;;){if(t>=l._maxRounds&&0===r.size){e();break}if(!i){e();break}let u=n.findPrevBracket(i);if(!u){e();break}if(Date.now()-c>l._maxDuration){setTimeout((()=>l._bracketsLeftYield(e,t+1,n,i,r,s)));break}const d=u.close[0];if(u.isOpen){let e=a.has(d)?a.get(d):0;if(e-=1,a.set(d,Math.max(0,e)),e<0){let e=r.get(d);if(e){let t=e.shift();0===e.size&&r.delete(d);const i=o.Range.fromPositions(u.range.getEndPosition(),t.getStartPosition()),a=o.Range.fromPositions(u.range.getStartPosition(),t.getEndPosition());s.push({range:i}),s.push({range:a}),l._addBracketLeading(n,a,s)}}}else{let e=a.has(d)?a.get(d):0;a.set(d,e+1)}i=u.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const r=t.startLineNumber,s=e.getLineFirstNonWhitespaceColumn(r);0!==s&&s!==t.startColumn&&(n.push({range:o.Range.fromPositions(new(0,i.Position)(r,s),t.getEndPosition())}),n.push({range:o.Range.fromPositions(new(0,i.Position)(r,1),t.getEndPosition())}));const a=r-1;if(a>0){const r=e.getLineFirstNonWhitespaceColumn(a);r===t.startColumn&&r!==e.getLineLastNonWhitespaceColumn(a)&&(n.push({range:o.Range.fromPositions(new(0,i.Position)(a,r),t.getEndPosition())}),n.push({range:o.Range.fromPositions(new(0,i.Position)(a,1),t.getEndPosition())}))}}}l._maxDuration=30,l._maxRounds=2})),r.register("jFAlz",(function(t,n){e(t.exports,"SuggestWidget",(function(){return F}),(function(e){return F=e})),r("33v3z"),r("egq8l");var i=r("9LBxC"),o=r("78mNz"),s=r("2vQKJ"),a=r("4zvzH"),l=r("2zf51"),c=r("iNF8q"),u=r("5y6Ao"),d=r("1N08n"),h=r("gLmC6"),p=r("ftaJJ"),g=r("JzRxO"),f=r("5h6AG"),m=r("1mptJ"),v=r("6wKox"),b=r("blTDv"),y=r("2JCwW"),_=r("9rLnI"),C=r("dua2d"),x=r("myCoS"),S=r("3F47k"),w=r("6O4NZ"),k=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},E=function(e,t){return function(n,i){t(n,i,e)}},D=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const I=(0,f.registerColor)("editorSuggestWidget.background",{dark:f.editorWidgetBackground,light:f.editorWidgetBackground,hc:f.editorWidgetBackground},i.localize("editorSuggestWidgetBackground","Background color of the suggest widget.")),A=(0,f.registerColor)("editorSuggestWidget.border",{dark:f.editorWidgetBorder,light:f.editorWidgetBorder,hc:f.editorWidgetBorder},i.localize("editorSuggestWidgetBorder","Border color of the suggest widget.")),R=(0,f.registerColor)("editorSuggestWidget.foreground",{dark:f.editorForeground,light:f.editorForeground,hc:f.editorForeground},i.localize("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),L=(0,f.registerColor)("editorSuggestWidget.selectedForeground",{dark:f.quickInputListFocusForeground,light:f.quickInputListFocusForeground,hc:f.quickInputListFocusForeground},i.localize("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),M=(0,f.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:f.quickInputListFocusIconForeground,light:f.quickInputListFocusIconForeground,hc:f.quickInputListFocusIconForeground},i.localize("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),T=(0,f.registerColor)("editorSuggestWidget.selectedBackground",{dark:f.quickInputListFocusBackground,light:f.quickInputListFocusBackground,hc:f.quickInputListFocusBackground},i.localize("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),N=(0,f.registerColor)("editorSuggestWidget.highlightForeground",{dark:f.listHighlightForeground,light:f.listHighlightForeground,hc:f.listHighlightForeground},i.localize("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),P=(0,f.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:f.listFocusHighlightForeground,light:f.listFocusHighlightForeground,hc:f.listFocusHighlightForeground},i.localize("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused."));class O{restore(){var e;const t=null!==(e=this._service.get(this._key,0))&&void 0!==e?e:"";try{const e=JSON.parse(t);if(s.Dimension.is(e))return s.Dimension.lift(e)}catch(e){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof S.EmbeddedCodeEditorWidget}`}}let F=class e{dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){0!==this._state&&this._contentWidget.layout()}_onListMouseDownOrTap(e){void 0!==e.element&&void 0!==e.index&&(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){const t=e.getColor(I);t&&(this.element.domNode.style.backgroundColor=t.toString(),this._messageElement.style.backgroundColor=t.toString(),this._details.widget.domNode.style.backgroundColor=t.toString());const n=e.getColor(A);n&&(this.element.domNode.style.borderColor=n.toString(),this._messageElement.style.borderColor=n.toString(),this._status.element.style.borderTopColor=n.toString(),this._details.widget.domNode.style.borderColor=n.toString(),this._detailsBorderColor=n.toString());const i=e.getColor(f.focusBorder);i&&(this._detailsFocusBorderColor=i.toString()),this._details.widget.borderWidth="hc"===e.type?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length)return this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),void this.editor.setAriaOptions({activeDescendant:void 0});if(!this._completionModel)return;const n=e.elements[0],i=e.indexes[0];n!==this._focusedItem&&(null===(t=this._currentSuggestionDetails)||void 0===t||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(i),this._currentSuggestionDetails=(0,v.createCancelablePromise)((e=>D(this,void 0,void 0,(function*(){const t=(0,v.disposableTimeout)((()=>{this._isDetailsVisible()&&this.showDetails(!0)}),250);e.onCancellationRequested((()=>t.dispose()));const i=yield n.resolve(e);return t.dispose(),i})))),this._currentSuggestionDetails.then((()=>{i>=this._list.length||n!==this._list.element(i)||(this._ignoreFocusEvents=!0,this._list.splice(i,1,[n]),this._list.setFocus([i]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,C.getAriaId)(i)}))})).catch(l.onUnexpectedError)),this._onDidFocus.fire({item:n,index:i,model:this._completionModel})}_setState(t){if(this._state!==t)switch(this._state=t,this.element.domNode.classList.toggle("frozen",4===t),this.element.domNode.classList.remove("message"),t){case 0:s.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.LOADING_MESSAGE,s.hide(this._listElement,this._status.element),s.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=e.NO_SUGGESTIONS_MESSAGE,s.hide(this._listElement,this._status.element),s.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:case 4:s.hide(this._messageElement),s.show(this._listElement,this._status.element),this._show();break;case 5:s.hide(this._messageElement),s.show(this._listElement,this._status.element),this._details.show(),this._show()}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet((()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)}),100)}showTriggered(e,t){0===this._state&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,v.disposableTimeout)((()=>this._setState(1)),t)))}showSuggestions(e,t,n,i){var o,r;if(this._contentWidget.setPosition(this.editor.getPosition()),null===(o=this._loadingTimeout)||void 0===o||o.dispose(),null===(r=this._currentSuggestionDetails)||void 0===r||r.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&2!==this._state&&0!==this._state)return void this._setState(4);const s=this._completionModel.items.length,a=0===s;if(this._ctxSuggestWidgetMultipleSuggestions.set(s>1),a)return this._setState(i?0:2),void(this._completionModel=void 0);this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),this._list.reveal(t,0),this._list.setFocus([t]),this._layout(this.element.size),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(0!==this._state&&2!==this._state&&1!==this._state&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){5===this._state?(this._setState(3),this._detailsBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsBorderColor)):3===this._state&&this._isDetailsVisible()&&(this._setState(5),this._detailsFocusBorderColor&&(this._details.widget.domNode.style.borderColor=this._detailsFocusBorderColor))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):!(0,y.canExpandCompletionItem)(this._list.getFocusedElements()[0])&&!this._explainMode||3!==this._state&&5!==this._state&&4!==this._state||(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;null===(e=this._loadingTimeout)||void 0===e||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(4.3*this.getLayoutInfo().itemHeight);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return 4===this._state}_afterRender(e){null!==e?2!==this._state&&1!==this._state&&(this._isDetailsVisible()&&this._details.show(),this._positionDetails()):this._isDetailsVisible()&&this._details.hide()}_layout(e){var t,n,i;if(!this.editor.hasModel())return;if(!this.editor.getDomNode())return;const o=s.getClientArea(document.body),r=this.getLayoutInfo();e||(e=r.defaultSize);let a=e.height,l=e.width;if(this._status.element.style.lineHeight=`${r.itemHeight}px`,2===this._state||1===this._state)a=r.itemHeight+r.borderHeight,l=r.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new s.Dimension(l,a),this._contentWidget.setPreference(2);else{const c=o.width-r.borderHeight-2*r.horizontalPadding;l>c&&(l=c);const u=this._completionModel?this._completionModel.stats.pLabelLen*r.typicalHalfwidthCharacterWidth:l,d=r.statusBarHeight+this._list.contentHeight+r.borderHeight,h=r.itemHeight+r.statusBarHeight,p=s.getDomNodePagePosition(this.editor.getDomNode()),g=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),f=p.top+g.top+g.height,m=Math.min(o.height-f-r.verticalPadding,d),v=Math.min(p.top+g.top-r.verticalPadding,d);let b=Math.min(Math.max(v,m)+r.borderHeight,d);a===(null===(t=this._cappedHeight)||void 0===t?void 0:t.capped)&&(a=this._cappedHeight.wanted),a<h&&(a=h),a>b&&(a=b);const y=100;a>m||this._forceRenderingAbove&&v>y?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),b=v):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),b=m),this.element.preferredSize=new s.Dimension(u,r.defaultSize.height),this.element.maxSize=new s.Dimension(c,b),this.element.minSize=new s.Dimension(220,h),this._cappedHeight=a===d?{wanted:null!==(i=null===(n=this._cappedHeight)||void 0===n?void 0:n.wanted)&&void 0!==i?i:e.height,capped:a}:void 0}this._resize(l,a)}_resize(e,t){const{width:n,height:i}=this.element.maxSize;e=Math.min(n,e),t=Math.min(i,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=t-o+"px",this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode)}getLayoutInfo(){const e=this.editor.getOption(41),t=(0,w.clamp)(this.editor.getOption(107)||e.lineHeight,8,1e3),n=this.editor.getOption(105).showStatusBar&&2!==this._state&&1!==this._state?t:0,i=this._details.widget.borderWidth,o=2*i;return{itemHeight:t,statusBarHeight:n,borderWidth:i,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new s.Dimension(430,n+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}constructor(e,t,n,r,l){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new(0,v.TimeoutTimer),this._disposables=new(0,c.DisposableStore),this._onDidSelect=new(0,a.Emitter),this._onDidFocus=new(0,a.Emitter),this._onDidHide=new(0,a.Emitter),this._onDidShow=new(0,a.Emitter),this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new(0,a.Emitter),this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new(0,x.ResizableHTMLElement),this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new z(this,e),this._persistedSize=new O(t,e);class d{constructor(e,t,n=!1,i=!1){this.persistedSize=e,this.currentSize=t,this.persistHeight=n,this.persistWidth=i}}let g;this._disposables.add(this.element.onDidWillResize((()=>{this._contentWidget.lockPreference(),g=new d(this._persistedSize.restore(),this.element.size)}))),this._disposables.add(this.element.onDidResize((e=>{var t,n,i,o;if(this._resize(e.dimension.width,e.dimension.height),g&&(g.persistHeight=g.persistHeight||!!e.north||!!e.south,g.persistWidth=g.persistWidth||!!e.east||!!e.west),e.done){if(g){const{itemHeight:e,defaultSize:r}=this.getLayoutInfo(),a=Math.round(e/2);let{width:l,height:c}=this.element.size;(!g.persistHeight||Math.abs(g.currentSize.height-c)<=a)&&(c=null!==(n=null===(t=g.persistedSize)||void 0===t?void 0:t.height)&&void 0!==n?n:r.height),(!g.persistWidth||Math.abs(g.currentSize.width-l)<=a)&&(l=null!==(o=null===(i=g.persistedSize)||void 0===i?void 0:i.width)&&void 0!==o?o:r.width),this._persistedSize.store(new s.Dimension(l,c))}this._contentWidget.unlockPreference(),g=void 0}}))),this._messageElement=s.append(this.element.domNode,s.$(".message")),this._listElement=s.append(this.element.domNode,s.$(".tree"));const m=l.createInstance(y.SuggestDetailsWidget,this.editor);m.onDidClose(this.toggleDetails,this,this._disposables),this._details=new(0,y.SuggestDetailsOverlay)(m,this.editor);const b=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(105).showIcons);b();const S=l.createInstance(C.ItemRenderer,this.editor);this._disposables.add(S),this._disposables.add(S.onDidToggleDetails((()=>this.toggleDetails()))),this._list=new(0,u.List)("SuggestWidget",this._listElement,{getHeight:e=>this.getLayoutInfo().itemHeight,getTemplateId:e=>"suggestion"},[S],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,accessibilityProvider:{getRole:()=>"option",getAriaLabel:e=>{if(e.isResolved&&this._isDetailsVisible()){const{documentation:t,detail:n}=e.completion,r=o.format("{0}{1}",n||"",t?"string"==typeof t?t:t.value:"");return i.localize("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",e.textLabel,r)}return e.textLabel},getWidgetAriaLabel:()=>i.localize("suggest","Suggest"),getWidgetRole:()=>"listbox"}}),this._status=l.createInstance(_.SuggestWidgetStatus,this.element.domNode);const w=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(105).showStatusBar);w(),this._disposables.add((0,p.attachListStyler)(this._list,r,{listInactiveFocusBackground:T,listInactiveFocusOutline:f.activeContrastBorder})),this._disposables.add(r.onDidColorThemeChange((e=>this._onThemeChange(e)))),this._onThemeChange(r.getColorTheme()),this._disposables.add(this._list.onMouseDown((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onTap((e=>this._onListMouseDownOrTap(e)))),this._disposables.add(this._list.onDidChangeSelection((e=>this._onListSelection(e)))),this._disposables.add(this._list.onDidChangeFocus((e=>this._onListFocus(e)))),this._disposables.add(this.editor.onDidChangeCursorSelection((()=>this._onCursorSelectionChanged()))),this._disposables.add(this.editor.onDidChangeConfiguration((e=>{e.hasChanged(105)&&(w(),b())}))),this._ctxSuggestWidgetVisible=h.Context.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=h.Context.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=h.Context.MultipleSuggestions.bindTo(n),this._disposables.add(s.addStandardDisposableListener(this._details.widget.domNode,"keydown",(e=>{this._onDetailsKeydown.fire(e)}))),this._disposables.add(this.editor.onMouseDown((e=>this._onEditorMouseDown(e))))}};F.LOADING_MESSAGE=i.localize("suggestWidget.loading","Loading..."),F.NO_SUGGESTIONS_MESSAGE=i.localize("suggestWidget.noSuggestions","No suggestions."),F=k([E(1,m.IStorageService),E(2,d.IContextKeyService),E(3,g.IThemeService),E(4,b.IInstantiationService)],F);class z{dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return!this._hidden&&this._position&&this._preference?{position:this._position,preference:[this._preference]}:null}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:i}=this._widget.getLayoutInfo();return new s.Dimension(t+2*n+i,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}}(0,g.registerThemingParticipant)(((e,t)=>{const n=e.getColor(N);n&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row .monaco-highlighted-label .highlight { color: ${n}; }`);const i=e.getColor(P);n&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .monaco-highlighted-label .highlight { color: ${i}; }`);const o=e.getColor(R);o&&t.addRule(`.monaco-editor .suggest-widget, .monaco-editor .suggest-details { color: ${o}; }`);const r=e.getColor(L);r&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused { color: ${r}; }`);const s=e.getColor(M);s&&t.addRule(`.monaco-editor .suggest-widget .monaco-list .monaco-list-row.focused .codicon { color: ${s}; }`);const a=e.getColor(f.textLinkForeground);a&&t.addRule(`.monaco-editor .suggest-details a { color: ${a}; }`);const l=e.getColor(f.textCodeBlockBackground);l&&t.addRule(`.monaco-editor .suggest-details code { background-color: ${l}; }`)}))})),r.register("egq8l",(function(e,t){var n=r("9LBxC"),i=r("JzRxO"),o=r("5h6AG"),s=r("evoAc");const a=(0,o.registerColor)("symbolIcon.arrayForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),l=(0,o.registerColor)("symbolIcon.booleanForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),c=(0,o.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),u=(0,o.registerColor)("symbolIcon.colorForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),d=(0,o.registerColor)("symbolIcon.constantForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),h=(0,o.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),p=(0,o.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),g=(0,o.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),f=(0,o.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hc:"#EE9D28"},(0,n.localize)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),m=(0,o.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),v=(0,o.registerColor)("symbolIcon.fileForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),b=(0,o.registerColor)("symbolIcon.folderForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),y=(0,o.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_=(0,o.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),C=(0,o.registerColor)("symbolIcon.keyForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),x=(0,o.registerColor)("symbolIcon.keywordForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),S=(0,o.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hc:"#B180D7"},(0,n.localize)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),w=(0,o.registerColor)("symbolIcon.moduleForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),k=(0,o.registerColor)("symbolIcon.namespaceForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),E=(0,o.registerColor)("symbolIcon.nullForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),D=(0,o.registerColor)("symbolIcon.numberForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),I=(0,o.registerColor)("symbolIcon.objectForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),A=(0,o.registerColor)("symbolIcon.operatorForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),R=(0,o.registerColor)("symbolIcon.packageForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),L=(0,o.registerColor)("symbolIcon.propertyForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),M=(0,o.registerColor)("symbolIcon.referenceForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),T=(0,o.registerColor)("symbolIcon.snippetForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),N=(0,o.registerColor)("symbolIcon.stringForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),P=(0,o.registerColor)("symbolIcon.structForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),O=(0,o.registerColor)("symbolIcon.textForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),F=(0,o.registerColor)("symbolIcon.typeParameterForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),z=(0,o.registerColor)("symbolIcon.unitForeground",{dark:o.foreground,light:o.foreground,hc:o.foreground},(0,n.localize)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),B=(0,o.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hc:"#75BEFF"},(0,n.localize)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,i.registerThemingParticipant)(((e,t)=>{const n=e.getColor(a);n&&t.addRule(`${s.Codicon.symbolArray.cssSelector} { color: ${n}; }`);const i=e.getColor(l);i&&t.addRule(`${s.Codicon.symbolBoolean.cssSelector} { color: ${i}; }`);const o=e.getColor(c);o&&t.addRule(`${s.Codicon.symbolClass.cssSelector} { color: ${o}; }`);const r=e.getColor(S);r&&t.addRule(`${s.Codicon.symbolMethod.cssSelector} { color: ${r}; }`);const H=e.getColor(u);H&&t.addRule(`${s.Codicon.symbolColor.cssSelector} { color: ${H}; }`);const W=e.getColor(d);W&&t.addRule(`${s.Codicon.symbolConstant.cssSelector} { color: ${W}; }`);const j=e.getColor(h);j&&t.addRule(`${s.Codicon.symbolConstructor.cssSelector} { color: ${j}; }`);const V=e.getColor(p);V&&t.addRule(`\n\t\t\t${s.Codicon.symbolValue.cssSelector},${s.Codicon.symbolEnum.cssSelector} { color: ${V}; }`);const K=e.getColor(g);K&&t.addRule(`${s.Codicon.symbolEnumMember.cssSelector} { color: ${K}; }`);const U=e.getColor(f);U&&t.addRule(`${s.Codicon.symbolEvent.cssSelector} { color: ${U}; }`);const q=e.getColor(m);q&&t.addRule(`${s.Codicon.symbolField.cssSelector} { color: ${q}; }`);const $=e.getColor(v);$&&t.addRule(`${s.Codicon.symbolFile.cssSelector} { color: ${$}; }`);const G=e.getColor(b);G&&t.addRule(`${s.Codicon.symbolFolder.cssSelector} { color: ${G}; }`);const Q=e.getColor(y);Q&&t.addRule(`${s.Codicon.symbolFunction.cssSelector} { color: ${Q}; }`);const X=e.getColor(_);X&&t.addRule(`${s.Codicon.symbolInterface.cssSelector} { color: ${X}; }`);const Z=e.getColor(C);Z&&t.addRule(`${s.Codicon.symbolKey.cssSelector} { color: ${Z}; }`);const J=e.getColor(x);J&&t.addRule(`${s.Codicon.symbolKeyword.cssSelector} { color: ${J}; }`);const Y=e.getColor(w);Y&&t.addRule(`${s.Codicon.symbolModule.cssSelector} { color: ${Y}; }`);const ee=e.getColor(k);ee&&t.addRule(`${s.Codicon.symbolNamespace.cssSelector} { color: ${ee}; }`);const te=e.getColor(E);te&&t.addRule(`${s.Codicon.symbolNull.cssSelector} { color: ${te}; }`);const ne=e.getColor(D);ne&&t.addRule(`${s.Codicon.symbolNumber.cssSelector} { color: ${ne}; }`);const ie=e.getColor(I);ie&&t.addRule(`${s.Codicon.symbolObject.cssSelector} { color: ${ie}; }`);const oe=e.getColor(A);oe&&t.addRule(`${s.Codicon.symbolOperator.cssSelector} { color: ${oe}; }`);const re=e.getColor(R);re&&t.addRule(`${s.Codicon.symbolPackage.cssSelector} { color: ${re}; }`);const se=e.getColor(L);se&&t.addRule(`${s.Codicon.symbolProperty.cssSelector} { color: ${se}; }`);const ae=e.getColor(M);ae&&t.addRule(`${s.Codicon.symbolReference.cssSelector} { color: ${ae}; }`);const le=e.getColor(T);le&&t.addRule(`${s.Codicon.symbolSnippet.cssSelector} { color: ${le}; }`);const ce=e.getColor(N);ce&&t.addRule(`${s.Codicon.symbolString.cssSelector} { color: ${ce}; }`);const ue=e.getColor(P);ue&&t.addRule(`${s.Codicon.symbolStruct.cssSelector} { color: ${ue}; }`);const de=e.getColor(O);de&&t.addRule(`${s.Codicon.symbolText.cssSelector} { color: ${de}; }`);const he=e.getColor(F);he&&t.addRule(`${s.Codicon.symbolTypeParameter.cssSelector} { color: ${he}; }`);const pe=e.getColor(z);pe&&t.addRule(`${s.Codicon.symbolUnit.cssSelector} { color: ${pe}; }`);const ge=e.getColor(B);ge&&t.addRule(`${s.Codicon.symbolVariable.cssSelector} { color: ${ge}; }`)}))})),r.register("2JCwW",(function(t,n){e(t.exports,"canExpandCompletionItem",(function(){return m}),(function(e){return m=e})),e(t.exports,"SuggestDetailsWidget",(function(){return v}),(function(e){return v=e})),e(t.exports,"SuggestDetailsOverlay",(function(){return b}),(function(e){return b=e}));var i=r("9LBxC"),o=r("iNF8q"),s=r("2vQKJ"),a=r("9UOZH"),l=r("itLZT"),c=r("aQY22"),u=r("evoAc"),d=r("4zvzH"),h=r("myCoS"),p=r("blTDv"),g=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},f=function(e,t){return function(n,i){t(n,i,e)}};function m(e){return!!e&&Boolean(e.completion.documentation||e.completion.detail&&e.completion.detail!==e.completion.label)}let v=class{dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(41),n=t.fontFamily,i=e.get(106)||t.fontSize,o=e.get(107)||t.lineHeight,r=t.fontWeight,s=`${i}px`,a=`${o}px`;this.domNode.style.fontSize=s,this.domNode.style.lineHeight=a,this.domNode.style.fontWeight=r,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=a,this._close.style.width=a}getLayoutInfo(){const e=this._editor.getOption(107)||this._editor.getOption(41).lineHeight,t=this._borderWidth;return{lineHeight:e,borderWidth:t,borderHeight:2*t,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=i.localize("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,2*this.getLayoutInfo().lineHeight),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,i;this._renderDisposeable.clear();let{detail:o,documentation:r}=e.completion;if(t){let t="";t+=`score: ${e.score[0]}\n`,t+=`prefix: ${null!==(n=e.word)&&void 0!==n?n:"(no prefix)"}\n`,t+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}\n`,t+=`distance: ${e.distance} (localityBonus-setting)\n`,t+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}\n`,t+=`commit_chars: ${null===(i=e.completion.commitCharacters)||void 0===i?void 0:i.join("")}\n`,r=(new(0,c.MarkdownString)).appendCodeblock("empty",t),o=`Provider: ${e.provider._debugDisplayName}`}if(t||m(e)){if(this.domNode.classList.remove("no-docs","no-type"),o){const e=o.length>1e5?`${o.substr(0,1e5)}`:o;this._type.textContent=e,this._type.title=e,s.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gim.test(e))}else s.clearNode(this._type),this._type.title="",s.hide(this._type),this.domNode.classList.add("no-type");if(s.clearNode(this._docs),"string"==typeof r)this._docs.classList.remove("markdown-docs"),this._docs.textContent=r;else if(r){this._docs.classList.add("markdown-docs"),s.clearNode(this._docs);const e=this._markdownRenderer.render(r);this._docs.appendChild(e.element),this._renderDisposeable.add(e),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync((()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)})))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=e=>{e.preventDefault(),e.stopPropagation()},this._close.onclick=e=>{e.preventDefault(),e.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}else this.clearContents()}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new s.Dimension(e,t);s.Dimension.equals(n,this._size)||(this._size=n,s.size(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}constructor(e,t){this._editor=e,this._onDidClose=new(0,d.Emitter),this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new(0,d.Emitter),this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new(0,o.DisposableStore),this._renderDisposeable=new(0,o.DisposableStore),this._borderWidth=1,this._size=new s.Dimension(330,0),this.domNode=s.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(l.MarkdownRenderer,{editor:e}),this._body=s.$(".body"),this._scrollbar=new(0,a.DomScrollableElement)(this._body,{}),s.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=s.append(this._body,s.$(".header")),this._close=s.append(this._header,s.$("span"+u.Codicon.close.cssSelector)),this._close.title=i.localize("details.close","Close"),this._type=s.append(this._header,s.$("p.type")),this._docs=s.append(this._body,s.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(41)&&this._configureFont()})))}};v=g([f(1,p.IInstantiationService)],v);class b{dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e){var t;const n=s.getDomNodePagePosition(e);this._anchorBox=n,this._placeAtAnchor(this._anchorBox,null!==(t=this._userSize)&&void 0!==t?t:this.widget.size)}_placeAtAnchor(e,t){const n=s.getClientArea(document.body),i=this.widget.getLayoutInfo();let o,r,a,l,c=new s.Dimension(220,2*i.lineHeight),u=0,d=e.top,h=e.top+e.height-i.borderHeight,p=n.width-(e.left+e.width+i.borderWidth+i.horizontalPadding);u=-i.borderWidth+e.left+e.width,l=!0,o=new s.Dimension(p,n.height-e.top-i.borderHeight-i.verticalPadding),r=o.with(void 0,e.top+e.height-i.borderHeight-i.verticalPadding),t.width>p&&(e.left>p&&(p=e.left-i.borderWidth-i.horizontalPadding,l=!1,u=Math.max(i.horizontalPadding,e.left-t.width-i.borderWidth),o=o.with(p),r=o.with(void 0,r.height)),e.width>1.3*p&&n.height-(e.top+e.height)>e.height&&(p=e.width,u=e.left,d=-i.borderWidth+e.top+e.height,o=new s.Dimension(e.width-i.borderHeight,n.height-e.top-e.height-i.verticalPadding),r=o.with(void 0,e.top-i.verticalPadding),c=c.with(o.width)));let g,f=t.height,m=Math.max(o.height,r.height);f>m&&(f=m),f<=o.height?(a=!0,g=o):(a=!1,g=r),this._applyTopLeft({left:u,top:a?d:h-f}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!a,l,a,!l),this._resizable.minSize=c,this._resizable.maxSize=g,this._resizable.layout(f,Math.min(g.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}constructor(e,t){let n,i;this.widget=e,this._editor=t,this._disposables=new(0,o.DisposableStore),this._added=!1,this._resizable=new(0,h.ResizableHTMLElement),this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let r=0,s=0;this._disposables.add(this._resizable.onDidWillResize((()=>{n=this._topLeft,i=this._resizable.size}))),this._disposables.add(this._resizable.onDidResize((e=>{if(n&&i){this.widget.layout(e.dimension.width,e.dimension.height);let t=!1;e.west&&(s=i.width-e.dimension.width,t=!0),e.north&&(r=i.height-e.dimension.height,t=!0),t&&this._applyTopLeft({top:n.top+r,left:n.left+s})}e.done&&(n=void 0,i=void 0,r=0,s=0,this._userSize=e.dimension)}))),this._disposables.add(this.widget.onDidChangeContents((()=>{var e;this._anchorBox&&this._placeAtAnchor(this._anchorBox,null!==(e=this._userSize)&&void 0!==e?e:this.widget.size)})))}}})),r.register("myCoS",(function(t,n){e(t.exports,"ResizableHTMLElement",(function(){return l}));var i=r("4zvzH"),o=r("iNF8q"),s=r("2vQKJ"),a=r("fuOJP");class l{dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,i){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=i?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:i}=this._minSize,{height:o,width:r}=this._maxSize;e=Math.max(n,Math.min(o,e)),t=Math.max(i,Math.min(r,t));const a=new(0,s.Dimension)(t,e);s.Dimension.equals(a,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=a,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}constructor(){let e;this._onDidWillResize=new(0,i.Emitter),this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new(0,i.Emitter),this.onDidResize=this._onDidResize.event,this._sashListener=new(0,o.DisposableStore),this._size=new(0,s.Dimension)(0,0),this._minSize=new(0,s.Dimension)(0,0),this._maxSize=new(0,s.Dimension)(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new(0,a.Sash)(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new(0,a.Sash)(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new(0,a.Sash)(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:a.OrthogonalEdge.North}),this._southSash=new(0,a.Sash)(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:a.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let t=0,n=0;this._sashListener.add(i.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)((()=>{void 0===e&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)}))),this._sashListener.add(i.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)((()=>{void 0!==e&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(this._eastSash.onDidChange((i=>{e&&(n=i.currentX-i.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))}))),this._sashListener.add(this._westSash.onDidChange((i=>{e&&(n=-(i.currentX-i.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))}))),this._sashListener.add(this._northSash.onDidChange((i=>{e&&(t=-(i.currentY-i.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))}))),this._sashListener.add(this._southSash.onDidChange((i=>{e&&(t=i.currentY-i.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))}))),this._sashListener.add(i.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))),this._sashListener.add(i.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)((e=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))})))}}})),r.register("9rLnI",(function(t,n){e(t.exports,"SuggestWidgetStatus",(function(){return m}),(function(e){return m=e}));var i=r("2vQKJ"),o=r("5CDwF"),s=r("iNF8q"),a=r("gLmC6"),l=r("9LBxC"),c=r("57xBH"),u=r("d8eAn"),d=r("1N08n"),h=r("blTDv"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};class f extends c.MenuEntryActionViewItem{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,l.localize)("ddd","{0} ({1})",this._action.label,f.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return null===(t=e.getLabel())||void 0===t?void 0:t.replace(/\benter\b/gi,"")}}let m=class{dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(a.suggestWidgetStatusbarMenu,this._contextKeyService),t=()=>{const t=[],n=[];for(let[i,o]of e.getActions())"left"===i?t.push(...o):n.push(...o);this._leftActions.clear(),this._leftActions.push(t),this._rightActions.clear(),this._rightActions.push(n)};this._menuDisposables.add(e.onDidChange((()=>t()))),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}constructor(e,t,n,r){this._menuService=n,this._contextKeyService=r,this._menuDisposables=new(0,s.DisposableStore),this.element=i.append(e,i.$(".suggest-status-bar"));const a=e=>e instanceof u.MenuItemAction?t.createInstance(f,e,void 0):void 0;this._leftActions=new(0,o.ActionBar)(this.element,{actionViewItemProvider:a}),this._rightActions=new(0,o.ActionBar)(this.element,{actionViewItemProvider:a}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}};m=p([g(1,h.IInstantiationService),g(2,u.IMenuService),g(3,d.IContextKeyService)],m)})),r.register("dua2d",(function(t,n){e(t.exports,"getAriaId",(function(){return S}),(function(e){return S=e})),e(t.exports,"ItemRenderer",(function(){return E}),(function(e){return E=e}));var i,o=r("9LBxC"),s=r("bZqqW"),a=r("iNF8q"),l=r("2vQKJ"),c=r("JzRxO"),u=r("ezXom"),d=r("aZciE"),h=r("3dzQS"),p=r("dixro"),g=r("3EdBC"),f=r("65vvd"),m=r("ukfvL"),v=r("cCPZ6"),b=r("2JCwW"),y=r("evoAc"),_=r("4zvzH"),C=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},x=function(e,t){return function(n,i){t(n,i,e)}};function S(e){return`suggest-aria-id:${e}`}const w=(0,r("fAMPC").registerIcon)("suggest-more-info",y.Codicon.chevronRight,o.localize("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),k=new((i=class e{extract(t,n){if(t.textLabel.match(e._regexStrict))return n[0]=t.textLabel,!0;if(t.completion.detail&&t.completion.detail.match(e._regexStrict))return n[0]=t.completion.detail,!0;if("string"==typeof t.completion.documentation){const i=e._regexRelaxed.exec(t.completion.documentation);if(i&&(0===i.index||i.index+i[0].length===t.completion.documentation.length))return n[0]=i[0],!0}return!1}})._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,i._regexStrict=new RegExp(`^${i._regexRelaxed.source}$`,"i"),i);let E=class{dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new(0,a.DisposableStore),t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,l.append)(e,(0,l.$)(".icon")),t.colorspan=(0,l.append)(t.icon,(0,l.$)("span.colorspan"));const n=(0,l.append)(e,(0,l.$)(".contents")),i=(0,l.append)(n,(0,l.$)(".main"));t.iconContainer=(0,l.append)(i,(0,l.$)(".icon-label.codicon")),t.left=(0,l.append)(i,(0,l.$)("span.left")),t.right=(0,l.append)(i,(0,l.$)("span.right")),t.iconLabel=new(0,h.IconLabel)(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,l.append)(t.left,(0,l.$)("span.signature-label")),t.qualifierLabel=(0,l.append)(t.left,(0,l.$)("span.qualifier-label")),t.detailsLabel=(0,l.append)(t.right,(0,l.$)("span.details-label")),t.readMore=(0,l.append)(t.right,(0,l.$)("span.readMore"+c.ThemeIcon.asCSSSelector(w))),t.readMore.title=o.localize("readMore","Read More");const r=()=>{const e=this._editor.getOptions(),n=e.get(41),o=n.fontFamily,r=n.fontFeatureSettings,s=e.get(106)||n.fontSize,a=e.get(107)||n.lineHeight,l=n.fontWeight,c=`${s}px`,u=`${a}px`;t.root.style.fontSize=c,t.root.style.fontWeight=l,i.style.fontFamily=o,i.style.fontFeatureSettings=r,i.style.lineHeight=u,t.icon.style.height=u,t.icon.style.width=u,t.readMore.style.height=u,t.readMore.style.width=u};return r(),t.disposables.add(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(41)||e.hasChanged(106)||e.hasChanged(107))&&r()}))),t}renderElement(e,t,n){const{completion:i}=e;n.root.id=S(t),n.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:(0,s.createMatches)(e.score)};let r=[];if(19===i.kind&&k.extract(e,r))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=r[0];else if(20===i.kind&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const t=(0,p.getIconClasses)(this._modelService,this._modeService,f.URI.from({scheme:"fake",path:e.textLabel}),m.FileKind.FILE),r=(0,p.getIconClasses)(this._modelService,this._modeService,f.URI.from({scheme:"fake",path:i.detail}),m.FileKind.FILE);o.extraClasses=t.length>r.length?t:r}else 23===i.kind&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",o.extraClasses=(0,v.flatten)([(0,p.getIconClasses)(this._modelService,this._modeService,f.URI.from({scheme:"fake",path:e.textLabel}),m.FileKind.FOLDER),(0,p.getIconClasses)(this._modelService,this._modeService,f.URI.from({scheme:"fake",path:i.detail}),m.FileKind.FOLDER)])):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...(0,d.completionKindToCssClass)(i.kind).split(" ")));i.tags&&i.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,o),"string"==typeof i.label?(n.parametersLabel.textContent="",n.detailsLabel.textContent=D(i.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=D(i.label.detail||""),n.detailsLabel.textContent=D(i.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(105).showInlineDetails?(0,l.show)(n.detailsLabel):(0,l.hide)(n.detailsLabel),(0,b.canExpandCompletionItem)(e)?(n.right.classList.add("can-expand-details"),(0,l.show)(n.readMore),n.readMore.onmousedown=e=>{e.stopPropagation(),e.preventDefault()},n.readMore.onclick=e=>{e.stopPropagation(),e.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,l.hide)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}constructor(e,t,n,i){this._editor=e,this._modelService=t,this._modeService=n,this._themeService=i,this._onDidToggleDetails=new(0,_.Emitter),this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}};function D(e){return e.replace(/\r\n|\r|\n/g,"")}E=C([x(1,g.IModelService),x(2,u.IModeService),x(3,c.IThemeService)],E)})),r.register("dixro",(function(t,n){e(t.exports,"getIconClasses",(function(){return l}));var i=r("5KVQh"),o=r("d8krI"),s=r("9tzbe"),a=r("ukfvL");function l(e,t,n,r){const l=r===a.FileKind.ROOT_FOLDER?["rootfolder-icon"]:r===a.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(n){let u;if(n.scheme===i.Schemas.data){u=o.DataUri.parseMetaData(n).get(o.DataUri.META_DATA_LABEL)}else u=c((0,o.basenameOrAuthority)(n).toLowerCase());if(r===a.FileKind.FOLDER)l.push(`${u}-name-folder-icon`);else{if(u){if(l.push(`${u}-name-file-icon`),u.length<=255){const e=u.split(".");for(let t=1;t<e.length;t++)l.push(`${e.slice(t).join(".")}-ext-file-icon`)}l.push("ext-file-icon")}const r=function(e,t,n){if(!n)return null;let r=null;if(n.scheme===i.Schemas.data){const e=o.DataUri.parseMetaData(n).get(o.DataUri.META_DATA_MIME);e&&(r=t.getModeId(e))}else{const t=e.getModel(n);t&&(r=t.getModeId())}return r&&r!==s.PLAINTEXT_MODE_ID?r:t.getModeIdByFilepathOrFirstLine(n)}(e,t,n);r&&l.push(`${c(r)}-lang-file-icon`)}}return l}function c(e){return e.replace(/[\11\12\14\15\40]/g,"/")}})),r.register("ukfvL",(function(t,n){var i,o;e(t.exports,"FileKind",(function(){return i})),(o=i||(i={}))[o.FILE=0]="FILE",o[o.FOLDER=1]="FOLDER",o[o.ROOT_FOLDER=2]="ROOT_FOLDER"})),r.register("irWgq",(function(t,n){e(t.exports,"WordContextKey",(function(){return a}),(function(e){return a=e}));var i=r("1N08n"),o=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},s=function(e,t){return function(n,i){t(n,i,e)}};let a=class e{dispose(){var e;this._configListener.dispose(),null===(e=this._selectionListener)||void 0===e||e.dispose(),this._ckAtEnd.reset()}_update(){const e="on"===this._editor.getOption(110);if(this._enabled!==e)if(this._enabled=e,this._enabled){const e=()=>{if(!this._editor.hasModel())return void this._ckAtEnd.set(!1);const e=this._editor.getModel(),t=this._editor.getSelection(),n=e.getWordAtPosition(t.getStartPosition());n?this._ckAtEnd.set(n.endColumn===t.getStartPosition().column):this._ckAtEnd.set(!1)};this._selectionListener=this._editor.onDidChangeCursorSelection(e),e()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}constructor(t,n){this._editor=t,this._enabled=!1,this._ckAtEnd=e.AtEnd.bindTo(n),this._configListener=this._editor.onDidChangeConfiguration((e=>e.hasChanged(110)&&this._update())),this._update()}};a.AtEnd=new(0,i.RawContextKey)("atEndOfWord",!1),a=o([s(1,i.IContextKeyService)],a)})),r.register("3WZXP",(function(t,n){e(t.exports,"CommitCharacterController",(function(){return a}));var i=r("cCPZ6"),o=r("iNF8q"),s=r("0FIFl");class a{_onItem(e){if(!e||!(0,i.isNonEmptyArray)(e.item.completion.commitCharacters))return void this.reset();if(this._active&&this._active.item.item===e.item)return;const t=new(0,s.CharacterSet);for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}constructor(e,t,n){this._disposables=new(0,o.DisposableStore),this._disposables.add(t.onDidShow((()=>this._onItem(t.getFocusedItem())))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType((i=>{if(this._active&&!t.isFrozen()){const t=i.charCodeAt(i.length-1);this._active.acceptCharacters.has(t)&&e.getOption(0)&&n(this._active.item)}})))}}})),r.register("7yM9J",(function(t,n){e(t.exports,"OvertypingCapturer",(function(){return o}));var i=r("iNF8q");class o{getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}constructor(e,t){this._disposables=new(0,i.DisposableStore),this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType((()=>{if(!this._empty)return;if(!e.hasModel())return;const t=e.getSelections(),n=t.length;let i=!1;for(let e=0;e<n;e++)if(!t[e].isEmpty()){i=!0;break}if(!i)return;this._lastOvertyped=[];const r=e.getModel();for(let e=0;e<n;e++){const n=t[e];if(r.getValueLengthInRange(n)>o._maxSelectionLength)return;this._lastOvertyped[e]={value:r.getValueInRange(n),multiline:n.startLineNumber!==n.endLineNumber}}this._empty=!1}))),this._disposables.add(t.onDidCancel((e=>{this._empty||e.retrigger||(this._empty=!0)})))}}o._maxSelectionLength=51200})),r.register("13Id7",(function(t,n){function i(e,t){return{object:e,dispose:()=>null==t?void 0:t.dispose()}}e(t.exports,"createDisposableRef",(function(){return i}))})),r.register("b7dpQ",(function(t,n){e(t.exports,"ColorHoverParticipant",(function(){return v}),(function(e){return v=e}));var i=r("iNF8q"),o=r("dSV0M"),s=r("dq3o1"),a=r("eng0f"),l=r("bRANq"),c=r("2Jvmn"),u=r("30RNQ"),d=r("i2Phx"),h=r("JzRxO"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}},f=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class m{isValidForHoverAnchor(e){return 1===e.type&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}constructor(e,t,n,i){this.owner=e,this.range=t,this.model=n,this.provider=i,this.forceShowAtRange=!0}}let v=class{computeSync(e,t){return[]}computeAsync(e,t,n){return f(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return[];const e=l.ColorDetector.get(this._editor);for(const n of t){const t=e.getColorData(n.range.getStartPosition());if(t){return[yield this._createColorHover(this._editor.getModel(),t.colorInfo,t.provider)]}}return[]}))}_createColorHover(e,t,n){return f(this,void 0,void 0,(function*(){const i=e.getValueInRange(t.range),{red:r,green:l,blue:d,alpha:h}=t.color,p=new(0,c.RGBA)(Math.round(255*r),Math.round(255*l),Math.round(255*d),h),g=new(0,c.Color)(p),f=yield(0,a.getColorPresentations)(e,t,n,s.CancellationToken.None),v=new(0,u.ColorPickerModel)(g,[],0);return v.colorPresentations=f||[],v.guessColorPresentation(g,i),new m(this,o.Range.lift(t.range),v,n)}))}renderHoverParts(e,t,n){if(0===e.length||!this._editor.hasModel())return i.Disposable.None;const r=new(0,i.DisposableStore),l=e[0],c=this._editor.getModel(),u=l.model,h=r.add(new(0,d.ColorPickerWidget)(t,u,this._editor.getOption(127),this._themeService));let p=new(0,o.Range)(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);const g=()=>{let e,t;if(u.presentation.textEdit){e=[u.presentation.textEdit],t=new(0,o.Range)(u.presentation.textEdit.range.startLineNumber,u.presentation.textEdit.range.startColumn,u.presentation.textEdit.range.endLineNumber,u.presentation.textEdit.range.endColumn);const n=this._editor.getModel()._setTrackedRange(null,t,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e),t=this._editor.getModel()._getTrackedRange(n)||t}else e=[{identifier:null,range:p,text:u.presentation.label,forceMoveMarkers:!1}],t=p.setEndPosition(p.endLineNumber,p.startColumn+u.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",e);u.presentation.additionalTextEdits&&(e=[...u.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",e),this._hover.hide()),this._editor.pushUndoStop(),p=t},f=e=>(0,a.getColorPresentations)(c,{range:p,color:{red:e.rgba.r/255,green:e.rgba.g/255,blue:e.rgba.b/255,alpha:e.rgba.a}},l.provider,s.CancellationToken.None).then((e=>{u.colorPresentations=e||[]}));return r.add(u.onColorFlushed((e=>{f(e).then(g)}))),r.add(u.onDidChangeColor(f)),this._hover.setColorPicker(h),r}constructor(e,t,n){this._editor=e,this._hover=t,this._themeService=n}};v=p([g(2,h.IThemeService)],v)})),r.register("30RNQ",(function(t,n){e(t.exports,"ColorPickerModel",(function(){return o}));var i=r("4zvzH");class o{get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let e=0;e<this.colorPresentations.length;e++)if(t.toLowerCase()===this.colorPresentations[e].label){this.presentationIndex=e,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new(0,i.Emitter),this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new(0,i.Emitter),this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new(0,i.Emitter),this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}}})),r.register("i2Phx",(function(t,n){e(t.exports,"ColorPickerWidget",(function(){return _}));var i=r("4x56y"),o=r("2vQKJ"),s=r("qMCPg"),a=r("dFrQ5"),l=r("2Jvmn"),c=r("4zvzH"),u=r("iNF8q"),d=r("5h6AG"),h=r("JzRxO");const p=o.$;class g extends u.Disposable{onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=l.Color.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:""}constructor(e,t,n){super(),this.model=t,this.domNode=p(".colorpicker-header"),o.append(e,this.domNode),this.pickedColorNode=o.append(this.domNode,p(".picked-color"));const i=o.append(this.domNode,p(".original-color"));i.style.backgroundColor=l.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(d.editorHoverBackground)||l.Color.white,this._register((0,h.registerThemingParticipant)(((e,t)=>{this.backgroundColor=e.getColor(d.editorHoverBackground)||l.Color.white}))),this._register(o.addDisposableListener(this.pickedColorNode,o.EventType.CLICK,(()=>this.model.selectNextColorPresentation()))),this._register(o.addDisposableListener(i,o.EventType.CLICK,(()=>{this.model.color=this.model.originalColor,this.model.flushColor()}))),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=l.Color.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter())}}class f extends u.Disposable{flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new(0,l.Color)(new(0,l.HSVA)(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new(0,l.Color)(new(0,l.HSVA)(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=360*(1-e);this.model.color=new(0,l.Color)(new(0,l.HSVA)(360===n?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=p(".colorpicker-body"),o.append(e,this.domNode),this.saturationBox=new m(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new b(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new y(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}}class m extends u.Disposable{onMouseDown(e){this.monitor=this._register(new(0,s.GlobalMouseMoveMonitor));const t=o.getDomNodePagePosition(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.buttons,s.standardMouseMoveMerger,(e=>this.onDidChangePosition(e.posx-t.left,e.posy-t.top)),(()=>null));const n=o.addDisposableGenericMouseUpListner(document,(()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)}),!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),i=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,i),this._onDidChange.fire({s:n,v:i})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new(0,l.Color)(new(0,l.HSVA)(e.h,1,1,1)),n=this.canvas.getContext("2d"),i=n.createLinearGradient(0,0,this.canvas.width,0);i.addColorStop(0,"rgba(255, 255, 255, 1)"),i.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),i.addColorStop(1,"rgba(255, 255, 255, 0)");const o=n.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=l.Color.Format.CSS.format(t),n.fill(),n.fillStyle=i,n.fill(),n.fillStyle=o,n.fill()}paintSelection(e,t){this.selection.style.left=e*this.width+"px",this.selection.style.top=this.height-t*this.height+"px"}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new(0,c.Emitter),this.onDidChange=this._onDidChange.event,this._onColorFlushed=new(0,c.Emitter),this.onColorFlushed=this._onColorFlushed.event,this.domNode=p(".saturation-wrap"),o.append(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",o.append(this.domNode,this.canvas),this.selection=p(".saturation-selection"),o.append(this.domNode,this.selection),this.layout(),this._register(o.addDisposableGenericMouseDownListner(this.domNode,(e=>this.onMouseDown(e)))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}}class v extends u.Disposable{layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onMouseDown(e){const t=this._register(new(0,s.GlobalMouseMoveMonitor)),n=o.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.buttons,s.standardMouseMoveMerger,(e=>this.onDidChangeTop(e.posy-n.top)),(()=>null));const i=o.addDisposableGenericMouseUpListner(document,(()=>{this._onColorFlushed.fire(),i.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")}),!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=(1-e)*this.height+"px"}constructor(e,t){super(),this.model=t,this._onDidChange=new(0,c.Emitter),this.onDidChange=this._onDidChange.event,this._onColorFlushed=new(0,c.Emitter),this.onColorFlushed=this._onColorFlushed.event,this.domNode=o.append(e,p(".strip")),this.overlay=o.append(this.domNode,p(".overlay")),this.slider=o.append(this.domNode,p(".slider")),this.slider.style.top="0px",this._register(o.addDisposableGenericMouseDownListner(this.domNode,(e=>this.onMouseDown(e)))),this.layout()}}class b extends v{onDidChangeColor(e){const{r:t,g:n,b:i}=e.rgba,o=new(0,l.Color)(new(0,l.RGBA)(t,n,i,1)),r=new(0,l.Color)(new(0,l.RGBA)(t,n,i,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${r} 100%)`}getValue(e){return e.hsva.a}constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}}class y extends v{getValue(e){return 1-e.hsva.h/360}constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}}class _ extends a.Widget{layout(){this.body.layout()}constructor(e,t,n,o){super(),this.model=t,this.pixelRatio=n,this._register((0,i.onDidChangeZoomLevel)((()=>this.layout())));const r=p(".colorpicker-widget");e.appendChild(r);const s=new g(r,this.model,o);this.body=new f(r,this.model,this.pixelRatio),this._register(s),this._register(this.body)}}})),r.register("5qkaX",(function(t,n){e(t.exports,"ModesGlyphHoverWidget",(function(){return p}));var i=r("2vQKJ"),o=r("aQY22"),s=r("iNF8q"),a=r("jMQt1"),l=r("kSapg"),c=r("itLZT"),u=r("1n4fF"),d=r("cCPZ6");class h{setLineNumber(e){this._lineNumber=e,this._result=[]}clearResult(){this._result=[]}computeSync(){const e=e=>({value:e}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const i of t){if(!i.options.glyphMarginClassName)continue;const t=i.options.glyphMarginHoverMessage;t&&!(0,o.isEmptyMarkdownString)(t)&&n.push(...(0,d.asArray)(t).map(e))}return n}onResult(e,t){this._result=this._result.concat(e)}getResult(){return this._result}getResultWithLoadingMessage(){return this.getResult()}constructor(e){this._editor=e,this._lineNumber=-1,this._result=[]}}class p extends l.GlyphHoverWidget{dispose(){this._hoverOperation.cancel(),super.dispose()}onModelDecorationsChanged(){this.isVisible&&(this._hoverOperation.cancel(),this._computer.clearResult(),this._hoverOperation.start(0))}startShowingAt(e){this._lastLineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._lastLineNumber=e,this._computer.setLineNumber(e),this._hoverOperation.start(0))}hide(){this._lastLineNumber=-1,this._hoverOperation.cancel(),super.hide()}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._lastLineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const e of t){const t=this._markdownRenderer.render(e.value);this._renderDisposeables.add(t),n.appendChild((0,i.$)("div.hover-row",void 0,t.element))}this.updateContents(n),this.showAt(e)}constructor(e,t,n=u.NullOpenerService){super(p.ID,e),this._renderDisposeables=this._register(new(0,s.DisposableStore)),this._messages=[],this._lastLineNumber=-1,this._markdownRenderer=this._register(new(0,c.MarkdownRenderer)({editor:this._editor},t,n)),this._computer=new h(this._editor),this._hoverOperation=new(0,a.HoverOperation)(this._computer,(e=>this._withResult(e)),void 0,(e=>this._withResult(e)),300)}}p.ID="editor.contrib.modesGlyphHoverWidget"})),r.register("kSapg",(function(t,n){e(t.exports,"GlyphHoverWidget",(function(){return o}));var i=r("dFrQ5");class o extends i.Widget{get isVisible(){return this._isVisible}set isVisible(e){this._isVisible=e,this._domNode.classList.toggle("hidden",!this._isVisible)}getId(){return this._id}getDomNode(){return this._domNode}showAt(e){this._showAtLineNumber=e,this.isVisible||(this.isVisible=!0);const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(this._showAtLineNumber),i=this._editor.getScrollTop(),o=this._editor.getOption(57),r=n-i-(this._domNode.clientHeight-o)/2;this._domNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._domNode.style.top=`${Math.max(Math.round(r),0)}px`}hide(){this.isVisible&&(this.isVisible=!1)}getPosition(){return null}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}updateFont(){[...Array.prototype.slice.call(this._domNode.getElementsByTagName("code")),...Array.prototype.slice.call(this._domNode.getElementsByClassName("code"))].forEach((e=>this._editor.applyFontInfo(e)))}updateContents(e){this._domNode.textContent="",this._domNode.appendChild(e),this.updateFont()}constructor(e,t){super(),this._id=e,this._editor=t,this._isVisible=!1,this._domNode=document.createElement("div"),this._domNode.className="monaco-hover hidden",this._domNode.setAttribute("aria-hidden","true"),this._domNode.setAttribute("role","tooltip"),this._showAtLineNumber=-1,this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(41)&&this.updateFont()}))),this._editor.addOverlayWidget(this)}}})),r.register("a6pAG",(function(t,n){e(t.exports,"GotoDefinitionAtPositionEditorContribution",(function(){return E}),(function(e){return E=e}));var i=r("9LBxC"),o=r("6wKox"),s=r("2zf51"),a=r("aQY22"),l=r("ezXom"),c=r("dSV0M"),u=r("aZciE"),d=r("eh64S"),h=r("eRvcJ"),p=r("iNF8q"),g=r("d0Qsb"),f=r("JzRxO"),m=r("5h6AG"),v=r("dGvPd"),b=r("iAoUI"),y=r("ulvi1"),_=r("aGBCV"),C=r("6cqQ7"),x=r("8vSMk"),S=r("1N08n"),w=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){return function(n,i){t(n,i,e)}};let E=class e{static get(t){return t.getContribution(e.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then((()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition((()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()}))),this.toUnhookForKeyboard.add(this.editor.onKeyDown((e=>{e&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())})))}))}startFindDefinitionFromMouse(e,t){if(9===e.target.type&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t))return this.currentWordAtPosition=null,void this.removeLinkDecorations();const n=e.target.position;this.startFindDefinition(n)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?null===(t=this.editor.getModel())||void 0===t?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;let r=new(0,v.EditorState)(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,o.createCancelablePromise)((t=>this.findDefinition(e,t))),this.previousPromise.then((t=>{if(t&&t.length&&r.validate(this.editor))if(t.length>1)this.addDecoration(new(0,c.Range)(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),(new(0,a.MarkdownString)).appendText(i.localize("multipleResults","Click to show {0} definitions.",t.length)));else{let i=t[0];if(!i.uri)return;this.textModelResolverService.createModelReference(i.uri).then((t=>{if(!t.object||!t.object.textEditorModel)return void t.dispose();const{object:{textEditorModel:o}}=t,{startLineNumber:r}=i.range;if(r<1||r>o.getLineCount())return void t.dispose();const s=this.getPreviewValue(o,r,i);let l;l=i.originSelectionRange?c.Range.lift(i.originSelectionRange):new(0,c.Range)(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const u=this.modeService.getModeIdByFilepathOrFirstLine(o.uri);this.addDecoration(l,(new(0,a.MarkdownString)).appendCodeblock(u||"",s)),t.dispose()}))}else this.removeLinkDecorations()})).then(void 0,s.onUnexpectedError)}getPreviewValue(t,n,i){let o=i.targetSelectionRange?i.range:this.getPreviewRangeBasedOnBrackets(t,n);o.endLineNumber-o.startLineNumber>=e.MAX_SOURCE_PREVIEW_LINES&&(o=this.getPreviewRangeBasedOnIndentation(t,n));return this.stripIndentationFromPreviewRange(t,n,o)}stripIndentationFromPreviewRange(e,t,n){let i=e.getLineFirstNonWhitespaceColumn(t);for(let o=t+1;o<n.endLineNumber;o++){const t=e.getLineFirstNonWhitespaceColumn(o);i=Math.min(i,t)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${i-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(t,n){const i=t.getLineFirstNonWhitespaceColumn(n),o=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES);let r=n+1;for(;r<o;r++){if(i===t.getLineFirstNonWhitespaceColumn(r))break}return new(0,c.Range)(n,1,r+1,1)}getPreviewRangeBasedOnBrackets(t,n){const i=Math.min(t.getLineCount(),n+e.MAX_SOURCE_PREVIEW_LINES),o=[];let r=!0,s=t.findNextBracket(new(0,_.Position)(n,1));for(;null!==s;){if(0===o.length)o.push(s);else{const e=o[o.length-1];if(e.open[0]===s.open[0]&&e.isOpen&&!s.isOpen?o.pop():o.push(s),0===o.length){if(!r)return new(0,c.Range)(n,1,s.range.endLineNumber+1,1);r=!1}}const e=t.getLineMaxColumn(n);let a=s.range.endLineNumber,l=s.range.endColumn;if(e===s.range.endColumn&&(a++,l=1),a>i)return new(0,c.Range)(n,1,i+1,1);s=t.findNextBracket(new(0,_.Position)(a,l))}return new(0,c.Range)(n,1,i+1,1)}addDecoration(e,t){const n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[n])}removeLinkDecorations(){this.linkDecorations.length>0&&(this.linkDecorations=this.editor.deltaDecorations(this.linkDecorations,[]))}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&6===e.target.type&&(e.hasTriggerModifier||!!t&&t.keyCodeIsTriggerKey)&&u.DefinitionProviderRegistry.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?(0,h.getDefinitionsAtPosition)(n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext((e=>{const n=!t&&this.editor.getOption(76)&&!this.isInPeekEditor(e);return new(0,b.DefinitionAction)({openToSide:t,openInPeek:n,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(e,this.editor)}))}isInPeekEditor(e){const t=e.get(S.IContextKeyService);return x.PeekContext.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}constructor(e,t,n){this.textModelResolverService=t,this.modeService=n,this.toUnhook=new(0,p.DisposableStore),this.toUnhookForKeyboard=new(0,p.DisposableStore),this.linkDecorations=[],this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e;let i=new(0,y.ClickLinkGesture)(e);this.toUnhook.add(i),this.toUnhook.add(i.onMouseMoveOrRelevantKeyDown((([e,t])=>{this.startFindDefinitionFromMouse(e,(0,C.withNullAsUndefined)(t))}))),this.toUnhook.add(i.onExecute((e=>{this.isEnabled(e)&&this.gotoDefinition(e.target.position,e.hasSideBySideModifier).then((()=>{this.removeLinkDecorations()}),(e=>{this.removeLinkDecorations(),(0,s.onUnexpectedError)(e)}))}))),this.toUnhook.add(i.onCancel((()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null})))}};E.ID="editor.contrib.gotodefinitionatposition",E.MAX_SOURCE_PREVIEW_LINES=8,E=w([k(1,g.ITextModelService),k(2,l.IModeService)],E),(0,d.registerEditorContribution)(E.ID,E),(0,f.registerThemingParticipant)(((e,t)=>{const n=e.getColor(m.editorActiveLinkForeground);n&&t.addRule(`.monaco-editor .goto-definition-link { color: ${n} !important; }`)}))})),r.register("eRvcJ",(function(t,n){e(t.exports,"getDefinitionsAtPosition",(function(){return d}),(function(e){return d=e})),e(t.exports,"getDeclarationsAtPosition",(function(){return h}),(function(e){return h=e})),e(t.exports,"getImplementationsAtPosition",(function(){return p}),(function(e){return p=e})),e(t.exports,"getTypeDefinitionsAtPosition",(function(){return g}),(function(e){return g=e})),e(t.exports,"getReferencesAtPosition",(function(){return f}),(function(e){return f=e}));var i=r("dq3o1"),o=r("2zf51"),s=r("eh64S"),a=r("aZciE"),l=r("ktTru"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function u(e,t,n,i){const r=n.ordered(e).map((n=>Promise.resolve(i(n,e,t)).then(void 0,(e=>{(0,o.onUnexpectedExternalError)(e)}))));return Promise.all(r).then((e=>{const t=[];for(let n of e)Array.isArray(n)?t.push(...n):n&&t.push(n);return t}))}function d(e,t,n){return u(e,t,a.DefinitionProviderRegistry,((e,t,i)=>e.provideDefinition(t,i,n)))}function h(e,t,n){return u(e,t,a.DeclarationProviderRegistry,((e,t,i)=>e.provideDeclaration(t,i,n)))}function p(e,t,n){return u(e,t,a.ImplementationProviderRegistry,((e,t,i)=>e.provideImplementation(t,i,n)))}function g(e,t,n){return u(e,t,a.TypeDefinitionProviderRegistry,((e,t,i)=>e.provideTypeDefinition(t,i,n)))}function f(e,t,n,i){return u(e,t,a.ReferenceProviderRegistry,((e,t,o)=>c(this,void 0,void 0,(function*(){const r=yield e.provideReferences(t,o,{includeDeclaration:!0},i);if(!n||!r||2!==r.length)return r;const s=yield e.provideReferences(t,o,{includeDeclaration:!1},i);return s&&1===s.length?s:r}))))}function m(e){return c(this,void 0,void 0,(function*(){const t=yield e(),n=new(0,l.ReferencesModel)(t,""),i=n.references.map((e=>e.link));return n.dispose(),i}))}(0,s.registerModelAndPositionCommand)("_executeDefinitionProvider",((e,t)=>m((()=>d(e,t,i.CancellationToken.None))))),(0,s.registerModelAndPositionCommand)("_executeDeclarationProvider",((e,t)=>m((()=>h(e,t,i.CancellationToken.None))))),(0,s.registerModelAndPositionCommand)("_executeImplementationProvider",((e,t)=>m((()=>p(e,t,i.CancellationToken.None))))),(0,s.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",((e,t)=>m((()=>g(e,t,i.CancellationToken.None))))),(0,s.registerModelAndPositionCommand)("_executeReferenceProvider",((e,t)=>m((()=>f(e,t,!1,i.CancellationToken.None)))))})),r.register("ktTru",(function(t,n){e(t.exports,"OneReference",(function(){return g}),(function(e){return g=e})),e(t.exports,"FileReferences",(function(){return m}),(function(e){return m=e})),e(t.exports,"ReferencesModel",(function(){return v}),(function(e){return v=e}));var i=r("9LBxC"),o=r("4zvzH"),s=r("d8krI"),a=r("iNF8q"),l=r("78mNz"),c=r("3TqE5"),u=r("dSV0M"),d=r("bngWv"),h=r("2zf51"),p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class g{get uri(){return this.link.uri}get range(){var e,t;return null!==(t=null!==(e=this._range)&&void 0!==e?e:this.link.targetSelectionRange)&&void 0!==t?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=null===(e=this.parent.getPreview(this))||void 0===e?void 0:e.preview(this.range);return t?(0,i.localize)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,s.basename)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,i.localize)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,s.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}constructor(e,t,n,i){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=i,this.id=c.defaultGenerator.nextId()}}class f{dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:i,startColumn:o,endLineNumber:r,endColumn:s}=e,a=n.getWordUntilPosition({lineNumber:i,column:o-t}),l=new(0,u.Range)(i,a.startColumn,i,o),c=new(0,u.Range)(r,s,r,1073741824),d=n.getValueInRange(l).replace(/^\s+/,""),h=n.getValueInRange(e);return{value:d+h+n.getValueInRange(c).replace(/\s+$/,""),highlight:{start:d.length,end:d.length+h.length}}}constructor(e){this._modelReference=e}}class m{dispose(){(0,a.dispose)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return 1===e?(0,i.localize)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,s.basename)(this.uri),this.uri.fsPath):(0,i.localize)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,s.basename)(this.uri),this.uri.fsPath)}resolve(e){return p(this,void 0,void 0,(function*(){if(0!==this._previews.size)return this;for(let t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new f(n))}catch(e){(0,h.onUnexpectedError)(e)}return this}))}constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new(0,d.ResourceMap)}}class v{dispose(){(0,a.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new v(this._links,this._title)}get title(){return this._title}get isEmpty(){return 0===this.groups.length}get ariaMessage(){return this.isEmpty?(0,i.localize)("aria.result.0","No results found"):1===this.references.length?(0,i.localize)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):1===this.groups.length?(0,i.localize)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,i.localize)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){let{parent:n}=e,i=n.children.indexOf(e),o=n.children.length,r=n.parent.groups.length;return 1===r||t&&i+1<o||!t&&i>0?(i=t?(i+1)%o:(i+o-1)%o,n.children[i]):(i=n.parent.groups.indexOf(n),t?(i=(i+1)%r,n.parent.groups[i].children[0]):(i=(i+r-1)%r,n.parent.groups[i].children[n.parent.groups[i].children.length-1]))}nearestReference(e,t){const n=this.references.map(((n,i)=>({idx:i,prefixLen:l.commonPrefixLength(n.uri.toString(),e.toString()),offsetDist:100*Math.abs(n.range.startLineNumber-t.lineNumber)+Math.abs(n.range.startColumn-t.column)}))).sort(((e,t)=>e.prefixLen>t.prefixLen?-1:e.prefixLen<t.prefixLen?1:e.offsetDist<t.offsetDist?-1:e.offsetDist>t.offsetDist?1:0))[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&u.Range.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return s.extUri.compare(e.uri,t.uri)||u.Range.compareRangesUsingStarts(e.range,t.range)}constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new(0,o.Emitter),this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;let i;e.sort(v._compareReferences);for(let t of e)if(i&&s.extUri.isEqual(i.uri,t.uri,!0)||(i=new m(this,t.uri),this.groups.push(i)),0===i.children.length||0!==v._compareReferences(t,i.children[i.children.length-1])){const e=new g(n===t,i,t,(e=>this._onDidChangeReferenceRange.fire(e)));this.references.push(e),i.children.push(e)}}}})),r.register("iAoUI",(function(t,n){e(t.exports,"DefinitionAction",(function(){return U}),(function(e){return U=e}));var i,o,s,a,l,c,u,d,h=r("4waad"),p=r("6wKox"),g=r("izshX"),f=r("cexwY"),m=r("7G0Yx"),v=r("eh64S"),b=r("7yAvG"),y=r("aGBCV"),_=r("dSV0M"),C=r("igipX"),x=r("aZciE"),S=r("j3sMg"),w=r("8vSMk"),k=r("20sZs"),E=r("ktTru"),D=r("9LBxC"),I=r("d8eAn"),A=r("1N08n"),R=r("hYVHb"),L=r("cIR7X"),M=r("eRvcJ"),T=r("7YObE"),N=r("dGvPd"),P=r("1K4HB"),O=r("4x56y"),F=r("65vvd"),z=r("blTDv"),B=r("6cqQ7"),H=r("3F47k"),W=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};I.MenuRegistry.appendMenuItem(I.MenuId.EditorContext,{submenu:I.MenuId.EditorContextPeek,title:D.localize("peek.submenu","Peek"),group:"navigation",order:100});const j=new Set;function V(e){const t=new e;return(0,v.registerInstantiatedEditorAction)(t),j.add(t.id),t}class K extends v.EditorAction{run(e,t){if(!t.hasModel())return Promise.resolve(void 0);const n=e.get(R.INotificationService),i=e.get(b.ICodeEditorService),o=e.get(L.IEditorProgressService),r=e.get(P.ISymbolNavigationService),s=t.getModel(),a=t.getPosition(),l=new(0,N.EditorStateCancellationTokenSource)(t,5),c=(0,p.raceCancellation)(this._getLocationModel(s,a,l.token),l.token).then((e=>W(this,void 0,void 0,(function*(){if(!e||l.token.isCancellationRequested)return;let n;if((0,h.alert)(e.ariaMessage),e.referenceAt(s.uri,a)){const e=this._getAlternativeCommand(t);e!==this.id&&j.has(e)&&(n=t.getAction(e))}const o=e.references.length;if(0===o){if(!this._configuration.muteMessage){const e=s.getWordAtPosition(a);S.MessageController.get(t).showMessage(this._getNoResultFoundMessage(e),a)}}else{if(1!==o||!n)return this._onResult(i,r,t,e);n.run()}}))),(e=>{n.error(e)})).finally((()=>{l.dispose()}));return o.showWhile(c,250),c}_onResult(e,t,n,i){return W(this,void 0,void 0,(function*(){const o=this._getGoToPreference(n);if(n instanceof H.EmbeddedCodeEditorWidget||!(this._configuration.openInPeek||"peek"===o&&i.references.length>1)){const r=i.firstReference(),s=i.references.length>1&&"gotoAndPeek"===o,a=yield this._openReference(n,e,r,this._configuration.openToSide,!s);s&&a?this._openInPeek(a,i):i.dispose(),"goto"===o&&t.put(r)}else this._openInPeek(n,i)}))}_openReference(e,t,n,i,o){return W(this,void 0,void 0,(function*(){let r;if((0,x.isLocationLink)(n)&&(r=n.targetSelectionRange),r||(r=n.range),!r)return;const s=yield t.openCodeEditor({resource:n.uri,options:{selection:_.Range.collapseToStart(r),selectionRevealType:3}},e,i);if(s){if(o){const e=s.getModel(),t=s.deltaDecorations([],[{range:r,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout((()=>{s.getModel()===e&&s.deltaDecorations(t,[])}),350)}return s}}))}_openInPeek(e,t){let n=k.ReferencesController.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,p.createCancelablePromise)((e=>Promise.resolve(t))),this._configuration.openInPeek):t.dispose()}constructor(e,t){super(t),this._configuration=e}}class U extends K{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getDefinitionsAtPosition)(e,t,n),D.localize("def.title","Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?D.localize("noResultWord","No definition found for '{0}'",e.word):D.localize("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(48).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(48).multipleDefinitions}}const q=f.isWeb&&!O.isStandalone?2118:70;V(((i=class e extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:D.localize("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasDefinitionProvider,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:q,weight:100},contextMenuOpts:{group:"navigation",order:1.1},menuOpts:{menuId:I.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:2,title:D.localize({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")}}),T.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",e.id)}}).id="editor.action.revealDefinition",i)),V(((o=class e extends U{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:e.id,label:D.localize("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasDefinitionProvider,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:(0,g.KeyChord)(2089,q),weight:100}}),T.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",e.id)}}).id="editor.action.revealDefinitionAside",o)),V(((s=class e extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.id,label:D.localize("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasDefinitionProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:I.MenuId.EditorContextPeek,group:"peek",order:2}}),T.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",e.id)}}).id="editor.action.peekDefinition",s));class $ extends K{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getDeclarationsAtPosition)(e,t,n),D.localize("decl.title","Declarations"))}))}_getNoResultFoundMessage(e){return e&&e.word?D.localize("decl.noResultWord","No declaration found for '{0}'",e.word):D.localize("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(48).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(48).multipleDeclarations}}V(((a=class e extends ${_getNoResultFoundMessage(e){return e&&e.word?D.localize("decl.noResultWord","No declaration found for '{0}'",e.word):D.localize("decl.generic.noResults","No declaration found")}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.id,label:D.localize("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasDeclarationProvider,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3},menuOpts:{menuId:I.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:D.localize({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")}})}}).id="editor.action.revealDeclaration",a)),V(class extends ${constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:D.localize("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasDeclarationProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.MenuId.EditorContextPeek,group:"peek",order:3}})}});class G extends K{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getTypeDefinitionsAtPosition)(e,t,n),D.localize("typedef.title","Type Definitions"))}))}_getNoResultFoundMessage(e){return e&&e.word?D.localize("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):D.localize("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(48).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(48).multipleTypeDefinitions}}V(((l=class e extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:D.localize("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasTypeDefinitionProvider,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4},menuOpts:{menuId:I.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:3,title:D.localize({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")}})}}).ID="editor.action.goToTypeDefinition",l)),V(((c=class e extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:D.localize("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasTypeDefinitionProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.MenuId.EditorContextPeek,group:"peek",order:4}})}}).ID="editor.action.peekTypeDefinition",c));class Q extends K{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getImplementationsAtPosition)(e,t,n),D.localize("impl.title","Implementations"))}))}_getNoResultFoundMessage(e){return e&&e.word?D.localize("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):D.localize("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(48).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(48).multipleImplementations}}V(((u=class e extends Q{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:e.ID,label:D.localize("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasImplementationProvider,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menuOpts:{menuId:I.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:4,title:D.localize({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},contextMenuOpts:{group:"navigation",order:1.45}})}}).ID="editor.action.goToImplementation",u)),V(((d=class e extends Q{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:e.ID,label:D.localize("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasImplementationProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:I.MenuId.EditorContextPeek,group:"peek",order:5}})}}).ID="editor.action.peekImplementation",d));class X extends K{_getNoResultFoundMessage(e){return e?D.localize("references.no","No references found for '{0}'",e.word):D.localize("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(48).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(48).multipleReferences}}V(class extends X{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getReferencesAtPosition)(e,t,!0,n),D.localize("ref.title","References"))}))}constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:D.localize("goToReferences.label","Go to References"),alias:"Go to References",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasReferenceProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45},menuOpts:{menuId:I.MenuId.MenubarGoMenu,group:"4_symbol_nav",order:5,title:D.localize({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")}})}}),V(class extends X{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(yield(0,M.getReferencesAtPosition)(e,t,!1,n),D.localize("ref.title","References"))}))}constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:D.localize("references.action.label","Peek References"),alias:"Peek References",precondition:A.ContextKeyExpr.and(C.EditorContextKeys.hasReferenceProvider,w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:I.MenuId.EditorContextPeek,group:"peek",order:6}})}});class Z extends K{_getLocationModel(e,t,n){return W(this,void 0,void 0,(function*(){return new(0,E.ReferencesModel)(this._references,D.localize("generic.title","Locations"))}))}_getNoResultFoundMessage(e){return e&&D.localize("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return null!==(t=this._gotoMultipleBehaviour)&&void 0!==t?t:e.getOption(48).multipleReferences}_getAlternativeCommand(){return""}constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:D.localize("label.generic","Go To Any Symbol"),alias:"Go To Any Symbol",precondition:A.ContextKeyExpr.and(w.PeekContext.notInPeekEditor,C.EditorContextKeys.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}}T.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:F.URI},{name:"position",description:"The position at which to start",constraint:y.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(e,t,n,i,o,r,s)=>W(void 0,void 0,void 0,(function*(){(0,B.assertType)(F.URI.isUri(t)),(0,B.assertType)(y.Position.isIPosition(n)),(0,B.assertType)(Array.isArray(i)),(0,B.assertType)(void 0===o||"string"==typeof o),(0,B.assertType)(void 0===s||"boolean"==typeof s);const a=e.get(b.ICodeEditorService),l=yield a.openCodeEditor({resource:t},a.getFocusedCodeEditor());if((0,m.isCodeEditor)(l))return l.setPosition(n),l.revealPositionInCenterIfOutsideViewport(n,0),l.invokeWithinContext((e=>{const t=new class extends Z{_getNoResultFoundMessage(e){return r||super._getNoResultFoundMessage(e)}}({muteMessage:!Boolean(r),openInPeek:Boolean(s),openToSide:!1},i,o);e.get(z.IInstantiationService).invokeFunction(t.run.bind(t),l)}))}))}),T.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:F.URI},{name:"position",description:"The position at which to start",constraint:y.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(e,t,n,i,o)=>W(void 0,void 0,void 0,(function*(){e.get(T.ICommandService).executeCommand("editor.action.goToLocations",t,n,i,o,void 0,!0)}))}),T.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(e,t,n)=>{(0,B.assertType)(F.URI.isUri(t)),(0,B.assertType)(y.Position.isIPosition(n));const i=e.get(b.ICodeEditorService);return i.openCodeEditor({resource:t},i.getFocusedCodeEditor()).then((e=>{if(!(0,m.isCodeEditor)(e)||!e.hasModel())return;const t=k.ReferencesController.get(e);if(!t)return;const i=(0,p.createCancelablePromise)((t=>(0,M.getReferencesAtPosition)(e.getModel(),y.Position.lift(n),!1,t).then((e=>new(0,E.ReferencesModel)(e,D.localize("ref.title","References")))))),o=new(0,_.Range)(n.lineNumber,n.column,n.lineNumber,n.column);return Promise.resolve(t.toggleWidget(o,i,!1))}))}}),T.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")})),r.register("20sZs",(function(t,n){e(t.exports,"ReferencesController",(function(){return D}),(function(e){return D=e}));var i=r("9LBxC"),o=r("2zf51"),s=r("iNF8q"),a=r("7yAvG"),l=r("blTDv"),c=r("1N08n"),u=r("3ufSI"),d=r("1mptJ"),h=r("ktTru"),p=r("ehJq7"),g=r("dSV0M"),f=r("aGBCV"),m=r("hYVHb"),v=r("6wKox"),b=r("8vSMk"),y=r("7NNw9"),_=r("ft1dr"),C=r("izshX"),x=r("7YObE"),S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){return function(n,i){t(n,i,e)}},k=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const E=new(0,c.RawContextKey)("referenceSearchVisible",!1,i.localize("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let D=class e{static get(t){return t.getContribution(e.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),null===(e=this._widget)||void 0===e||e.dispose(),null===(t=this._model)||void 0===t||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let o;if(this._widget&&(o=this._widget.position),this.closeWidget(),o&&e.containsPosition(o))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage((()=>{this.closeWidget()}))),this._disposables.add(this._editor.onDidChangeModel((()=>{this._ignoreModelChangeEvent||this.closeWidget()})));const r="peekViewLayout",s=p.LayoutData.fromJSON(this._storageService.get(r,0,"{}"));this._widget=this._instantiationService.createInstance(p.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,s),this._widget.setTitle(i.localize("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose((()=>{t.cancel(),this._widget&&(this._storageService.store(r,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()}))),this._disposables.add(this._widget.onDidSelectReference((e=>{let{element:t,kind:i}=e;if(t)switch(i){case"open":"editor"===e.source&&this._configurationService.getValue("editor.stablePeek")||this.openReference(t,!1,!1);break;case"side":this.openReference(t,!0,!1);break;case"goto":n?this._gotoReference(t):this.openReference(t,!1,!0)}})));const a=++this._requestIdPool;t.then((t=>{var n;if(a===this._requestIdPool&&this._widget)return null===(n=this._model)||void 0===n||n.dispose(),this._model=t,this._widget.setModel(this._model).then((()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(i.localize("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));let t=this._editor.getModel().uri,n=new(0,f.Position)(e.startLineNumber,e.startColumn),o=this._model.nearestReference(t,n);if(o)return this._widget.setSelection(o).then((()=>{this._widget&&"editor"===this._editor.getOption(75)&&this._widget.focusOnPreviewEditor()}))}}));t.dispose()}),(e=>{this._notificationService.error(e)}))}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return k(this,void 0,void 0,(function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const i=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),r=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(i),yield this._gotoReference(i),o?this._editor.focus():this._widget&&r&&this._widget.focusOnPreviewEditor()}))}revealReference(e){return k(this,void 0,void 0,(function*(){this._editor.hasModel()&&this._model&&this._widget&&(yield this._widget.revealReference(e))}))}closeWidget(e=!0){var t,n;null===(t=this._widget)||void 0===t||t.dispose(),null===(n=this._model)||void 0===n||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(t){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const n=g.Range.lift(t.range).collapseToStart();return this._editorService.openCodeEditor({resource:t.uri,options:{selection:n}},this._editor).then((t=>{var i;if(this._ignoreModelChangeEvent=!1,t&&this._widget)if(this._editor===t)this._widget.show(n),this._widget.focusOnReferenceTree();else{const o=e.get(t),r=this._model.clone();this.closeWidget(),t.focus(),o.toggleWidget(n,(0,v.createCancelablePromise)((e=>Promise.resolve(r))),null!==(i=this._peekMode)&&void 0!==i&&i)}else this.closeWidget()}),(e=>{this._ignoreModelChangeEvent=!1,(0,o.onUnexpectedError)(e)}))}openReference(e,t,n){t||this.closeWidget();const{uri:i,range:o}=e;this._editorService.openCodeEditor({resource:i,options:{selection:o,pinned:n}},this._editor,t)}constructor(e,t,n,i,o,r,a,l){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=i,this._notificationService=o,this._instantiationService=r,this._storageService=a,this._configurationService=l,this._disposables=new(0,s.DisposableStore),this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=E.bindTo(n)}};function I(e,t){const n=(0,b.getOuterEditor)(e);if(!n)return;let i=D.get(n);i&&t(i)}D.ID="editor.contrib.referencesController",D=S([w(2,c.IContextKeyService),w(3,a.ICodeEditorService),w(4,m.INotificationService),w(5,l.IInstantiationService),w(6,d.IStorageService),w(7,u.IConfigurationService)],D),_.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,C.KeyChord)(2089,60),when:c.ContextKeyExpr.or(E,b.PeekContext.inPeekEditor),handler(e){I(e,(e=>{e.changeFocusBetweenPreviewAndReferences()}))}}),_.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:c.ContextKeyExpr.or(E,b.PeekContext.inPeekEditor),handler(e){I(e,(e=>{e.goToNextOrPreviousReference(!0)}))}}),_.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:c.ContextKeyExpr.or(E,b.PeekContext.inPeekEditor),handler(e){I(e,(e=>{e.goToNextOrPreviousReference(!1)}))}}),x.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),x.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),x.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),x.CommandsRegistry.registerCommand("closeReferenceSearch",(e=>I(e,(e=>e.closeWidget())))),_.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:c.ContextKeyExpr.and(b.PeekContext.inPeekEditor,c.ContextKeyExpr.not("config.editor.stablePeek"))}),_.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:c.ContextKeyExpr.and(E,c.ContextKeyExpr.not("config.editor.stablePeek"))}),_.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:c.ContextKeyExpr.and(E,y.WorkbenchListFocusContextKey),handler(e){var t;const n=null===(t=e.get(y.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof h.OneReference&&I(e,(e=>e.revealReference(n[0])))}}),_.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:c.ContextKeyExpr.and(E,y.WorkbenchListFocusContextKey),handler(e){var t;const n=null===(t=e.get(y.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof h.OneReference&&I(e,(e=>e.openReference(n[0],!0,!0)))}}),x.CommandsRegistry.registerCommand("openReference",(e=>{var t;const n=null===(t=e.get(y.IListService).lastFocusedList)||void 0===t?void 0:t.getFocus();Array.isArray(n)&&n[0]instanceof h.OneReference&&I(e,(e=>e.openReference(n[0],!1,!0)))}))})),r.register("ehJq7",(function(t,n){e(t.exports,"LayoutData",(function(){return R}),(function(e){return R=e})),e(t.exports,"ReferenceWidget",(function(){return M}),(function(e){return M=e}));var i=r("2vQKJ"),o=r("2Jvmn"),s=r("4zvzH"),a=r("iNF8q"),l=r("5KVQh"),c=r("d8krI"),u=r("3F47k"),d=r("dSV0M"),h=r("cVvMG"),p=r("d0Qsb"),g=r("c6QRH"),f=r("9LBxC"),m=r("blTDv"),v=r("3dE3O"),b=r("7NNw9"),y=r("5h6AG"),_=r("JzRxO"),C=r("8vSMk"),x=r("ktTru"),S=r("kAnCI"),w=r("cVCmg"),k=r("dEnIO"),E=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},D=function(e,t){return function(n,i){t(n,i,e)}},I=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class A{dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(e)for(let t of this._model.references)if(t.uri.toString()===e.uri.toString())return void this._addDecorations(t.parent)}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations((()=>this._onDecorationChanged())));const t=[],n=[];for(let i=0,o=e.children.length;i<o;i++){let o=e.children[i];this._decorationIgnoreSet.has(o.id)||o.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:o.range,options:A.DecorationOptions}),n.push(i))}const i=this._editor.deltaDecorations([],t);for(let t=0;t<i.length;t++)this._decorations.set(i[t],e.children[n[t]])}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(t){for(let[n,i]of this._decorations){const o=t.getDecorationRange(n);if(!o)continue;let r=!1;if(!d.Range.equalsRange(o,i.range)){if(d.Range.spansMultipleLines(o))r=!0;else{i.range.endColumn-i.range.startColumn!==o.endColumn-o.startColumn&&(r=!0)}r?(this._decorationIgnoreSet.add(i.id),e.push(n)):i.range=o}}for(let t=0,n=e.length;t<n;t++)this._decorations.delete(e[t]);this._editor.deltaDecorations(e,[])}}removeDecorations(){this._editor.deltaDecorations([...this._decorations.keys()],[]),this._decorations.clear()}constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new(0,a.DisposableStore),this._callOnModelChange=new(0,a.DisposableStore),this._callOnDispose.add(this._editor.onDidChangeModel((()=>this._onModelChanged()))),this._onModelChanged()}}A.DecorationOptions=h.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class R{static fromJSON(e){let t,n;try{const i=JSON.parse(e);t=i.ratio,n=i.heightInLines}catch(e){}return{ratio:t||.7,heightInLines:n||18}}constructor(){this.ratio=.7,this.heightInLines=18}}class L extends b.WorkbenchAsyncDataTree{}let M=class extends C.PeekViewWidget{dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,a.dispose)(this._preview),(0,a.dispose)(this._previewNotAvailableMessage),(0,a.dispose)(this._tree),(0,a.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor(C.peekViewBorder)||o.Color.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(C.peekViewTitleBackground)||o.Color.transparent,primaryHeadingColor:e.getColor(C.peekViewTitleForeground),secondaryHeadingColor:e.getColor(C.peekViewTitleInfoForeground)})}show(e){this.editor.revealRangeInCenterIfOutsideViewport(e,0),super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=i.append(e,i.$("div.messages")),i.hide(this._messageContainer),this._splitView=new(0,S.SplitView)(e,{orientation:1}),this._previewContainer=i.append(e,i.$("div.preview.inline"));this._preview=this._instantiationService.createInstance(u.EmbeddedCodeEditorWidget,this._previewContainer,{scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}},this.editor),i.hide(this._previewContainer),this._previewNotAvailableMessage=new(0,h.TextModel)(f.localize("missingPreviewMessage","no preview available"),h.TextModel.DEFAULT_CREATION_OPTIONS,null,null,this._undoRedoService),this._treeContainer=i.append(e,i.$("div.ref-tree.inline"));const t={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new(0,g.AccessibilityProvider),keyboardNavigationLabelProvider:this._instantiationService.createInstance(g.StringRepresentationProvider),identityProvider:new(0,g.IdentityProvider),openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:C.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(i.addStandardDisposableListener(this._treeContainer,"keydown",(e=>{e.equals(9)&&(this._keybindingService.dispatchEvent(e,e.target),e.stopPropagation())}),!0)),this._tree=this._instantiationService.createInstance(L,"ReferencesWidget",this._treeContainer,new(0,g.Delegate),[this._instantiationService.createInstance(g.FileReferencesRenderer),this._instantiationService.createInstance(g.OneReferenceRenderer)],this._instantiationService.createInstance(g.DataSource),t),this._splitView.addView({onDidChange:s.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:e=>{this._preview.layout({height:this._dim.height,width:e})}},S.Sizing.Distribute),this._splitView.addView({onDidChange:s.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:e=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${e}px`,this._tree.layout(this._dim.height,e)}},S.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange((()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)}),void 0));let n=(e,t)=>{e instanceof x.OneReference&&("show"===t&&this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:t,source:"tree"}))};this._tree.onDidOpen((e=>{e.sideBySide?n(e.element,"side"):e.editorOptions.pinned?n(e.element,"goto"):n(e.element,"show")})),i.hide(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new i.Dimension(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then((()=>{this._model&&(this._tree.setSelection([e]),this._tree.setFocus([e]))}))}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=f.localize("noResults","No results"),i.show(this._messageContainer),Promise.resolve(void 0)):(i.hide(this._messageContainer),this._decorationsManager=new A(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange((e=>this._tree.rerender(e)))),this._disposeOnNewModel.add(this._preview.onMouseDown((e=>{const{event:t,target:n}=e;if(2!==t.detail)return;const i=this._getFocusedReference();i&&this._onDidSelectReference.fire({element:{uri:i.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})}))),this.container.classList.add("results-loaded"),i.show(this._treeContainer),i.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(1===this._model.groups.length?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();return e instanceof x.OneReference?e:e instanceof x.FileReferences&&e.children.length>0?e.children[0]:void 0}revealReference(e){return I(this,void 0,void 0,(function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})}))}_revealReference(e,t){return I(this,void 0,void 0,(function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==l.Schemas.inMemory?this.setTitle((0,c.basenameOrAuthority)(e.uri),this._uriLabel.getUriLabel((0,c.dirname)(e.uri))):this.setTitle(f.localize("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent||(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent)),this._tree.reveal(e);const i=yield n;if(!this._model)return void i.dispose();(0,a.dispose)(this._previewModelReference);const o=i.object;if(o){const t=this._preview.getModel()===o.textEditorModel?0:1,n=d.Range.lift(e.range).collapseToStart();this._previewModelReference=i,this._preview.setModel(o.textEditorModel),this._preview.setSelection(n),this._preview.revealRangeInCenter(n,t)}else this._preview.setModel(this._previewNotAvailableMessage),i.dispose()}))}constructor(e,t,n,o,r,l,c,u,d,h){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0},l),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=r,this._instantiationService=l,this._peekViewService=c,this._uriLabel=u,this._undoRedoService=d,this._keybindingService=h,this._disposeOnNewModel=new(0,a.DisposableStore),this._callOnDispose=new(0,a.DisposableStore),this._onDidSelectReference=new(0,s.Emitter),this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new i.Dimension(0,0),this._applyTheme(o.getColorTheme()),this._callOnDispose.add(o.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}};M=E([D(3,_.IThemeService),D(4,p.ITextModelService),D(5,m.IInstantiationService),D(6,C.IPeekViewService),D(7,v.ILabelService),D(8,w.IUndoRedoService),D(9,k.IKeybindingService)],M),(0,_.registerThemingParticipant)(((e,t)=>{const n=e.getColor(C.peekViewResultsMatchHighlight);n&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { background-color: ${n}; }`);const i=e.getColor(C.peekViewEditorMatchHighlight);i&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { background-color: ${i}; }`);const o=e.getColor(C.peekViewEditorMatchHighlightBorder);o&&t.addRule(`.monaco-editor .reference-zone-widget .preview .reference-decoration { border: 2px solid ${o}; box-sizing: border-box; }`);const r=e.getColor(y.activeContrastBorder);r&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .referenceMatch .highlight { border: 1px dotted ${r}; box-sizing: border-box; }`);const s=e.getColor(C.peekViewResultsBackground);s&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { background-color: ${s}; }`);const a=e.getColor(C.peekViewResultsMatchForeground);a&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree { color: ${a}; }`);const l=e.getColor(C.peekViewResultsFileForeground);l&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .reference-file { color: ${l}; }`);const c=e.getColor(C.peekViewResultsSelectionBackground);c&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { background-color: ${c}; }`);const u=e.getColor(C.peekViewResultsSelectionForeground);u&&t.addRule(`.monaco-editor .reference-zone-widget .ref-tree .monaco-list:focus .monaco-list-rows > .monaco-list-row.selected:not(.highlighted) { color: ${u} !important; }`);const d=e.getColor(C.peekViewEditorBackground);d&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .monaco-editor-background,.monaco-editor .reference-zone-widget .preview .monaco-editor .inputarea.ime-input {\tbackground-color: ${d};}`);const h=e.getColor(C.peekViewEditorGutterBackground);h&&t.addRule(`.monaco-editor .reference-zone-widget .preview .monaco-editor .margin {\tbackground-color: ${h};}`)}))})),r.register("c6QRH",(function(t,n){e(t.exports,"DataSource",(function(){return x}),(function(e){return x=e})),e(t.exports,"Delegate",(function(){return S}),(function(e){return S=e})),e(t.exports,"FileReferencesRenderer",(function(){return D}),(function(e){return D=e})),e(t.exports,"OneReferenceRenderer",(function(){return A}),(function(e){return A=e})),e(t.exports,"StringRepresentationProvider",(function(){return w}),(function(e){return w=e})),e(t.exports,"IdentityProvider",(function(){return k}),(function(e){return k=e})),e(t.exports,"AccessibilityProvider",(function(){return R}),(function(e){return R=e}));var i=r("ktTru"),o=r("d0Qsb"),s=r("3dzQS"),a=r("7ojLh"),l=r("3dE3O"),c=r("JzRxO"),u=r("ftaJJ"),d=r("2vQKJ"),h=r("9LBxC"),p=r("yhcHt"),g=r("d8krI"),f=r("iNF8q"),m=r("blTDv"),v=r("dEnIO"),b=r("bZqqW"),y=r("cTqEU"),_=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},C=function(e,t){return function(n,i){t(n,i,e)}};let x=class{hasChildren(e){return e instanceof i.ReferencesModel||e instanceof i.FileReferences}getChildren(e){if(e instanceof i.ReferencesModel)return e.groups;if(e instanceof i.FileReferences)return e.resolve(this._resolverService).then((e=>e.children));throw new Error("bad tree")}constructor(e){this._resolverService=e}};x=_([C(0,o.ITextModelService)],x);class S{getHeight(){return 23}getTemplateId(e){return e instanceof i.FileReferences?D.id:A.id}}let w=class{getKeyboardNavigationLabel(e){var t;if(e instanceof i.OneReference){const n=null===(t=e.parent.getPreview(e))||void 0===t?void 0:t.preview(e.range);if(n)return n.value}return(0,g.basename)(e.uri)}constructor(e){this._keybindingService=e}};w=_([C(0,v.IKeybindingService)],w);class k{getId(e){return e instanceof i.OneReference?e.id:e.uri}}let E=class extends f.Disposable{set(e,t){let n=(0,g.dirname)(e.uri);this.file.setLabel((0,p.getBaseLabel)(e.uri),this._uriLabel.getUriLabel(n,{relative:!0}),{title:this._uriLabel.getUriLabel(e.uri),matches:t});const i=e.children.length;this.badge.setCount(i),i>1?this.badge.setTitleFormat((0,h.localize)("referencesCount","{0} references",i)):this.badge.setTitleFormat((0,h.localize)("referenceCount","{0} reference",i))}constructor(e,t,n){super(),this._uriLabel=t;const i=document.createElement("div");i.classList.add("reference-file"),this.file=this._register(new(0,s.IconLabel)(i,{supportHighlights:!0})),this.badge=new(0,a.CountBadge)(d.append(i,d.$(".count"))),this._register((0,u.attachBadgeStyler)(this.badge,n)),e.appendChild(i)}};E=_([C(1,l.ILabelService),C(2,c.IThemeService)],E);let D=class e{renderTemplate(e){return this._instantiationService.createInstance(E,e)}renderElement(e,t,n){n.set(e.element,(0,b.createMatches)(e.filterData))}disposeTemplate(e){e.dispose()}constructor(t){this._instantiationService=t,this.templateId=e.id}};D.id="FileReferencesRenderer",D=_([C(0,m.IInstantiationService)],D);class I{set(e,t){var n;const i=null===(n=e.parent.getPreview(e))||void 0===n?void 0:n.preview(e.range);if(i&&i.value){const{value:e,highlight:n}=i;t&&!b.FuzzyScore.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(e,(0,b.createMatches)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(e,[n]))}else this.label.set(`${(0,g.basename)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`)}constructor(e){this.label=new(0,y.HighlightedLabel)(e,!1)}}class A{renderTemplate(e){return new I(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(){}constructor(){this.templateId=A.id}}A.id="OneReferenceRenderer";class R{getWidgetAriaLabel(){return(0,h.localize)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}})),r.register("1K4HB",(function(t,n){e(t.exports,"ISymbolNavigationService",(function(){return _}),(function(e){return _=e}));var i=r("1N08n"),o=r("blTDv"),s=r("81WwP"),a=r("ft1dr"),l=r("eh64S"),c=r("7yAvG"),u=r("dSV0M"),d=r("iNF8q"),h=r("4zvzH"),p=r("9LBxC"),g=r("dEnIO"),f=r("hYVHb"),m=r("d8krI"),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},b=function(e,t){return function(n,i){t(n,i,e)}};const y=new(0,i.RawContextKey)("hasSymbols",!1,(0,p.localize)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),_=(0,o.createDecorator)("ISymbolNavigationService");let C=class{reset(){var e,t;this._ctxHasSymbols.reset(),null===(e=this._currentState)||void 0===e||e.dispose(),null===(t=this._currentMessage)||void 0===t||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1)return void this.reset();this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new x(this._editorService),i=n.onDidChange((e=>{if(this._ignoreEditorChange)return;const n=this._editorService.getActiveCodeEditor();if(!n)return;const i=n.getModel(),o=n.getPosition();if(!i||!o)return;let r=!1,s=!1;for(const e of t.references)if((0,m.isEqual)(e.uri,i.uri))r=!0,s=s||u.Range.containsPosition(e.range,o);else if(r)break;r&&s||this.reset()}));this._currentState=(0,d.combinedDisposable)(n,i)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:u.Range.collapseToStart(t.range),selectionRevealType:3}},e).finally((()=>{this._ignoreEditorChange=!1}))}_showMessage(){var e;null===(e=this._currentMessage)||void 0===e||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,p.localize)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,p.localize)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}constructor(e,t,n,i){this._editorService=t,this._notificationService=n,this._keybindingService=i,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=y.bindTo(e)}};C=v([b(0,i.IContextKeyService),b(1,c.ICodeEditorService),b(2,f.INotificationService),b(3,g.IKeybindingService)],C),(0,s.registerSingleton)(_,C,!0),(0,l.registerEditorCommand)(new class extends l.EditorCommand{runEditorCommand(e,t){return e.get(_).revealNext(t)}constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:y,kbOpts:{weight:100,primary:70}})}}),a.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:y,primary:9,handler(e){e.get(_).reset()}});let x=class{dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,d.dispose)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,d.combinedDisposable)(e.onDidChangeCursorPosition((t=>this._onDidChange.fire({editor:e}))),e.onDidChangeModelContent((t=>this._onDidChange.fire({editor:e})))))}_onDidRemoveEditor(e){var t;null===(t=this._listener.get(e))||void 0===t||t.dispose(),this._listener.delete(e)}constructor(e){this._listener=new Map,this._disposables=new(0,d.DisposableStore),this._onDidChange=new(0,h.Emitter),this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}};x=v([b(0,c.ICodeEditorService)],x)})),r.register("ulvi1",(function(t,n){e(t.exports,"ClickLinkGesture",(function(){return h}));var i=r("iNF8q"),o=r("4zvzH"),s=r("cexwY");function a(e,t){return!!e[t]}class l{constructor(e,t){this.target=e.target,this.hasTriggerModifier=a(e.event,t.triggerModifier),this.hasSideBySideModifier=a(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class c{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=a(e,t.triggerModifier)}}class u{equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}constructor(e,t,n,i){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=i}}function d(e){return"altKey"===e?s.isMacintosh?new u(57,"metaKey",6,"altKey"):new u(5,"ctrlKey",6,"altKey"):s.isMacintosh?new u(6,"altKey",57,"metaKey"):new u(6,"altKey",5,"ctrlKey")}class h extends i.Disposable{_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new(0,o.Emitter)),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new(0,o.Emitter)),this.onExecute=this._onExecute.event,this._onCancel=this._register(new(0,o.Emitter)),this.onCancel=this._onCancel.event,this._editor=e,this._opts=d(this._editor.getOption(68)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration((e=>{if(e.hasChanged(68)){const e=d(this._editor.getOption(68));if(this._opts.equals(e))return;this._opts=e,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}}))),this._register(this._editor.onMouseMove((e=>this._onEditorMouseMove(new l(e,this._opts))))),this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(new l(e,this._opts))))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(new l(e,this._opts))))),this._register(this._editor.onKeyDown((e=>this._onEditorKeyDown(new c(e,this._opts))))),this._register(this._editor.onKeyUp((e=>this._onEditorKeyUp(new c(e,this._opts))))),this._register(this._editor.onMouseDrag((()=>this._resetHandler()))),this._register(this._editor.onDidChangeCursorSelection((e=>this._onDidChangeCursorSelection(e)))),this._register(this._editor.onDidChangeModel((e=>this._resetHandler()))),this._register(this._editor.onDidChangeModelContent((()=>this._resetHandler()))),this._register(this._editor.onDidScrollChange((e=>{(e.scrollTopChanged||e.scrollLeftChanged)&&this._resetHandler()})))}}})),r.register("7jKGs",(function(e,t){var n=r("9LBxC"),i=r("izshX"),o=r("eh64S"),s=r("dSV0M"),a=r("igipX"),l=r("dNt5j"),c=r("6Zfpx"),u=r("d8eAn");class d extends o.EditorAction{run(e,t){if(!t.hasModel())return;const n=[],i=t.getModel().getOptions(),o=t.getOption(17),r=t.getSelections().map(((e,t)=>({selection:e,index:t,ignoreFirstLine:!1})));r.sort(((e,t)=>s.Range.compareRangesUsingStarts(e.selection,t.selection)));let a=r[0];for(let e=1;e<r.length;e++){const t=r[e];a.selection.endLineNumber===t.selection.startLineNumber&&(a.index<t.index?t.ignoreFirstLine=!0:(a.ignoreFirstLine=!0,a=t))}for(const e of r)n.push(new(0,c.LineCommentCommand)(e.selection,i.tabSize,this._type,o.insertSpace,o.ignoreEmptyLines,e.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this._type=e}}class h extends o.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getOption(17),i=[],o=t.getSelections();for(const e of o)i.push(new(0,l.BlockCommentCommand)(e,n.insertSpace));t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}constructor(){super({id:"editor.action.blockComment",label:n.localize("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:u.MenuId.MenubarEditMenu,group:"5_insert",title:n.localize({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}}(0,o.registerEditorAction)(class extends d{constructor(){super(0,{id:"editor.action.commentLine",label:n.localize("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:u.MenuId.MenubarEditMenu,group:"5_insert",title:n.localize({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}),(0,o.registerEditorAction)(class extends d{constructor(){super(1,{id:"editor.action.addCommentLine",label:n.localize("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,i.KeyChord)(2089,2081),weight:100}})}}),(0,o.registerEditorAction)(class extends d{constructor(){super(2,{id:"editor.action.removeCommentLine",label:n.localize("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:a.EditorContextKeys.writable,kbOpts:{kbExpr:a.EditorContextKeys.editorTextFocus,primary:(0,i.KeyChord)(2089,2099),weight:100}})}}),(0,o.registerEditorAction)(h)})),r.register("dNt5j",(function(t,n){e(t.exports,"BlockCommentCommand",(function(){return c}));var i=r("2zCwF"),o=r("aGBCV"),s=r("dSV0M"),a=r("e8gAb"),l=r("iD7e1");class c{static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const i=t.length;if(n+i>e.length)return!1;for(let o=0;o<i;o++){const i=e.charCodeAt(n+o),r=t.charCodeAt(o);if(i!==r&&!(i>=65&&i<=90&&i+32===r||r>=65&&r<=90&&r+32===i))return!1}return!0}_createOperationsForBlockComment(e,t,n,i,o,r){const a=e.startLineNumber,l=e.startColumn,u=e.endLineNumber,d=e.endColumn,h=o.getLineContent(a),p=o.getLineContent(u);let g,f=h.lastIndexOf(t,l-1+t.length),m=p.indexOf(n,d-1-n.length);if(-1!==f&&-1!==m)if(a===u){h.substring(f+t.length,m).indexOf(n)>=0&&(f=-1,m=-1)}else{const e=h.substring(f+t.length),i=p.substring(0,m);(e.indexOf(n)>=0||i.indexOf(n)>=0)&&(f=-1,m=-1)}-1!==f&&-1!==m?(i&&f+t.length<h.length&&32===h.charCodeAt(f+t.length)&&(t+=" "),i&&m>0&&32===p.charCodeAt(m-1)&&(n=" "+n,m-=1),g=c._createRemoveBlockCommentOperations(new(0,s.Range)(a,f+t.length+1,u,m+1),t,n)):(g=c._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=1===g.length?n:null);for(const e of g)r.addTrackedEditOperation(e.range,e.text)}static _createRemoveBlockCommentOperations(e,t,n){let o=[];return s.Range.isEmpty(e)?o.push(i.EditOperation.delete(new(0,s.Range)(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(o.push(i.EditOperation.delete(new(0,s.Range)(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),o.push(i.EditOperation.delete(new(0,s.Range)(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),o}static _createAddBlockCommentOperations(e,t,n,r){let a=[];return s.Range.isEmpty(e)?a.push(i.EditOperation.replace(new(0,s.Range)(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(a.push(i.EditOperation.insert(new(0,o.Position)(e.startLineNumber,e.startColumn),t+(r?" ":""))),a.push(i.EditOperation.insert(new(0,o.Position)(e.endLineNumber,e.endColumn),(r?" ":"")+n))),a}getEditOperations(e,t){const n=this._selection.startLineNumber,i=this._selection.startColumn;e.tokenizeIfCheap(n);const o=e.getLanguageIdAtPosition(n,i),r=l.LanguageConfigurationRegistry.getComments(o);r&&r.blockCommentStartToken&&r.blockCommentEndToken&&this._createOperationsForBlockComment(this._selection,r.blockCommentStartToken,r.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(2===n.length){const e=n[0],t=n[1];return new(0,a.Selection)(e.range.endLineNumber,e.range.endColumn,t.range.startLineNumber,t.range.startColumn)}{const e=n[0].range,t=this._usedEndToken?-this._usedEndToken.length-1:0;return new(0,a.Selection)(e.endLineNumber,e.endColumn+t,e.endLineNumber,e.endColumn+t)}}constructor(e,t){this._selection=e,this._insertSpace=t,this._usedEndToken=null}}})),r.register("6Zfpx",(function(t,n){e(t.exports,"LineCommentCommand",(function(){return d}));var i=r("78mNz"),o=r("2zCwF"),s=r("aGBCV"),a=r("dSV0M"),l=r("e8gAb"),c=r("iD7e1"),u=r("dNt5j");class d{static _gatherPreflightCommentStrings(e,t,n){e.tokenizeIfCheap(t);const i=e.getLanguageIdAtPosition(t,1),o=c.LanguageConfigurationRegistry.getComments(i),r=o?o.lineCommentToken:null;if(!r)return null;let s=[];for(let e=0,i=n-t+1;e<i;e++)s[e]={ignore:!1,commentStr:r,commentStrOffset:0,commentStrLength:r.length};return s}static _analyzeLines(e,t,n,o,r,s,a){let l,c=!0;l=0===e||1!==e;for(let d=0,h=o.length;d<h;d++){const h=o[d],p=r+d;if(p===r&&a){h.ignore=!0;continue}const g=n.getLineContent(p),f=i.firstNonWhitespaceIndex(g);if(-1!==f){if(c=!1,h.ignore=!1,h.commentStrOffset=f,l&&!u.BlockCommentCommand._haystackHasNeedleAtOffset(g,h.commentStr,f)&&(0===e?l=!1:1===e||(h.ignore=!0)),l&&t){const e=f+h.commentStrLength;e<g.length&&32===g.charCodeAt(e)&&(h.commentStrLength+=1)}}else h.ignore=s,h.commentStrOffset=g.length}if(0===e&&c){l=!1;for(let e=0,t=o.length;e<t;e++)o[e].ignore=!1}return{supported:!0,shouldRemoveComments:l,lines:o}}static _gatherPreflightData(e,t,n,i,o,r,s){const a=d._gatherPreflightCommentStrings(n,i,o);return null===a?{supported:!1}:d._analyzeLines(e,t,n,a,i,r,s)}_executeLineComments(e,t,n,i){let o;n.shouldRemoveComments?o=d._createRemoveLineCommentsOperations(n.lines,i.startLineNumber):(d._normalizeInsertionPoint(e,n.lines,i.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(n.lines,i.startLineNumber));const r=new(0,s.Position)(i.positionLineNumber,i.positionColumn);for(let n=0,i=o.length;n<i;n++)if(t.addEditOperation(o[n].range,o[n].text),a.Range.isEmpty(o[n].range)&&a.Range.getStartPosition(o[n].range).equals(r)){e.getLineContent(r.lineNumber).length+1===r.column&&(this._deltaColumn=(o[n].text||"").length)}this._selectionId=t.trackSelection(i)}_attemptRemoveBlockComment(e,t,n,i){let o=t.startLineNumber,r=t.endLineNumber,s=i.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn),l=e.getLineContent(o).lastIndexOf(n,s-1),c=e.getLineContent(r).indexOf(i,t.endColumn-1-n.length);return-1!==l&&-1===c&&(c=e.getLineContent(o).indexOf(i,l+n.length),r=o),-1===l&&-1!==c&&(l=e.getLineContent(r).lastIndexOf(n,c),o=r),!t.isEmpty()||-1!==l&&-1!==c||(l=e.getLineContent(o).indexOf(n),-1!==l&&(c=e.getLineContent(o).indexOf(i,l+n.length))),-1!==l&&32===e.getLineContent(o).charCodeAt(l+n.length)&&(n+=" "),-1!==c&&32===e.getLineContent(r).charCodeAt(c-1)&&(i=" "+i,c-=1),-1!==l&&-1!==c?u.BlockCommentCommand._createRemoveBlockCommentOperations(new(0,a.Range)(o,l+n.length+1,r,c+1),n,i):null}_executeBlockComment(e,t,n){e.tokenizeIfCheap(n.startLineNumber);let o=e.getLanguageIdAtPosition(n.startLineNumber,1),r=c.LanguageConfigurationRegistry.getComments(o);if(!r||!r.blockCommentStartToken||!r.blockCommentEndToken)return;const s=r.blockCommentStartToken,l=r.blockCommentEndToken;let d=this._attemptRemoveBlockComment(e,n,s,l);if(!d){if(n.isEmpty()){const t=e.getLineContent(n.startLineNumber);let o=i.firstNonWhitespaceIndex(t);-1===o&&(o=t.length),d=u.BlockCommentCommand._createAddBlockCommentOperations(new(0,a.Range)(n.startLineNumber,o+1,n.startLineNumber,t.length+1),s,l,this._insertSpace)}else d=u.BlockCommentCommand._createAddBlockCommentOperations(new(0,a.Range)(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),s,l,this._insertSpace);1===d.length&&(this._deltaColumn=s.length+1)}this._selectionId=t.trackSelection(n);for(const e of d)t.addEditOperation(e.range,e.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine)return t.addEditOperation(new(0,a.Range)(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":"\n"),void(this._selectionId=t.trackSelection(n));n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const i=d._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine);return i.supported?this._executeLineComments(e,t,i,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new(0,l.Selection)(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){let n=[];for(let i=0,r=e.length;i<r;i++){const r=e[i];r.ignore||n.push(o.EditOperation.delete(new(0,a.Range)(t+i,r.commentStrOffset+1,t+i,r.commentStrOffset+r.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){let n=[];const i=this._insertSpace?" ":"";for(let r=0,a=e.length;r<a;r++){const a=e[r];a.ignore||n.push(o.EditOperation.insert(new(0,s.Position)(t+r,a.commentStrOffset+1),a.commentStr+i))}return n}static nextVisibleColumn(e,t,n,i){return n?e+(t-e%t):e+i}static _normalizeInsertionPoint(e,t,n,i){let o,r,s=1073741824;for(let o=0,r=t.length;o<r;o++){if(t[o].ignore)continue;const r=e.getLineContent(n+o);let a=0;for(let e=0,n=t[o].commentStrOffset;a<s&&e<n;e++)a=d.nextVisibleColumn(a,i,9===r.charCodeAt(e),1);a<s&&(s=a)}s=Math.floor(s/i)*i;for(let a=0,l=t.length;a<l;a++){if(t[a].ignore)continue;const l=e.getLineContent(n+a);let c=0;for(o=0,r=t[a].commentStrOffset;c<s&&o<r;o++)c=d.nextVisibleColumn(c,i,9===l.charCodeAt(o),1);t[a].commentStrOffset=c>s?o-1:o}}constructor(e,t,n,i,o,r){this._selection=e,this._tabSize=t,this._type=n,this._insertSpace=i,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=o,this._ignoreFirstLine=r||!1}}})),r.register("jAFee",(function(e,t){var n=r("9LBxC"),i=r("2vQKJ"),o=r("8M7pz"),s=r("iNF8q"),a=r("eh64S"),l=r("igipX"),c=r("d8eAn"),u=r("1N08n"),d=r("hpGyO"),h=r("dEnIO"),p=r("kIDWE"),g=r("cexwY"),f=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){return function(n,i){t(n,i,e)}};let v=class e{static get(t){return t.getContribution(e.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(18))return this._editor.focus(),void(e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position));if(12===e.target.type)return;if(e.event.preventDefault(),6!==e.target.type&&7!==e.target.type&&1!==e.target.type)return;if(this._editor.focus(),e.target.position){let t=!1;for(const n of this._editor.getSelections())if(n.containsPosition(e.target.position)){t=!0;break}t||this._editor.setPosition(e.target.position)}let t=null;1!==e.target.type&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(18))return;if(!this._editor.hasModel())return;if(!this._contextMenuService)return void this._editor.focus();const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?c.MenuId.SimpleEditorContext:c.MenuId.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],i=this._menuService.createMenu(t,this._contextKeyService),r=i.getActions({arg:e.uri});i.dispose();for(let t of r){const[,i]=t;let r=0;for(const t of i)if(t instanceof c.SubmenuItemAction){const i=this._getMenuActions(e,t.item.submenu);i.length>0&&(n.push(new(0,o.SubmenuAction)(t.id,t.label,i)),r++)}else n.push(t),r++;r&&n.push(new(0,o.Separator))}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(51);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const e=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),n=i.getDomNodePagePosition(this._editor.getDomNode()),o=n.left+e.left,r=n.top+e.top+e.height;t={x:o,y:r}}const o=this._editor.getOption(113)&&!g.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:o?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:e=>{const t=this._keybindingFor(e);if(t)return new(0,p.ActionViewItem)(e,e,{label:!0,keybinding:t.getLabel(),isMenu:!0});const n=e;return"function"==typeof n.getActionViewItem?n.getActionViewItem():new(0,p.ActionViewItem)(e,e,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:e=>this._keybindingFor(e),onHide:e=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}constructor(e,t,n,o,r,a){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=o,this._keybindingService=r,this._menuService=a,this._toDispose=new(0,s.DisposableStore),this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu((e=>this._onContextMenu(e)))),this._toDispose.add(this._editor.onMouseWheel((e=>{if(this._contextMenuIsBeingShownCount>0){const t=this._contextViewService.getContextViewElement(),n=e.srcElement;n.shadowRoot&&i.getShadowRoot(t)===n.shadowRoot||this._contextViewService.hideContextView()}}))),this._toDispose.add(this._editor.onKeyDown((e=>{58===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.showContextMenu())})))}};v.ID="editor.contrib.contextmenu",v=f([m(1,d.IContextMenuService),m(2,d.IContextViewService),m(3,u.IContextKeyService),m(4,h.IKeybindingService),m(5,c.IMenuService)],v);class b extends a.EditorAction{run(e,t){v.get(t).showContextMenu()}constructor(){super({id:"editor.action.showContextMenu",label:n.localize("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:l.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}}(0,a.registerEditorContribution)(v.ID,v),(0,a.registerEditorAction)(b)})),r.register("c32xu",(function(e,t){var n=r("9LBxC"),i=r("iNF8q"),o=r("eh64S"),s=r("igipX");class a{equals(e){const t=this.selections.length;if(t!==e.selections.length)return!1;for(let n=0;n<t;n++)if(!this.selections[n].equalsSelection(e.selections[n]))return!1;return!0}constructor(e){this.selections=e}}class l{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class c extends i.Disposable{static get(e){return e.getContribution(c.ID)}cursorUndo(){this._editor.hasModel()&&0!==this._undoStack.length&&(this._redoStack.push(new l(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){this._editor.hasModel()&&0!==this._redoStack.length&&(this._undoStack.push(new l(new a(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeModelContent((e=>{this._undoStack=[],this._redoStack=[]}))),this._register(e.onDidChangeCursorSelection((t=>{if(this._isCursorUndoRedo)return;if(!t.oldSelections)return;if(t.oldModelVersionId!==t.modelVersionId)return;const n=new a(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new l(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())})))}}c.ID="editor.contrib.cursorUndoRedoController";class u extends o.EditorAction{run(e,t,n){c.get(t).cursorUndo()}constructor(){super({id:"cursorUndo",label:n.localize("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}}class d extends o.EditorAction{run(e,t,n){c.get(t).cursorRedo()}constructor(){super({id:"cursorRedo",label:n.localize("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}}(0,o.registerEditorContribution)(c.ID,c),(0,o.registerEditorAction)(u),(0,o.registerEditorAction)(d)})),r.register("hPw8K",(function(e,t){var n=r("iNF8q"),i=r("cexwY"),o=r("eh64S"),s=r("aGBCV"),a=r("dSV0M"),l=r("e8gAb"),c=r("1R2Pn"),u=r("cVvMG");function d(e){return i.isMacintosh?e.altKey:e.ctrlKey}class h extends n.Disposable{onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(d(e)&&(this._modifierPressed=!0),this._mouseDown&&d(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){this._editor.getOption(29)&&!this._editor.getOption(16)&&(d(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===h.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){let t=e.target;if(null===this._dragSelection){let e=(this._editor.getSelections()||[]).filter((e=>t.position&&e.containsPosition(t.position)));if(1!==e.length)return;this._dragSelection=e[0]}d(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){let t=new(0,s.Position)(e.target.position.lineNumber,e.target.position.column);if(null===this._dragSelection){let n=null;if(e.event.shiftKey){let e=this._editor.getSelection();if(e){const{selectionStartLineNumber:i,selectionStartColumn:o}=e;n=[new(0,l.Selection)(i,o,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map((e=>e.containsPosition(t)?new(0,l.Selection)(t.lineNumber,t.column,t.lineNumber,t.column):e));this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(d(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(h.ID,new(0,c.DragAndDropCommand)(this._dragSelection,t,d(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){let t=[{range:new(0,a.Range)(e.lineNumber,e.column,e.lineNumber,e.column),options:h._DECORATION_OPTIONS}];this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,t),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds=this._editor.deltaDecorations(this._dndDecorationIds,[])}_hitContent(e){return 6===e.type||7===e.type}_hitMargin(e){return 2===e.type||3===e.type||4===e.type}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}constructor(e){super(),this._editor=e,this._register(this._editor.onMouseDown((e=>this._onEditorMouseDown(e)))),this._register(this._editor.onMouseUp((e=>this._onEditorMouseUp(e)))),this._register(this._editor.onMouseDrag((e=>this._onEditorMouseDrag(e)))),this._register(this._editor.onMouseDrop((e=>this._onEditorMouseDrop(e)))),this._register(this._editor.onMouseDropCanceled((()=>this._onEditorMouseDropCanceled()))),this._register(this._editor.onKeyDown((e=>this.onEditorKeyDown(e)))),this._register(this._editor.onKeyUp((e=>this.onEditorKeyUp(e)))),this._register(this._editor.onDidBlurEditorWidget((()=>this.onEditorBlur()))),this._register(this._editor.onDidBlurEditorText((()=>this.onEditorBlur()))),this._dndDecorationIds=[],this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}}h.ID="editor.contrib.dragAndDrop",h.TRIGGER_KEY_VALUE=i.isMacintosh?6:5,h._DECORATION_OPTIONS=u.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,o.registerEditorContribution)(h.ID,h)})),r.register("1R2Pn",(function(t,n){e(t.exports,"DragAndDropCommand",(function(){return s}));var i=r("e8gAb"),o=r("dSV0M");class s{getEditOperations(e,t){let n=e.getValueInRange(this.selection);this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new(0,o.Range)(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),!this.selection.containsPosition(this.targetPosition)||this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition))?this.copy?this.targetSelection=new(0,i.Selection)(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber>this.selection.endLineNumber?this.targetSelection=new(0,i.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.targetPosition.lineNumber<this.selection.endLineNumber?this.targetSelection=new(0,i.Selection)(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn):this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new(0,i.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,(this.selection.startLineNumber,this.selection.endLineNumber,this.targetPosition.column-this.selection.endColumn+this.selection.startColumn),this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new(0,i.Selection)(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn):this.targetSelection=this.selection}computeCursorState(e,t){return this.targetSelection}constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}}})),r.register("cPiAT",(function(t,n){e(t.exports,"CommonFindController",(function(){return E}),(function(e){return E=e}));var i=r("9LBxC"),o=r("6wKox"),s=r("iNF8q"),a=r("78mNz"),l=r("eh64S"),c=r("igipX"),u=r("48esW"),d=r("68ZYr"),h=r("1XOqu"),p=r("2hgK2"),g=r("d8eAn"),f=r("fHyTN"),m=r("1N08n"),v=r("hpGyO"),b=r("dEnIO"),y=r("1mptJ"),_=r("JzRxO"),C=r("hYVHb"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}},w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function k(e,t="single",n=!1){if(!e.hasModel())return null;const i=e.getSelection();if("single"===t&&i.startLineNumber===i.endLineNumber||"multiple"===t)if(i.isEmpty()){const t=e.getConfiguredWordAtPosition(i.getStartPosition());if(t&&!1===n)return t.word}else if(e.getModel().getValueLengthInRange(i)<524288)return e.getModel().getValueInRange(i);return null}let E=class e extends s.Disposable{get editor(){return this._editor}static get(t){return t.getContribution(e.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!u.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let e=this._editor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._editor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=a.escapeRegExpCharacters(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e){return w(this,void 0,void 0,(function*(){if(this.disposeModel(),!this._editor.hasModel())return;let t={isRevealed:!0};if("single"===e.seedSearchStringFromSelection){let n=k(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);n&&(this._state.isRegex?t.searchString=a.escapeRegExpCharacters(n):t.searchString=n)}else if("multiple"===e.seedSearchStringFromSelection&&!e.updateSearchScope){let n=k(this._editor,e.seedSearchStringFromSelection);n&&(t.searchString=n)}if(!t.searchString&&e.seedSearchStringFromGlobalClipboard){let e=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;e&&(t.searchString=e)}if(e.forceRevealReplace?t.isReplaceRevealed=!0:this._findWidgetVisible.get()||(t.isReplaceRevealed=!1),e.updateSearchScope){let e=this._editor.getSelections();e.some((e=>!e.isEmpty()))&&(t.searchScope=e)}t.loop=e.loop,this._state.change(t,!1),this._model||(this._model=new(0,u.FindModelBoundToEditorModel)(this._editor,this._state))}))}start(e){return this._start(e)}moveToNextMatch(){return!!this._model&&(this._model.moveToNextMatch(),!0)}moveToPrevMatch(){return!!this._model&&(this._model.moveToPrevMatch(),!0)}replace(){return!!this._model&&(this._model.replace(),!0)}replaceAll(){return!!this._model&&(this._model.replaceAll(),!0)}selectAllMatches(){return!!this._model&&(this._model.selectAllMatches(),this._editor.focus(),!0)}getGlobalBufferTerm(){return w(this,void 0,void 0,(function*(){return this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}))}setGlobalBufferTerm(e){this._editor.getOption(33).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}constructor(e,t,n,i){super(),this._editor=e,this._findWidgetVisible=u.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=i,this._updateHistoryDelayer=new(0,o.Delayer)(500),this._state=this._register(new(0,h.FindReplaceState)),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._model=null,this._register(this._editor.onDidChangeModel((()=>{let e=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),e&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(33).loop})})))}};E.ID="editor.contrib.findController",E=x([S(1,m.IContextKeyService),S(2,y.IStorageService),S(3,f.IClipboardService)],E);let D=class extends E{_start(e){const t=Object.create(null,{_start:{get:()=>super._start}});return w(this,void 0,void 0,(function*(){this._widget||this._createFindWidget();const n=this._editor.getSelection();let i=!1;switch(this._editor.getOption(33).autoFindInSelection){case"always":i=!0;break;case"never":i=!1;break;case"multiline":i=!!n&&n.startLineNumber!==n.endLineNumber}e.updateSearchScope=i,yield t._start.call(this,e),this._widget&&(2===e.shouldFocus?this._widget.focusReplaceInput():1===e.shouldFocus&&this._widget.focusFindInput())}))}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new(0,p.FindWidget)(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new(0,d.FindOptionsWidget)(this._editor,this._state,this._keybindingService,this._themeService))}constructor(e,t,n,i,o,r,s,a){super(e,n,s,a),this._contextViewService=t,this._keybindingService=i,this._themeService=o,this._notificationService=r,this._widget=null,this._findOptionsWidget=null}};D=x([S(1,v.IContextViewService),S(2,m.IContextKeyService),S(3,b.IKeybindingService),S(4,_.IThemeService),S(5,C.INotificationService),S(6,y.IStorageService),S(7,f.IClipboardService)],D);(0,l.registerMultiEditorAction)(new(0,l.MultiEditorAction)({id:u.FIND_IDS.StartFindAction,label:i.localize("startFindAction","Find"),alias:"Find",precondition:m.ContextKeyExpr.or(c.EditorContextKeys.focus,m.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"3_find",title:i.localize({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,((e,t,n)=>{const i=E.get(t);return!!i&&i.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:t.getOption(33).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})}));class I extends l.EditorAction{run(e,t){return w(this,void 0,void 0,(function*(){let e=E.get(t);e&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),e.setGlobalBufferTerm(e.getState().searchString))}))}constructor(){super({id:u.FIND_IDS.StartFindWithSelection,label:i.localize("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}}class A extends l.EditorAction{run(e,t){return w(this,void 0,void 0,(function*(){let e=E.get(t);e&&!this._run(e)&&(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:0===e.getState().searchString.length&&"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}class R extends l.EditorAction{run(e,t){return w(this,void 0,void 0,(function*(){let e=E.get(t);if(!e)return;const n="selection"===t.getOption(33).seedSearchStringFromSelection;let i=null;"never"!==t.getOption(33).seedSearchStringFromSelection&&(i=k(t,"single",n)),i&&e.setSearchString(i),this._run(e)||(yield e.start({forceRevealReplace:!1,seedSearchStringFromSelection:"never"!==t.getOption(33).seedSearchStringFromSelection?"single":"none",seedSearchStringFromNonEmptySelection:n,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop}),this._run(e))}))}}(0,l.registerMultiEditorAction)(new(0,l.MultiEditorAction)({id:u.FIND_IDS.StartFindReplaceAction,label:i.localize("startReplace","Replace"),alias:"Replace",precondition:m.ContextKeyExpr.or(c.EditorContextKeys.focus,m.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:g.MenuId.MenubarEditMenu,group:"3_find",title:i.localize({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,((e,t,n)=>{if(!t.hasModel()||t.getOption(79))return!1;const i=E.get(t);if(!i)return!1;const o=t.getSelection(),r=i.isFindInputFocused(),s=!o.isEmpty()&&o.startLineNumber===o.endLineNumber&&"never"!==t.getOption(33).seedSearchStringFromSelection&&!r,a=r||s?2:1;return i.start({forceRevealReplace:!0,seedSearchStringFromSelection:s?"single":"none",seedSearchStringFromNonEmptySelection:"selection"===t.getOption(33).seedSearchStringFromSelection,seedSearchStringFromGlobalClipboard:"never"!==t.getOption(33).seedSearchStringFromSelection,shouldFocus:a,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(33).loop})})),(0,l.registerEditorContribution)(E.ID,D),(0,l.registerEditorAction)(I),(0,l.registerEditorAction)(class extends A{_run(e){return!!e.moveToNextMatch()&&(e.editor.pushUndoStop(),!0)}constructor(){super({id:u.FIND_IDS.NextMatchFindAction,label:i.localize("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:c.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:m.ContextKeyExpr.and(c.EditorContextKeys.focus,u.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}}),(0,l.registerEditorAction)(class extends A{_run(e){return e.moveToPrevMatch()}constructor(){super({id:u.FIND_IDS.PreviousMatchFindAction,label:i.localize("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:c.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:m.ContextKeyExpr.and(c.EditorContextKeys.focus,u.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}}),(0,l.registerEditorAction)(class extends R{_run(e){return e.moveToNextMatch()}constructor(){super({id:u.FIND_IDS.NextSelectionMatchFindAction,label:i.localize("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:2109,weight:100}})}}),(0,l.registerEditorAction)(class extends R{_run(e){return e.moveToPrevMatch()}constructor(){super({id:u.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.focus,primary:3133,weight:100}})}});const L=l.EditorCommand.bindToContribution(E.get);(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.CloseFindWidgetCommand,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.closeFindWidget(),kbOpts:{weight:105,kbExpr:m.ContextKeyExpr.and(c.EditorContextKeys.focus,m.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:e=>e.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:u.ToggleCaseSensitiveKeybinding.primary,mac:u.ToggleCaseSensitiveKeybinding.mac,win:u.ToggleCaseSensitiveKeybinding.win,linux:u.ToggleCaseSensitiveKeybinding.linux}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:e=>e.toggleWholeWords(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:u.ToggleWholeWordKeybinding.primary,mac:u.ToggleWholeWordKeybinding.mac,win:u.ToggleWholeWordKeybinding.win,linux:u.ToggleWholeWordKeybinding.linux}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:e=>e.toggleRegex(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:u.ToggleRegexKeybinding.primary,mac:u.ToggleRegexKeybinding.mac,win:u.ToggleRegexKeybinding.win,linux:u.ToggleRegexKeybinding.linux}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:e=>e.toggleSearchScope(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:u.ToggleSearchScopeKeybinding.primary,mac:u.ToggleSearchScopeKeybinding.mac,win:u.ToggleSearchScopeKeybinding.win,linux:u.ToggleSearchScopeKeybinding.linux}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:e=>e.togglePreserveCase(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:u.TogglePreserveCaseKeybinding.primary,mac:u.TogglePreserveCaseKeybinding.mac,win:u.TogglePreserveCaseKeybinding.win,linux:u.TogglePreserveCaseKeybinding.linux}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ReplaceOneAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:3094}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ReplaceOneAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.replace(),kbOpts:{weight:105,kbExpr:m.ContextKeyExpr.and(c.EditorContextKeys.focus,u.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ReplaceAllAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:2563}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.ReplaceAllAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.replaceAll(),kbOpts:{weight:105,kbExpr:m.ContextKeyExpr.and(c.EditorContextKeys.focus,u.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,l.registerEditorCommand)(new L({id:u.FIND_IDS.SelectAllMatchesAction,precondition:u.CONTEXT_FIND_WIDGET_VISIBLE,handler:e=>e.selectAllMatches(),kbOpts:{weight:105,kbExpr:c.EditorContextKeys.focus,primary:515}}))})),r.register("48esW",(function(t,n){e(t.exports,"CONTEXT_FIND_WIDGET_VISIBLE",(function(){return m})),e(t.exports,"CONTEXT_FIND_INPUT_FOCUSED",(function(){return v})),e(t.exports,"CONTEXT_REPLACE_INPUT_FOCUSED",(function(){return b})),e(t.exports,"ToggleCaseSensitiveKeybinding",(function(){return y})),e(t.exports,"ToggleWholeWordKeybinding",(function(){return _})),e(t.exports,"ToggleRegexKeybinding",(function(){return C})),e(t.exports,"ToggleSearchScopeKeybinding",(function(){return x})),e(t.exports,"TogglePreserveCaseKeybinding",(function(){return S})),e(t.exports,"FIND_IDS",(function(){return w})),e(t.exports,"MATCHES_LIMIT",(function(){return k})),e(t.exports,"FindModelBoundToEditorModel",(function(){return E}));var i=r("6wKox"),o=r("iNF8q"),s=r("jCddX"),a=r("aGBCV"),l=r("dSV0M"),c=r("e8gAb"),u=r("lr40b"),d=r("gGrgW"),h=r("5wBqy"),p=r("X4yp8"),g=r("1N08n"),f=r("cCPZ6");const m=new(0,g.RawContextKey)("findWidgetVisible",!1),v=new(0,g.RawContextKey)("findInputFocussed",!1),b=new(0,g.RawContextKey)("replaceInputFocussed",!1),y={primary:545,mac:{primary:2593}},_={primary:565,mac:{primary:2613}},C={primary:560,mac:{primary:2608}},x={primary:554,mac:{primary:2602}},S={primary:558,mac:{primary:2606}},w={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},k=19999;class E{dispose(){this._isDisposed=!0,(0,o.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){if(!this._isDisposed&&this._editor.hasModel()&&(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)){this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet((()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}),240)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)}}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;void 0!==t?null!==t&&(n=Array.isArray(t)?t:[t]):n=this._decorations.getFindScopes(),null!==n&&(n=n.map((e=>{if(e.startLineNumber!==e.endLineNumber){let t=e.endLineNumber;return 1===e.endColumn&&(t-=1),new(0,l.Range)(e.startLineNumber,1,t,this._editor.getModel().getLineMaxColumn(t))}return e})));let i=this._findMatches(n,!1,k);this._decorations.set(i,n);const o=this._editor.getSelection();let r=this._decorations.getCurrentMatchesPosition(o);if(0===r&&i.length>0){const e=(0,f.findFirstInSorted)(i.map((e=>e.range)),(e=>l.Range.compareRangesUsingStarts(e,o)>=0));r=e>0?e-1+1:r}this._state.changeMatchInfo(r,this._decorations.getCount(),void 0),e&&this._editor.getOption(33).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){let e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){let t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:i}=e,o=this._editor.getModel();return t||1===i?(1===n?n=o.getLineCount():n--,i=o.getLineMaxColumn(n)):i--,new(0,a.Position)(n,i)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const t=this._decorations.matchAfterPosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<k){let t=this._decorations.matchBeforePosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),t=this._decorations.matchBeforePosition(e)),void(t&&this._setCurrentFindMatch(t))}if(this._cannotFind())return;let n=this._decorations.getFindScope(),i=E._getSearchRange(this._editor.getModel(),n);i.getEndPosition().isBefore(e)&&(e=i.getEndPosition()),e.isBefore(i.getStartPosition())&&(e=i.getEndPosition());let{lineNumber:o,column:r}=e,s=this._editor.getModel(),l=new(0,a.Position)(o,r),c=s.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1);return c&&c.range.isEmpty()&&c.range.getStartPosition().equals(l)&&(l=this._prevSearchPosition(l),c=s.findPreviousMatch(this._state.searchString,l,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,!1)),c?t||i.containsRange(c.range)?void this._setCurrentFindMatch(c.range):this._moveToPrevMatch(c.range.getStartPosition(),!0):void 0}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){let t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0),{lineNumber:n,column:i}=e,o=this._editor.getModel();return t||i===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,i=1):i++,new(0,a.Position)(n,i)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const t=this._decorations.matchBeforePosition(e);return void(t&&this._setCurrentFindMatch(t))}if(this._decorations.getCount()<k){let t=this._decorations.matchAfterPosition(e);return t&&t.isEmpty()&&t.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),t=this._decorations.matchAfterPosition(e)),void(t&&this._setCurrentFindMatch(t))}let t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,i=!1){if(this._cannotFind())return null;let o=this._decorations.getFindScope(),r=E._getSearchRange(this._editor.getModel(),o);r.getEndPosition().isBefore(e)&&(e=r.getStartPosition()),e.isBefore(r.getStartPosition())&&(e=r.getStartPosition());let{lineNumber:s,column:l}=e,c=this._editor.getModel(),u=new(0,a.Position)(s,l),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t);return n&&d&&d.range.isEmpty()&&d.range.getStartPosition().equals(u)&&(u=this._nextSearchPosition(u),d=c.findNextMatch(this._state.searchString,u,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t)),d?i||r.containsRange(d.range)?d:this._getNextMatch(d.range.getEndPosition(),t,n,!0):null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?(0,p.parseReplaceString)(this._state.replaceString):p.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;let e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){let i=e.buildReplaceString(n.matches,this._state.preserveCase),o=new(0,s.ReplaceCommand)(t,i);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new(0,a.Position)(t.startLineNumber,t.startColumn+i.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const i=(e||[null]).map((e=>E._getSearchRange(this._editor.getModel(),e)));return this._editor.getModel().findMatches(this._state.searchString,i,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();null===e&&this._state.matchesCount>=k?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const e=new(0,u.SearchParams)(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(115):null).parseSearchRequest();if(!e)return;let t=e.regex;if(!t.multiline){let e="mu";t.ignoreCase&&(e+="i"),t.global&&(e+="g"),t=new RegExp(t.source,e)}const n=this._editor.getModel(),i=n.getValue(1),o=n.getFullModelRange(),r=this._getReplacePattern();let a;const l=this._state.preserveCase;a=r.hasReplacementPatterns||l?i.replace(t,(function(){return r.buildReplaceString(arguments,l)})):i.replace(t,r.buildReplaceString(null,l));let c=new(0,s.ReplaceCommandThatPreservesSelection)(o,a,this._editor.getSelection());this._executeEditorCommand("replaceAll",c)}_regularReplaceAll(e){const t=this._getReplacePattern();let n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),i=[];for(let e=0,o=n.length;e<o;e++)i[e]=t.buildReplaceString(n[e].matches,this._state.preserveCase);let o=new(0,h.ReplaceAllCommand)(this._editor.getSelection(),n.map((e=>e.range)),i);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;let e=this._decorations.getFindScopes(),t=this._findMatches(e,!1,1073741824).map((e=>new(0,c.Selection)(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))),n=this._editor.getSelection();for(let e=0,i=t.length;e<i;e++){if(t[e].equalsRange(n)){t=[n].concat(t.slice(0,e)).concat(t.slice(e+1));break}}this._editor.setSelections(t)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}constructor(e,t){this._toDispose=new(0,o.DisposableStore),this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new(0,i.TimeoutTimer),this._decorations=new(0,d.FindDecorations)(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new(0,i.RunOnceScheduler)((()=>this.research(!1)),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition((e=>{3!==e.reason&&5!==e.reason&&6!==e.reason||this._decorations.setStartPosition(this._editor.getPosition())}))),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent((e=>{this._ignoreModelContentChanged||(e.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())}))),this._toDispose.add(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this.research(!1,this._state.searchScope)}}})),r.register("gGrgW",(function(t,n){e(t.exports,"FindDecorations",(function(){return c}));var i=r("dSV0M"),o=r("77LTJ"),s=r("cVvMG"),a=r("5h6AG"),l=r("JzRxO");class c{dispose(){this._editor.deltaDecorations(this._allDecorations(),[]),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map((e=>this._editor.getModel().getDecorationRange(e))).filter((e=>!!e));if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){let t=this._editor.getModel().getDecorationsInRange(e);for(const e of t){const t=e.options;if(t===c._FIND_MATCH_DECORATION||t===c._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(e.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let i=0,o=this._decorations.length;i<o;i++){let o=this._editor.getModel().getDecorationRange(this._decorations[i]);if(e.equalsRange(o)){t=this._decorations[i],n=i+1;break}}return null===this._highlightedDecorationId&&null===t||this._editor.changeDecorations((e=>{if(null!==this._highlightedDecorationId&&(e.changeDecorationOptions(this._highlightedDecorationId,c._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),null!==t&&(this._highlightedDecorationId=t,e.changeDecorationOptions(this._highlightedDecorationId,c._CURRENT_FIND_MATCH_DECORATION)),null!==this._rangeHighlightDecorationId&&(e.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),null!==t){let n=this._editor.getModel().getDecorationRange(t);if(n.startLineNumber!==n.endLineNumber&&1===n.endColumn){let e=n.endLineNumber-1,t=this._editor.getModel().getLineMaxColumn(e);n=new(0,i.Range)(n.startLineNumber,n.startColumn,e,t)}this._rangeHighlightDecorationId=e.addDecoration(n,c._RANGE_HIGHLIGHT_DECORATION)}})),n}set(e,t){this._editor.changeDecorations((n=>{let o=c._FIND_MATCH_DECORATION,r=[];if(e.length>1e3){o=c._FIND_MATCH_NO_OVERVIEW_DECORATION;const t=this._editor.getModel().getLineCount(),n=this._editor.getLayoutInfo().height/t,s=Math.max(2,Math.ceil(3/n));let a=e[0].range.startLineNumber,l=e[0].range.endLineNumber;for(let t=1,n=e.length;t<n;t++){const n=e[t].range;l+s>=n.startLineNumber?n.endLineNumber>l&&(l=n.endLineNumber):(r.push({range:new(0,i.Range)(a,1,l,1),options:c._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),a=n.startLineNumber,l=n.endLineNumber)}r.push({range:new(0,i.Range)(a,1,l,1),options:c._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}let s=new Array(e.length);for(let t=0,n=e.length;t<n;t++)s[t]={range:e[t].range,options:o};this._decorations=n.deltaDecorations(this._decorations,s),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,r),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach((e=>n.removeDecoration(e))),this._findScopeDecorationIds=[]),(null==t?void 0:t.length)&&(this._findScopeDecorationIds=t.map((e=>n.addDecoration(e,c._FIND_SCOPE_DECORATION))))}))}matchBeforePosition(e){if(0===this._decorations.length)return null;for(let t=this._decorations.length-1;t>=0;t--){let n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.endLineNumber>e.lineNumber)){if(i.endLineNumber<e.lineNumber)return i;if(!(i.endColumn>e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(0===this._decorations.length)return null;for(let t=0,n=this._decorations.length;t<n;t++){let n=this._decorations[t],i=this._editor.getModel().getDecorationRange(n);if(i&&!(i.startLineNumber<e.lineNumber)){if(i.startLineNumber>e.lineNumber)return i;if(!(i.startColumn<e.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}}c._CURRENT_FIND_MATCH_DECORATION=s.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,l.themeColorFromId)(a.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center},minimap:{color:(0,l.themeColorFromId)(a.minimapFindMatch),position:o.MinimapPosition.Inline}}),c._FIND_MATCH_DECORATION=s.ModelDecorationOptions.register({description:"find-match",stickiness:1,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,l.themeColorFromId)(a.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center},minimap:{color:(0,l.themeColorFromId)(a.minimapFindMatch),position:o.MinimapPosition.Inline}}),c._FIND_MATCH_NO_OVERVIEW_DECORATION=s.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),c._FIND_MATCH_ONLY_OVERVIEW_DECORATION=s.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,l.themeColorFromId)(a.overviewRulerFindMatchForeground),position:o.OverviewRulerLane.Center}}),c._RANGE_HIGHLIGHT_DECORATION=s.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),c._FIND_SCOPE_DECORATION=s.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})})),r.register("5wBqy",(function(t,n){e(t.exports,"ReplaceAllCommand",(function(){return o}));var i=r("dSV0M");class o{getEditOperations(e,t){if(this._ranges.length>0){let e=[];for(let t=0;t<this._ranges.length;t++)e.push({range:this._ranges[t],text:this._replaceStrings[t]});e.sort(((e,t)=>i.Range.compareRangesUsingStarts(e.range,t.range)));let n=[],o=e[0];for(let t=1;t<e.length;t++)o.range.endLineNumber===e[t].range.startLineNumber&&o.range.endColumn===e[t].range.startColumn?(o.range=o.range.plusRange(e[t].range),o.text=o.text+e[t].text):(n.push(o),o=e[t]);n.push(o);for(const e of n)t.addEditOperation(e.range,e.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}}})),r.register("X4yp8",(function(t,n){e(t.exports,"ReplacePattern",(function(){return a})),e(t.exports,"parseReplaceString",(function(){return u}));var i=r("h7Kds");class o{constructor(e){this.staticValue=e,this.kind=0}}class s{constructor(e){this.pieces=e,this.kind=1}}class a{static fromStaticValue(e){return new a([l.staticValue(e)])}get hasReplacementPatterns(){return 1===this._state.kind}buildReplaceString(e,t){if(0===this._state.kind)return t?(0,i.buildReplaceStringWithCasePreserved)(e,this._state.staticValue):this._state.staticValue;let n="";for(let t=0,i=this._state.pieces.length;t<i;t++){let i=this._state.pieces[t];if(null!==i.staticValue){n+=i.staticValue;continue}let o=a._substitute(i.matchIndex,e);if(null!==i.caseOps&&i.caseOps.length>0){let e=[],t=i.caseOps.length,n=0;for(let r=0,s=o.length;r<s;r++){if(n>=t){e.push(o.slice(r));break}switch(i.caseOps[n]){case"U":e.push(o[r].toUpperCase());break;case"u":e.push(o[r].toUpperCase()),n++;break;case"L":e.push(o[r].toLowerCase());break;case"l":e.push(o[r].toLowerCase()),n++;break;default:e.push(o[r])}}o=e.join("")}n+=o}return n}static _substitute(e,t){if(null===t)return"";if(0===e)return t[0];let n="";for(;e>0;){if(e<t.length){return(t[e]||"")+n}n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}constructor(e){e&&0!==e.length?1===e.length&&null!==e[0].staticValue?this._state=new o(e[0].staticValue):this._state=new s(e):this._state=new o("")}}class l{static staticValue(e){return new l(e,-1,null)}static caseOps(e,t){return new l(null,e,t)}constructor(e,t,n){this.staticValue=e,this.matchIndex=t,n&&0!==n.length?this.caseOps=n.slice(0):this.caseOps=null}}class c{emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){0!==e.length&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=l.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=l.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),0!==this._currentStaticPiece.length&&(this._result[this._resultLen++]=l.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new a(this._result)}constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}}function u(e){if(!e||0===e.length)return new a(null);let t=[],n=new c(e);for(let i=0,o=e.length;i<o;i++){let r=e.charCodeAt(i);if(92!==r){if(36===r){if(i++,i>=o)break;let r=e.charCodeAt(i);if(36===r){n.emitUnchanged(i-1),n.emitStatic("$",i+1);continue}if(48===r||38===r){n.emitUnchanged(i-1),n.emitMatchIndex(0,i+1,t),t.length=0;continue}if(49<=r&&r<=57){let s=r-48;if(i+1<o){let o=e.charCodeAt(i+1);if(48<=o&&o<=57){i++,s=10*s+(o-48),n.emitUnchanged(i-2),n.emitMatchIndex(s,i+1,t),t.length=0;continue}}n.emitUnchanged(i-1),n.emitMatchIndex(s,i+1,t),t.length=0;continue}}}else{if(i++,i>=o)break;let r=e.charCodeAt(i);switch(r){case 92:n.emitUnchanged(i-1),n.emitStatic("\\",i+1);break;case 110:n.emitUnchanged(i-1),n.emitStatic("\n",i+1);break;case 116:n.emitUnchanged(i-1),n.emitStatic("\t",i+1);break;case 117:case 85:case 108:case 76:n.emitUnchanged(i-1),n.emitStatic("",i+1),t.push(String.fromCharCode(r))}}}return n.finalize()}})),r.register("h7Kds",(function(t,n){e(t.exports,"buildReplaceStringWithCasePreserved",(function(){return o}));var i=r("78mNz");function o(e,t){if(e&&""!==e[0]){const n=s(e,t,"-"),o=s(e,t,"_");return n&&!o?a(e,t,"-"):!n&&o?a(e,t,"_"):e[0].toUpperCase()===e[0]?t.toUpperCase():e[0].toLowerCase()===e[0]?t.toLowerCase():i.containsUppercaseCharacter(e[0][0])&&t.length>0?t[0].toUpperCase()+t.substr(1):e[0][0].toUpperCase()!==e[0][0]&&t.length>0?t[0].toLowerCase()+t.substr(1):t}return t}function s(e,t,n){return-1!==e[0].indexOf(n)&&-1!==t.indexOf(n)&&e[0].split(n).length===t.split(n).length}function a(e,t,n){const i=t.split(n),r=e[0].split(n);let s="";return i.forEach(((e,t)=>{s+=o([r[t]],e)+n})),s.slice(0,-1)}})),r.register("68ZYr",(function(t,n){e(t.exports,"FindOptionsWidget",(function(){return d}));var i=r("2vQKJ"),o=r("jA2oA"),s=r("dFrQ5"),a=r("6wKox"),l=r("48esW"),c=r("5h6AG"),u=r("JzRxO");class d extends s.Widget{_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return d.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseOut(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(c.inputActiveOptionBorder),inputActiveOptionForeground:e.getColor(c.inputActiveOptionForeground),inputActiveOptionBackground:e.getColor(c.inputActiveOptionBackground)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}constructor(e,t,n,r){super(),this._hideSoon=this._register(new(0,a.RunOnceScheduler)((()=>this._hide()),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const s=r.getColorTheme().getColor(c.inputActiveOptionBorder),u=r.getColorTheme().getColor(c.inputActiveOptionForeground),d=r.getColorTheme().getColor(c.inputActiveOptionBackground);this.caseSensitive=this._register(new(0,o.CaseSensitiveCheckbox)({appendTitle:this._keybindingLabelFor(l.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:s,inputActiveOptionForeground:u,inputActiveOptionBackground:d})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange((()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)}))),this.wholeWords=this._register(new(0,o.WholeWordsCheckbox)({appendTitle:this._keybindingLabelFor(l.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:s,inputActiveOptionForeground:u,inputActiveOptionBackground:d})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange((()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)}))),this.regex=this._register(new(0,o.RegexCheckbox)({appendTitle:this._keybindingLabelFor(l.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:s,inputActiveOptionForeground:u,inputActiveOptionBackground:d})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange((()=>{this._state.change({isRegex:this.regex.checked},!1)}))),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange((e=>{let t=!1;e.isRegex&&(this.regex.checked=this._state.isRegex,t=!0),e.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,t=!0),e.matchCase&&(this.caseSensitive.checked=this._state.matchCase,t=!0),!this._state.isRevealed&&t&&this._revealTemporarily()}))),this._register(i.addDisposableNonBubblingMouseOutListener(this._domNode,(e=>this._onMouseOut()))),this._register(i.addDisposableListener(this._domNode,"mouseover",(e=>this._onMouseOver()))),this._applyTheme(r.getColorTheme()),this._register(r.onDidColorThemeChange(this._applyTheme.bind(this)))}}d.ID="editor.contrib.findOptionsWidget",(0,u.registerThemingParticipant)(((e,t)=>{const n=e.getColor(c.editorWidgetBackground);n&&t.addRule(`.monaco-editor .findOptionsWidget { background-color: ${n}; }`);const i=e.getColor(c.editorWidgetForeground);i&&t.addRule(`.monaco-editor .findOptionsWidget { color: ${i}; }`);const o=e.getColor(c.widgetShadow);o&&t.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${o}; }`);const r=e.getColor(c.contrastBorder);r&&t.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${r}; }`)}))})),r.register("jA2oA",(function(t,n){e(t.exports,"CaseSensitiveCheckbox",(function(){return u})),e(t.exports,"WholeWordsCheckbox",(function(){return d})),e(t.exports,"RegexCheckbox",(function(){return h}));var i=r("3cW8s"),o=r("9LBxC"),s=r("evoAc");const a=o.localize("caseDescription","Match Case"),l=o.localize("wordsDescription","Match Whole Word"),c=o.localize("regexDescription","Use Regular Expression");class u extends i.Checkbox{constructor(e){super({icon:s.Codicon.caseSensitive,title:a+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class d extends i.Checkbox{constructor(e){super({icon:s.Codicon.wholeWord,title:l+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class h extends i.Checkbox{constructor(e){super({icon:s.Codicon.regex,title:c+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}})),r.register("3cW8s",(function(t,n){e(t.exports,"Checkbox",(function(){return c}));var i=r("dFrQ5"),o=r("2Jvmn"),s=r("4zvzH"),a=r("evoAc");const l={inputActiveOptionBorder:o.Color.fromHex("#007ACC00"),inputActiveOptionForeground:o.Color.fromHex("#FFFFFF"),inputActiveOptionBackground:o.Color.fromHex("#0E639C50")};class c extends i.Widget{get enabled(){return"true"!==this.domNode.getAttribute("aria-disabled")}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}style(e){e.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=e.inputActiveOptionBorder),e.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=e.inputActiveOptionForeground),e.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=e.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"transparent",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"transparent")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}constructor(e){super(),this._onChange=this._register(new(0,s.Emitter)),this.onChange=this._onChange.event,this._onKeyDown=this._register(new(0,s.Emitter)),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},l),e),this._checked=this._opts.isChecked;const t=["monaco-custom-checkbox"];this._opts.icon&&t.push(...a.CSSIcon.asClassNameArray(this._opts.icon)),this._opts.actionClassName&&t.push(...this._opts.actionClassName.split(" ")),this._checked&&t.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...t),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,(e=>{this.checked=!this._checked,this._onChange.fire(!1),e.preventDefault()})),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,(e=>{if(10===e.keyCode||3===e.keyCode)return this.checked=!this._checked,this._onChange.fire(!0),void e.preventDefault();this._onKeyDown.fire(e)}))}}})),r.register("1XOqu",(function(t,n){e(t.exports,"FindReplaceState",(function(){return c}));var i=r("4zvzH"),o=r("iNF8q"),s=r("dSV0M"),a=r("48esW");function l(e,t){return 1===e||2!==e&&t}class c extends o.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return l(this._isRegexOverride,this._isRegex)}get wholeWord(){return l(this._wholeWordOverride,this._wholeWord)}get matchCase(){return l(this._matchCaseOverride,this._matchCase)}get preserveCase(){return l(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){let i={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},o=!1;0===t&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,i.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,i.matchesCount=!0,o=!0),void 0!==n&&(s.Range.equalsRange(this._currentMatch,n)||(this._currentMatch=n,i.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(i)}change(e,t,n=!0){var i;let o={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1},r=!1;const a=this.isRegex,l=this.wholeWord,c=this.matchCase,u=this.preserveCase;void 0!==e.searchString&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,r=!0),void 0!==e.replaceString&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,r=!0),void 0!==e.isRevealed&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,r=!0),void 0!==e.isReplaceRevealed&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,r=!0),void 0!==e.isRegex&&(this._isRegex=e.isRegex),void 0!==e.wholeWord&&(this._wholeWord=e.wholeWord),void 0!==e.matchCase&&(this._matchCase=e.matchCase),void 0!==e.preserveCase&&(this._preserveCase=e.preserveCase),void 0!==e.searchScope&&((null===(i=e.searchScope)||void 0===i?void 0:i.every((e=>{var t;return null===(t=this._searchScope)||void 0===t?void 0:t.some((t=>!s.Range.equalsRange(t,e)))})))||(this._searchScope=e.searchScope,o.searchScope=!0,r=!0)),void 0!==e.loop&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,r=!0),this._isRegexOverride=void 0!==e.isRegexOverride?e.isRegexOverride:0,this._wholeWordOverride=void 0!==e.wholeWordOverride?e.wholeWordOverride:0,this._matchCaseOverride=void 0!==e.matchCaseOverride?e.matchCaseOverride:0,this._preserveCaseOverride=void 0!==e.preserveCaseOverride?e.preserveCaseOverride:0,a!==this.isRegex&&(r=!0,o.isRegex=!0),l!==this.wholeWord&&(r=!0,o.wholeWord=!0),c!==this.matchCase&&(r=!0,o.matchCase=!0),u!==this.preserveCase&&(r=!0,o.preserveCase=!0),r&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||1!==this.matchesPosition}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=a.MATCHES_LIMIT}constructor(){super(),this._onFindReplaceStateChange=this._register(new(0,i.Emitter)),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0}}})),r.register("2hgK2",(function(t,n){e(t.exports,"FindWidget",(function(){return Z}),(function(e){return Z=e}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("4waad"),a=r("3cW8s"),l=r("fuOJP"),c=r("dFrQ5"),u=r("6wKox"),d=r("2zf51"),h=r("iNF8q"),p=r("cexwY"),g=r("78mNz"),f=r("dSV0M"),m=r("48esW"),v=r("5h6AG"),b=r("JzRxO"),y=r("2Lmhp"),_=r("evoAc"),C=r("fAMPC"),x=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const S=(0,C.registerIcon)("find-selection",_.Codicon.selection,i.localize("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),w=(0,C.registerIcon)("find-collapsed",_.Codicon.chevronRight,i.localize("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),k=(0,C.registerIcon)("find-expanded",_.Codicon.chevronDown,i.localize("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),E=(0,C.registerIcon)("find-replace",_.Codicon.replace,i.localize("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),D=(0,C.registerIcon)("find-replace-all",_.Codicon.replaceAll,i.localize("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),I=(0,C.registerIcon)("find-previous-match",_.Codicon.arrowUp,i.localize("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),A=(0,C.registerIcon)("find-next-match",_.Codicon.arrowDown,i.localize("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),R=i.localize("label.find","Find"),L=i.localize("placeholder.find","Find"),M=i.localize("label.previousMatchButton","Previous Match"),T=i.localize("label.nextMatchButton","Next Match"),N=i.localize("label.toggleSelectionFind","Find in Selection"),P=i.localize("label.closeButton","Close"),O=i.localize("label.replace","Replace"),F=i.localize("placeholder.replace","Replace"),z=i.localize("label.replaceButton","Replace"),B=i.localize("label.replaceAllButton","Replace All"),H=i.localize("label.toggleReplaceButton","Toggle Replace"),W=i.localize("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",m.MATCHES_LIMIT),j=i.localize("label.matchesLocation","{0} of {1}"),V=i.localize("label.noResults","No results"),K=419;let U=69;const q="ctrlEnterReplaceAll.windows.donotask",$=p.isMacintosh?256:2048;class G{constructor(e){this.afterLineNumber=e,this.heightInPx=33,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function Q(e,t,n){const i=!!t.match(/\n/);n&&i&&n.selectionStart>0&&e.stopPropagation()}function X(e,t,n){const i=!!t.match(/\n/);n&&i&&n.selectionEnd<n.value.length&&e.stopPropagation()}class Z extends c.Widget{getId(){return Z.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?this._codeEditor.getOption(79)||this._isReplaceVisible||(this._isReplaceVisible=!0,this._replaceInput.width=o.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){let e=this._state.searchString.length>0&&0===this._state.matchesCount;this._domNode.classList.toggle("no-results",e),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,d.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){let e;if(this._matchesCount.style.minWidth=U+"px",this._state.matchesCount>=m.MATCHES_LIMIT?this._matchesCount.title=W:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild),this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=m.MATCHES_LIMIT&&(t+="+");let n=String(this._state.matchesPosition);"0"===n&&(n="?"),e=g.format(j,n,t)}else e=V;this._matchesCount.appendChild(document.createTextNode(e)),(0,s.alert)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),U=Math.max(U,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===V)return""===n?i.localize("ariaSearchNoResultEmpty","{0} found",e):i.localize("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){const o=i.localize("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),r=this._codeEditor.getModel();if(r&&t.startLineNumber<=r.getLineCount()&&t.startLineNumber>=1){return`${r.getLineContent(t.startLineNumber)}, ${o}`}return o}return i.localize("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){let e=this._codeEditor.getSelection(),t=!!e&&(e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn),n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);let e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);let n=!this._codeEditor.getOption(79);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(33).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":const t=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=t}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout((()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")}),0)),this._revealTimeouts.push(setTimeout((()=>{this._findInput.validate()}),200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(33).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const i=o.getDomNodePagePosition(n),r=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),s=i.left+(r?r.left:0),a=r?r.top:0;if(this._viewZone&&a<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const n=o.getTopLeftOffset(this._domNode).left;s>n&&(t=!1);const r=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());i.left+(r?r.left:0)>n&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach((e=>{clearTimeout(e)})),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return void this._removeViewZone();if(!this._isVisible)return;const t=this._viewZone;void 0===this._viewZoneId&&t&&this._codeEditor.changeViewZones((n=>{t.heightInPx=this._getHeight(),this._viewZoneId=n.addZone(t),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+t.heightInPx)}))}_showViewZone(e=!0){if(!this._isVisible)return;if(!this._codeEditor.getOption(33).addExtraSpaceOnTop)return;void 0===this._viewZone&&(this._viewZone=new G(0));const t=this._viewZone;this._codeEditor.changeViewZones((n=>{if(void 0!==this._viewZoneId){const i=this._getHeight();if(i===t.heightInPx)return;let o=i-t.heightInPx;return t.heightInPx=i,n.layoutZone(this._viewZoneId),void(e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o))}{let i=this._getHeight();if(i-=this._codeEditor.getOption(73).top,i<=0)return;t.heightInPx=i,this._viewZoneId=n.addZone(t),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+i)}}))}_removeViewZone(){this._codeEditor.changeViewZones((e=>{void 0!==this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))}))}_applyTheme(e){let t={inputActiveOptionBorder:e.getColor(v.inputActiveOptionBorder),inputActiveOptionBackground:e.getColor(v.inputActiveOptionBackground),inputActiveOptionForeground:e.getColor(v.inputActiveOptionForeground),inputBackground:e.getColor(v.inputBackground),inputForeground:e.getColor(v.inputForeground),inputBorder:e.getColor(v.inputBorder),inputValidationInfoBackground:e.getColor(v.inputValidationInfoBackground),inputValidationInfoForeground:e.getColor(v.inputValidationInfoForeground),inputValidationInfoBorder:e.getColor(v.inputValidationInfoBorder),inputValidationWarningBackground:e.getColor(v.inputValidationWarningBackground),inputValidationWarningForeground:e.getColor(v.inputValidationWarningForeground),inputValidationWarningBorder:e.getColor(v.inputValidationWarningBorder),inputValidationErrorBackground:e.getColor(v.inputValidationErrorBackground),inputValidationErrorForeground:e.getColor(v.inputValidationErrorForeground),inputValidationErrorBorder:e.getColor(v.inputValidationErrorBorder)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible)return;if(!o.isInDOM(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0)return void this._domNode.classList.add("hiddenEditor");this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const t=e.width,n=e.minimap.minimapWidth;let i=!1,r=!1,s=!1;if(this._resized){if(o.getTotalWidth(this._domNode)>K)return this._domNode.style.maxWidth=t-28-n-15+"px",void(this._replaceInput.width=o.getTotalWidth(this._findInput.domNode))}if(447+n>=t&&(r=!0),447+n-U>=t&&(s=!0),447+n-U>=t+50&&(i=!0),this._domNode.classList.toggle("collapsed-find-widget",i),this._domNode.classList.toggle("narrow-find-widget",s),this._domNode.classList.toggle("reduced-find-widget",r),s||i||(this._domNode.style.maxWidth=t-28-n-15+"px"),this._resized){this._findInput.inputBox.layout();let e=this._findInput.inputBox.element.clientWidth;e>0&&(this._replaceInput.width=e)}else this._isReplaceVisible&&(this._replaceInput.width=o.getTotalWidth(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return(null===this._cachedHeight||this._cachedHeight!==e)&&(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){let e=this._codeEditor.getSelections();e.map((e=>{1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1)));const t=this._state.currentMatch;return e.startLineNumber===e.endLineNumber||f.Range.equalsRange(e,t)?null:e})).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){return e.equals(3|$)?(this._findInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Q(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):e.equals(18)?X(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea")):void 0}_onReplaceInputKeyDown(e){return e.equals(3|$)?(p.isWindows&&p.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(i.localize("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(q,!0,0,0)),this._replaceInput.inputBox.insertAtCursor("\n"),void e.preventDefault()):e.equals(2)?(this._findInput.focusOnCaseSensitive(),void e.preventDefault()):e.equals(1026)?(this._findInput.focus(),void e.preventDefault()):e.equals(2066)?(this._codeEditor.focus(),void e.preventDefault()):e.equals(16)?Q(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):e.equals(18)?X(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea")):void 0}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){let t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new(0,y.ContextScopedFindInput)(null,this._contextViewProvider,{width:221,label:R,placeholder:L,appendCaseSensitiveLabel:this._keybindingLabelFor(m.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(m.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(m.FIND_IDS.ToggleRegexCommand),validation:e=>{if(0===e.length||!this._findInput.getRegex())return null;try{return new RegExp(e,"gu"),null}catch(e){return{content:e.message}}},flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown((e=>this._onFindInputKeyDown(e)))),this._register(this._findInput.inputBox.onDidChange((()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)}))),this._register(this._findInput.onDidOptionChange((()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)}))),this._register(this._findInput.onCaseSensitiveKeyDown((e=>{e.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),e.preventDefault())}))),this._register(this._findInput.onRegexKeyDown((e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),e.preventDefault())}))),this._register(this._findInput.inputBox.onDidHeightChange((e=>{this._tryUpdateHeight()&&this._showViewZone()}))),p.isLinux&&this._register(this._findInput.onMouseDown((e=>this._onFindInputMouseDown(e)))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new J({label:M+this._keybindingLabelFor(m.FIND_IDS.PreviousMatchFindAction),icon:I,onTrigger:()=>{this._codeEditor.getAction(m.FIND_IDS.PreviousMatchFindAction).run().then(void 0,d.onUnexpectedError)}})),this._nextBtn=this._register(new J({label:T+this._keybindingLabelFor(m.FIND_IDS.NextMatchFindAction),icon:A,onTrigger:()=>{this._codeEditor.getAction(m.FIND_IDS.NextMatchFindAction).run().then(void 0,d.onUnexpectedError)}}));let e=document.createElement("div");e.className="find-part",e.appendChild(this._findInput.domNode);const t=document.createElement("div");t.className="find-actions",e.appendChild(t),t.appendChild(this._matchesCount),t.appendChild(this._prevBtn.domNode),t.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new(0,a.Checkbox)({icon:S,title:N+this._keybindingLabelFor(m.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange((()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let e=this._codeEditor.getSelections();e.map((e=>(1===e.endColumn&&e.endLineNumber>e.startLineNumber&&(e=e.setEndPosition(e.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(e.endLineNumber-1))),e.isEmpty()?null:e))).filter((e=>!!e)),e.length&&this._state.change({searchScope:e},!0)}}else this._state.change({searchScope:null},!0)}))),t.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new J({label:P+this._keybindingLabelFor(m.FIND_IDS.CloseFindWidgetCommand),icon:C.widgetClose,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:e=>{e.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),e.preventDefault())}})),t.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new(0,y.ContextScopedReplaceInput)(null,void 0,{label:O,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(m.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:true,flexibleWidth:true,flexibleMaxHeight:118},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown((e=>this._onReplaceInputKeyDown(e)))),this._register(this._replaceInput.inputBox.onDidChange((()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)}))),this._register(this._replaceInput.inputBox.onDidHeightChange((e=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()}))),this._register(this._replaceInput.onDidOptionChange((()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)}))),this._register(this._replaceInput.onPreserveCaseKeyDown((e=>{e.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),e.preventDefault())}))),this._replaceBtn=this._register(new J({label:z+this._keybindingLabelFor(m.FIND_IDS.ReplaceOneAction),icon:E,onTrigger:()=>{this._controller.replace()},onKeyDown:e=>{e.equals(1026)&&(this._closeBtn.focus(),e.preventDefault())}})),this._replaceAllBtn=this._register(new J({label:B+this._keybindingLabelFor(m.FIND_IDS.ReplaceAllAction),icon:D,onTrigger:()=>{this._controller.replaceAll()}}));let n=document.createElement("div");n.className="replace-part",n.appendChild(this._replaceInput.domNode);const i=document.createElement("div");i.className="replace-actions",n.appendChild(i),i.appendChild(this._replaceBtn.domNode),i.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new J({label:H,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=o.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width="419px",this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(e),this._domNode.appendChild(n),this._resizeSash=new(0,l.Sash)(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let r=K;this._register(this._resizeSash.onDidStart((()=>{r=o.getTotalWidth(this._domNode)}))),this._register(this._resizeSash.onDidChange((e=>{this._resized=!0;let t=r+e.startX-e.currentX;if(t<K)return;t>(parseFloat(o.getComputedStyle(this._domNode).maxWidth)||0)||(this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=o.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())}))),this._register(this._resizeSash.onDidReset((()=>{const e=o.getTotalWidth(this._domNode);if(e<K)return;let t=K;if(!this._resized||e===K){const e=this._codeEditor.getLayoutInfo();t=e.width-28-e.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${t}px`,this._isReplaceVisible&&(this._replaceInput.width=o.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()})))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(2!==e)}constructor(e,t,n,i,r,s,a,l,c){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=i,this._keybindingService=r,this._contextKeyService=s,this._storageService=l,this._notificationService=c,this._ctrlEnterReplaceAllWarningPrompted=!!l.getBoolean(q,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new(0,u.Delayer)(500),this._register((0,h.toDisposable)((()=>this._updateHistoryDelayer.cancel()))),this._register(this._state.onFindReplaceStateChange((e=>this._onStateChanged(e)))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration((e=>{if(e.hasChanged(79)&&(this._codeEditor.getOption(79)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),e.hasChanged(129)&&this._tryUpdateWidgetWidth(),e.hasChanged(2)&&this.updateAccessibilitySupport(),e.hasChanged(33)){const e=this._codeEditor.getOption(33).addExtraSpaceOnTop;e&&!this._viewZone&&(this._viewZone=new G(0),this._showViewZone()),!e&&this._viewZone&&this._removeViewZone()}}))),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection((()=>{this._isVisible&&this._updateToggleSelectionFindButton()}))),this._register(this._codeEditor.onDidFocusEditorWidget((()=>x(this,void 0,void 0,(function*(){if(this._isVisible){let e=yield this._controller.getGlobalBufferTerm();e&&e!==this._state.searchString&&(this._state.change({searchString:e},!1),this._findInput.select())}}))))),this._findInputFocused=m.CONTEXT_FIND_INPUT_FOCUSED.bindTo(s),this._findFocusTracker=this._register(o.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus((()=>{this._findInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._findFocusTracker.onDidBlur((()=>{this._findInputFocused.set(!1)}))),this._replaceInputFocused=m.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(s),this._replaceFocusTracker=this._register(o.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus((()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()}))),this._register(this._replaceFocusTracker.onDidBlur((()=>{this._replaceInputFocused.set(!1)}))),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(33).addExtraSpaceOnTop&&(this._viewZone=new G(0)),this._applyTheme(a.getColorTheme()),this._register(a.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel((()=>{this._isVisible&&(this._viewZoneId=void 0)}))),this._register(this._codeEditor.onDidScrollChange((e=>{e.scrollTopChanged?this._layoutViewZone():setTimeout((()=>{this._layoutViewZone()}),0)})))}}Z.ID="editor.contrib.findWidget";class J extends c.Widget{get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...b.ThemeIcon.asClassNameArray(w)),this._domNode.classList.add(...b.ThemeIcon.asClassNameArray(k))):(this._domNode.classList.remove(...b.ThemeIcon.asClassNameArray(k)),this._domNode.classList.add(...b.ThemeIcon.asClassNameArray(w)))}constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+b.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,(e=>{this._opts.onTrigger(),e.preventDefault()})),this.onkeydown(this._domNode,(e=>{if(e.equals(10)||e.equals(3))return this._opts.onTrigger(),void e.preventDefault();this._opts.onKeyDown&&this._opts.onKeyDown(e)}))}}(0,b.registerThemingParticipant)(((e,t)=>{const n=(e,n)=>{n&&t.addRule(`.monaco-editor ${e} { background-color: ${n}; }`)};n(".findMatch",e.getColor(v.editorFindMatchHighlight)),n(".currentFindMatch",e.getColor(v.editorFindMatch)),n(".findScope",e.getColor(v.editorFindRangeHighlight));n(".find-widget",e.getColor(v.editorWidgetBackground));const i=e.getColor(v.widgetShadow);i&&t.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${i}; }`);const o=e.getColor(v.editorFindMatchHighlightBorder);o&&t.addRule(`.monaco-editor .findMatch { border: 1px ${"hc"===e.type?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const r=e.getColor(v.editorFindMatchBorder);r&&t.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${r}; padding: 1px; box-sizing: border-box; }`);const s=e.getColor(v.editorFindRangeHighlightBorder);s&&t.addRule(`.monaco-editor .findScope { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; }`);const a=e.getColor(v.contrastBorder);a&&t.addRule(`.monaco-editor .find-widget { border: 1px solid ${a}; }`);const l=e.getColor(v.editorWidgetForeground);l&&t.addRule(`.monaco-editor .find-widget { color: ${l}; }`);const c=e.getColor(v.errorForeground);c&&t.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${c}; }`);const u=e.getColor(v.editorWidgetResizeBorder);if(u)t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${u}; }`);else{const n=e.getColor(v.editorWidgetBorder);n&&t.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${n}; }`)}const d=e.getColor(v.focusBorder);d&&t.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${d}; }`)}))})),r.register("2Lmhp",(function(t,n){e(t.exports,"ContextScopedFindInput",(function(){return g}),(function(e){return g=e})),e(t.exports,"ContextScopedReplaceInput",(function(){return f}),(function(e){return f=e}));var i=r("1N08n"),o=r("fh5sQ"),s=r("ft1dr"),a=r("7uWCE"),l=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},c=function(e,t){return function(n,i){t(n,i,e)}};const u="historyNavigationWidget",d="historyNavigationEnabled";function h(e,t){return e.getContext(document.activeElement).getValue(t)}function p(e,t){const n=function(e,t){return e.createScoped(t.target)}(e,t);!function(e,t,n){new(0,i.RawContextKey)(n,t).bindTo(e)}(n,t,u);return{scopedContextKeyService:n,historyNavigationEnablement:new(0,i.RawContextKey)(d,!0).bindTo(n)}}let g=class extends o.FindInput{constructor(e,t,n,i,o=!1){super(e,t,o,n),this._register(p(i,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};g=l([c(3,i.IContextKeyService)],g);let f=class extends a.ReplaceInput{constructor(e,t,n,i,o=!1){super(e,t,o,n),this._register(p(i,{target:this.inputBox.element,historyNavigator:this.inputBox}).scopedContextKeyService)}};f=l([c(3,i.IContextKeyService)],f),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:i.ContextKeyExpr.and(i.ContextKeyExpr.has(u),i.ContextKeyExpr.equals(d,!0)),primary:16,secondary:[528],handler:(e,t)=>{const n=h(e.get(i.IContextKeyService),u);if(n){n.historyNavigator.showPreviousValue()}}}),s.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:i.ContextKeyExpr.and(i.ContextKeyExpr.has(u),i.ContextKeyExpr.equals(d,!0)),primary:18,secondary:[530],handler:(e,t)=>{const n=h(e.get(i.IContextKeyService),u);if(n){n.historyNavigator.showNextValue()}}})})),r.register("fh5sQ",(function(t,n){e(t.exports,"FindInput",(function(){return d}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("5HrOl"),a=r("dFrQ5"),l=r("4zvzH"),c=r("jA2oA");const u=i.localize("defaultLabel","input");class d extends a.Widget{enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable()}setFocusInputOnOptionClick(e){this.fixFocusOnOptionClickEnabled=e}setEnabled(e){e?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(e){this.inputBox.value!==e&&(this.inputBox.value=e)}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(e),this.wholeWords.style(e),this.caseSensitive.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(e){this.caseSensitive.checked=e}getWholeWords(){return this.wholeWords.checked}setWholeWords(e){this.wholeWords.checked=e}getRegex(){return this.regex.checked}setRegex(e){this.regex.checked=e,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}clearMessage(){this.inputBox.hideMessage()}constructor(e,t,n,i){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this._onDidOptionChange=this._register(new(0,l.Emitter)),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new(0,l.Emitter)),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new(0,l.Emitter)),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new(0,l.Emitter)),this._onKeyUp=this._register(new(0,l.Emitter)),this._onCaseSensitiveKeyDown=this._register(new(0,l.Emitter)),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new(0,l.Emitter)),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=t,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||u,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const r=i.appendCaseSensitiveLabel||"",a=i.appendWholeWordsLabel||"",d=i.appendRegexLabel||"",h=i.history||[],p=!!i.flexibleHeight,g=!!i.flexibleWidth,f=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new(0,s.HistoryInputBox)(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:h,flexibleHeight:p,flexibleWidth:g,flexibleMaxHeight:f})),this.regex=this._register(new(0,c.RegexCheckbox)({appendTitle:d,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.regex.onKeyDown((e=>{this._onRegexKeyDown.fire(e)}))),this.wholeWords=this._register(new(0,c.WholeWordsCheckbox)({appendTitle:a,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this.caseSensitive=this._register(new(0,c.CaseSensitiveCheckbox)({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.caseSensitive.onKeyDown((e=>{this._onCaseSensitiveKeyDown.fire(e)}))),this._showOptionButtons&&(this.inputBox.paddingRight=this.caseSensitive.width()+this.wholeWords.width()+this.regex.width());let m=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=m.indexOf(document.activeElement);if(t>=0){let n=-1;e.equals(17)?n=(t+1)%m.length:e.equals(15)&&(n=0===t?m.length-1:t-1),e.equals(9)?(m[t].blur(),this.inputBox.focus()):n>=0&&m[n].focus(),o.EventHelper.stop(e,!0)}}}));let v=document.createElement("div");v.className="controls",v.style.display=this._showOptionButtons?"block":"none",v.appendChild(this.caseSensitive.domNode),v.appendChild(this.wholeWords.domNode),v.appendChild(this.regex.domNode),this.domNode.appendChild(v),e&&e.appendChild(this.domNode),this._register(o.addDisposableListener(this.inputBox.inputElement,"compositionstart",(e=>{this.imeSessionInProgress=!0}))),this._register(o.addDisposableListener(this.inputBox.inputElement,"compositionend",(e=>{this.imeSessionInProgress=!1,this._onInput.fire()}))),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}}})),r.register("7uWCE",(function(t,n){e(t.exports,"ReplaceInput",(function(){return g}));var i=r("9LBxC"),o=r("2vQKJ"),s=r("5HrOl"),a=r("dFrQ5"),l=r("4zvzH"),c=r("3cW8s"),u=r("evoAc");const d=i.localize("defaultLabel","input"),h=i.localize("label.preserveCaseCheckbox","Preserve Case");class p extends c.Checkbox{constructor(e){super({icon:u.Codicon.preserveCase,title:h+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class g extends a.Widget{enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}constructor(e,t,n,i){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new(0,l.Emitter)),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new(0,l.Emitter)),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new(0,l.Emitter)),this._onInput=this._register(new(0,l.Emitter)),this._onKeyUp=this._register(new(0,l.Emitter)),this._onPreserveCaseKeyDown=this._register(new(0,l.Emitter)),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=i.placeholder||"",this.validation=i.validation,this.label=i.label||d,this.inputActiveOptionBorder=i.inputActiveOptionBorder,this.inputActiveOptionForeground=i.inputActiveOptionForeground,this.inputActiveOptionBackground=i.inputActiveOptionBackground,this.inputBackground=i.inputBackground,this.inputForeground=i.inputForeground,this.inputBorder=i.inputBorder,this.inputValidationInfoBorder=i.inputValidationInfoBorder,this.inputValidationInfoBackground=i.inputValidationInfoBackground,this.inputValidationInfoForeground=i.inputValidationInfoForeground,this.inputValidationWarningBorder=i.inputValidationWarningBorder,this.inputValidationWarningBackground=i.inputValidationWarningBackground,this.inputValidationWarningForeground=i.inputValidationWarningForeground,this.inputValidationErrorBorder=i.inputValidationErrorBorder,this.inputValidationErrorBackground=i.inputValidationErrorBackground,this.inputValidationErrorForeground=i.inputValidationErrorForeground;const r=i.appendPreserveCaseLabel||"",a=i.history||[],c=!!i.flexibleHeight,u=!!i.flexibleWidth,h=i.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new(0,s.HistoryInputBox)(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:a,flexibleHeight:c,flexibleWidth:u,flexibleMaxHeight:h})),this.preserveCase=this._register(new p({appendTitle:r,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange((e=>{this._onDidOptionChange.fire(e),!e&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()}))),this._register(this.preserveCase.onKeyDown((e=>{this._onPreserveCaseKeyDown.fire(e)}))),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;let g=[this.preserveCase.domNode];this.onkeydown(this.domNode,(e=>{if(e.equals(15)||e.equals(17)||e.equals(9)){let t=g.indexOf(document.activeElement);if(t>=0){let n=-1;e.equals(17)?n=(t+1)%g.length:e.equals(15)&&(n=0===t?g.length-1:t-1),e.equals(9)?(g[t].blur(),this.inputBox.focus()):n>=0&&g[n].focus(),o.EventHelper.stop(e,!0)}}}));let f=document.createElement("div");f.className="controls",f.style.display=this._showOptionButtons?"block":"none",f.appendChild(this.preserveCase.domNode),this.domNode.appendChild(f),e&&e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,(e=>this._onKeyDown.fire(e))),this.onkeyup(this.inputBox.inputElement,(e=>this._onKeyUp.fire(e))),this.oninput(this.inputBox.inputElement,(e=>this._onInput.fire())),this.onmousedown(this.inputBox.inputElement,(e=>this._onMouseDown.fire(e)))}}})),r.register("1w29a",(function(e,t){var n=r("9LBxC"),i=r("6cqQ7"),o=r("78mNz"),s=r("6wKox"),a=r("izshX"),l=r("iNF8q"),c=r("eh64S"),u=r("dCsQE"),d=r("15xUL"),h=r("igipX"),p=r("gZNF6"),g=r("iD7e1"),f=r("cP6IK"),m=r("aZciE"),v=r("7sMsE"),b=r("4v610"),y=r("2zf51"),_=r("1N08n"),C=r("JzRxO"),x=r("5h6AG"),S=r("dGvPd"),w=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},k=function(e,t){return function(n,i){t(n,i,e)}};const E=new(0,_.RawContextKey)("foldingEnabled",!1);let D=class e extends l.Disposable{static get(t){return t.getContribution(e.ID)}saveViewState(){let e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){let t=this.foldingModel.isInitialized?this.foldingModel.getMemento():this.hiddenRangeModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){let t=this.editor.getModel();if(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)return;if(!e||e.lineCount!==t.getLineCount())return;if(this._currentModelHasFoldedImports=!!e.foldedImports,!e.collapsedRegions)return;e.provider!==v.ID_SYNTAX_PROVIDER&&e.provider!==b.ID_INIT_PROVIDER||(this.foldingStateMemento=e);const n=e.collapsedRegions;if(this.hiddenRangeModel.applyMemento(n)){const e=this.getFoldingModel();e&&e.then((e=>{if(e){this._restoringViewState=!0;try{e.applyMemento(n)}finally{this._restoringViewState=!1}}})).then(void 0,y.onUnexpectedError)}}onModelChanged(){this.localToDispose.clear();let e=this.editor.getModel();this._isEnabled&&e&&!e.isTooLargeForTokenization()&&(this._currentModelHasFoldedImports=!1,this.foldingModel=new(0,u.FoldingModel)(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new(0,p.HiddenRangeModel)(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange((e=>this.onHiddenRangesChanges(e)))),this.updateScheduler=new(0,s.Delayer)(200),this.cursorChangedScheduler=new(0,s.RunOnceScheduler)((()=>this.revealCursor()),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(m.FoldingRangeProviderRegistry.onDidChange((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration((()=>this.onFoldingStrategyChanged()))),this.localToDispose.add(this.editor.onDidChangeModelContent((()=>this.onModelContentChanged()))),this.localToDispose.add(this.editor.onDidChangeCursorPosition((()=>this.onCursorPositionChanged()))),this.localToDispose.add(this.editor.onMouseDown((e=>this.onEditorMouseDown(e)))),this.localToDispose.add(this.editor.onMouseUp((e=>this.onEditorMouseUp(e)))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.foldingStateMemento=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.onModelContentChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.onModelContentChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new(0,f.IndentRangeProvider)(e),this._useFoldingProviders&&this.foldingModel){let t=m.FoldingRangeProviderRegistry.ordered(this.foldingModel.textModel);if(0===t.length&&this.foldingStateMemento&&this.foldingStateMemento.collapsedRegions){return this.rangeProvider=new(0,b.InitializingRangeProvider)(e,this.foldingStateMemento.collapsedRegions,(()=>{this.foldingStateMemento=null,this.onFoldingStrategyChanged()}),3e4)}t.length>0&&(this.rangeProvider=new(0,v.SyntaxRangeProvider)(e,t,(()=>this.onModelContentChanged())))}return this.foldingStateMemento=null,this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onModelContentChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger((()=>{const e=this.foldingModel;if(!e)return null;const t=this.getRangeProvider(e.textModel);let n=this.foldingRegionPromise=(0,s.createCancelablePromise)((e=>t.compute(e)));return n.then((t=>{if(t&&n===this.foldingRegionPromise){let n;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const e=t.setCollapsedAllOfType(m.FoldingRangeKind.Imports.value,!0);e&&(n=S.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=e)}let i=this.editor.getSelections(),o=i?i.map((e=>e.startLineNumber)):[];e.update(t,o),n&&n.restore(this.editor)}return e}))})).then(void 0,(e=>((0,y.onUnexpectedError)(e),null))))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){let e=this.editor.getSelections();e&&this.hiddenRangeModel.adjustSelections(e)&&this.editor.setSelections(e)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();e&&e.then((e=>{if(e){let t=this.editor.getSelections();if(t&&t.length>0){let n=[];for(let i of t){let t=i.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(t)&&n.push(...e.getAllRegionsAtLine(t,(e=>e.isCollapsed&&t>e.startLineNumber)))}n.length&&(e.toggleCollapseState(n),this.reveal(t[0].getPosition()))}}})).then(void 0,y.onUnexpectedError)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range)return;if(!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:const i=e.target.detail,o=e.target.element.offsetLeft;if(i.offsetX-o<5)return;n=!0;break;case 7:if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()){if(!e.target.detail.isAfterLines)break}return;case 6:if(this.hiddenRangeModel.hasRanges()){let e=this.editor.getModel();if(e&&t.startColumn===e.getLineMaxColumn(t.startLineNumber))break}return;default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.getFoldingModel();if(!t||!this.mouseDownInfo||!e.target)return;let n=this.mouseDownInfo.lineNumber,i=this.mouseDownInfo.iconClicked,o=e.target.range;if(o&&o.startLineNumber===n){if(i){if(4!==e.target.type)return}else{let e=this.editor.getModel();if(!e||o.startColumn!==e.getLineMaxColumn(n))return}t.then((t=>{if(t){let o=t.getRegionAtLine(n);if(o&&o.startLineNumber===n){let r=o.isCollapsed;if(i||r){let i=[];if(e.event.altKey){let e=e=>!e.containedBy(o)&&!o.containedBy(e),n=t.getRegionsInside(null,e);for(const e of n)e.isCollapsed&&i.push(e);0===i.length&&(i=n)}else{let n=e.event.middleButton||e.event.shiftKey;if(n)for(const e of t.getRegionsInside(o))e.isCollapsed===r&&i.push(e);!r&&n&&0!==i.length||i.push(o)}t.toggleCollapseState(i),this.reveal({lineNumber:n,column:1})}}}})).then(void 0,y.onUnexpectedError)}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}constructor(e,t){super(),this.contextKeyService=t,this.localToDispose=this._register(new(0,l.DisposableStore)),this.editor=e;const n=this.editor.getOptions();this._isEnabled=n.get(35),this._useFoldingProviders="indentation"!==n.get(36),this._unfoldOnClickAfterEndOfLine=n.get(39),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=n.get(38),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingStateMemento=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new(0,d.FoldingDecorationProvider)(e),this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===n.get(98),this.foldingDecorationProvider.showFoldingHighlights=n.get(37),this.foldingEnabled=E.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel((()=>this.onModelChanged()))),this._register(this.editor.onDidChangeConfiguration((e=>{if(e.hasChanged(35)&&(this._isEnabled=this.editor.getOptions().get(35),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),e.hasChanged(98)||e.hasChanged(37)){const e=this.editor.getOptions();this.foldingDecorationProvider.autoHideFoldingControls="mouseover"===e.get(98),this.foldingDecorationProvider.showFoldingHighlights=e.get(37),this.onModelContentChanged()}e.hasChanged(36)&&(this._useFoldingProviders="indentation"!==this.editor.getOptions().get(36),this.onFoldingStrategyChanged()),e.hasChanged(39)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(39)),e.hasChanged(38)&&(this._foldingImportsByDefault=this.editor.getOptions().get(38))}))),this.onModelChanged()}};D.ID="editor.contrib.folding",D=w([k(1,_.IContextKeyService)],D);class I extends c.EditorAction{runEditorCommand(e,t,n){let i=D.get(t);if(!i)return;let o=i.getFoldingModel();return o?(this.reportTelemetry(e,t),o.then((e=>{if(e){this.invoke(i,e,t,n);const o=t.getSelection();o&&i.reveal(o.getStartPosition())}}))):void 0}getSelectedLines(e){let t=e.getSelections();return t?t.map((e=>e.startLineNumber)):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map((e=>e+1)):this.getSelectedLines(t)}run(e,t){}}function A(e){if(!i.isUndefined(e)){if(!i.isObject(e))return!1;const t=e;if(!i.isUndefined(t.levels)&&!i.isNumber(t.levels))return!1;if(!i.isUndefined(t.direction)&&!i.isString(t.direction))return!1;if(!(i.isUndefined(t.selectionLines)||i.isArray(t.selectionLines)&&t.selectionLines.every(i.isNumber)))return!1}return!0}class R extends I{getFoldingLevel(){return parseInt(this.id.substr(R.ID_PREFIX.length))}invoke(e,t,n){(0,u.setCollapseStateAtLevel)(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}R.ID_PREFIX="editor.foldLevel",R.ID=e=>R.ID_PREFIX+e;(0,c.registerEditorContribution)(D.ID,D),(0,c.registerEditorAction)(class extends I{invoke(e,t,n,i){let o=i&&i.levels||1,r=this.getLineNumbers(i,n);i&&"up"===i.direction?(0,u.setCollapseStateLevelsUp)(t,!1,o,r):(0,u.setCollapseStateLevelsDown)(t,!1,o,r)}constructor(){super({id:"editor.unfold",label:n.localize("unfoldAction.label","Unfold"),alias:"Unfold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t* 'levels': Number of levels to unfold. If not set, defaults to 1.\n\t\t\t\t\t\t* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.\n\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t",constraint:A,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n,i){(0,u.setCollapseStateLevelsDown)(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}constructor(){super({id:"editor.unfoldRecursively",label:n.localize("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2137),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n,i){let o=this.getLineNumbers(i,n);const r=i&&i.levels,s=i&&i.direction;"number"!=typeof r&&"string"!=typeof s?(0,u.setCollapseStateUp)(t,!0,o):"up"===s?(0,u.setCollapseStateLevelsUp)(t,!0,r||1,o):(0,u.setCollapseStateLevelsDown)(t,!0,r||1,o)}constructor(){super({id:"editor.fold",label:n.localize("foldAction.label","Fold"),alias:"Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:"Property-value pairs that can be passed through this argument:\n\t\t\t\t\t\t\t* 'levels': Number of levels to fold.\n\t\t\t\t\t\t\t* 'direction': If 'up', folds given number of levels up otherwise folds down.\n\t\t\t\t\t\t\t* 'selectionLines': The start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.\n\t\t\t\t\t\t\tIf no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.\n\t\t\t\t\t\t",constraint:A,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);(0,u.setCollapseStateLevelsDown)(t,!0,Number.MAX_VALUE,i)}constructor(){super({id:"editor.foldRecursively",label:n.localize("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2135),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){(0,u.setCollapseStateLevelsDown)(t,!0)}constructor(){super({id:"editor.foldAll",label:n.localize("foldAllAction.label","Fold All"),alias:"Fold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2069),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){(0,u.setCollapseStateLevelsDown)(t,!1)}constructor(){super({id:"editor.unfoldAll",label:n.localize("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2088),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){if(t.regions.hasTypes())(0,u.setCollapseStateForType)(t,m.FoldingRangeKind.Comment.value,!0);else{const e=n.getModel();if(!e)return;let i=g.LanguageConfigurationRegistry.getComments(e.getLanguageIdentifier().id);if(i&&i.blockCommentStartToken){let e=new RegExp("^\\s*"+(0,o.escapeRegExpCharacters)(i.blockCommentStartToken));(0,u.setCollapseStateForMatchingLines)(t,e,!0)}}}constructor(){super({id:"editor.foldAllBlockComments",label:n.localize("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2133),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){if(t.regions.hasTypes())(0,u.setCollapseStateForType)(t,m.FoldingRangeKind.Region.value,!0);else{const e=n.getModel();if(!e)return;let i=g.LanguageConfigurationRegistry.getFoldingRules(e.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){let e=new RegExp(i.markers.start);(0,u.setCollapseStateForMatchingLines)(t,e,!0)}}}constructor(){super({id:"editor.foldAllMarkerRegions",label:n.localize("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2077),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){if(t.regions.hasTypes())(0,u.setCollapseStateForType)(t,m.FoldingRangeKind.Region.value,!1);else{const e=n.getModel();if(!e)return;let i=g.LanguageConfigurationRegistry.getFoldingRules(e.getLanguageIdentifier().id);if(i&&i.markers&&i.markers.start){let e=new RegExp(i.markers.start);(0,u.setCollapseStateForMatchingLines)(t,e,!1)}}}constructor(){super({id:"editor.unfoldAllMarkerRegions",label:n.localize("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2078),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);(0,u.setCollapseStateForRest)(t,!0,i)}constructor(){super({id:"editor.foldAllExcept",label:n.localize("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2131),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);(0,u.setCollapseStateForRest)(t,!1,i)}constructor(){super({id:"editor.unfoldAllExcept",label:n.localize("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2129),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);(0,u.toggleCollapseState)(t,1,i)}constructor(){super({id:"editor.toggleFold",label:n.localize("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2090),weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);if(i.length>0){let e=(0,u.getParentFoldLine)(i[0],t);null!==e&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoParentFold",label:n.localize("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);if(i.length>0){let e=(0,u.getPreviousFoldLine)(i[0],t);null!==e&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoPreviousFold",label:n.localize("gotoPreviousFold.label","Go to Previous Fold"),alias:"Go to Previous Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}}),(0,c.registerEditorAction)(class extends I{invoke(e,t,n){let i=this.getSelectedLines(n);if(i.length>0){let e=(0,u.getNextFoldLine)(i[0],t);null!==e&&n.setSelection({startLineNumber:e,startColumn:1,endLineNumber:e,endColumn:1})}}constructor(){super({id:"editor.gotoNextFold",label:n.localize("gotoNextFold.label","Go to Next Fold"),alias:"Go to Next Fold",precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,weight:100}})}});for(let e=1;e<=7;e++)(0,c.registerInstantiatedEditorAction)(new R({id:R.ID(e),label:n.localize("foldLevelAction.label","Fold Level {0}",e),alias:`Fold Level ${e}`,precondition:E,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:(0,a.KeyChord)(2089,2048|21+e),weight:100}}));const L=(0,x.registerColor)("editor.foldBackground",{light:(0,x.transparent)(x.editorSelectionBackground,.3),dark:(0,x.transparent)(x.editorSelectionBackground,.3),hc:null},n.localize("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),M=(0,x.registerColor)("editorGutter.foldingControlForeground",{dark:x.iconForeground,light:x.iconForeground,hc:x.iconForeground},n.localize("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,C.registerThemingParticipant)(((e,t)=>{const n=e.getColor(L);n&&t.addRule(`.monaco-editor .folded-background { background-color: ${n}; }`);const i=e.getColor(M);i&&t.addRule(`\n\t\t.monaco-editor .cldr${C.ThemeIcon.asCSSSelector(d.foldingExpandedIcon)},\n\t\t.monaco-editor .cldr${C.ThemeIcon.asCSSSelector(d.foldingCollapsedIcon)} {\n\t\t\tcolor: ${i} !important;\n\t\t}\n\t\t`)}))})),r.register("dCsQE",(function(t,n){e(t.exports,"FoldingModel",(function(){return s})),e(t.exports,"toggleCollapseState",(function(){return a})),e(t.exports,"setCollapseStateLevelsDown",(function(){return l})),e(t.exports,"setCollapseStateLevelsUp",(function(){return c})),e(t.exports,"setCollapseStateUp",(function(){return u})),e(t.exports,"setCollapseStateAtLevel",(function(){return d})),e(t.exports,"setCollapseStateForRest",(function(){return h})),e(t.exports,"setCollapseStateForMatchingLines",(function(){return p})),e(t.exports,"setCollapseStateForType",(function(){return g})),e(t.exports,"getParentFoldLine",(function(){return f})),e(t.exports,"getPreviousFoldLine",(function(){return m})),e(t.exports,"getNextFoldLine",(function(){return v}));var i=r("4zvzH"),o=r("fjn3D");class s{get regions(){return this._regions}get textModel(){return this._textModel}get isInitialized(){return this._isInitialized}toggleCollapseState(e){if(!e.length)return;e=e.sort(((e,t)=>e.regionIndex-t.regionIndex));const t={};this._decorationProvider.changeDecorations((n=>{let i=0,o=-1,r=-1;const s=e=>{for(;i<e;){const e=this._regions.getEndLineNumber(i),t=this._regions.isCollapsed(i);e<=o&&n.changeDecorationOptions(this._editorDecorationIds[i],this._decorationProvider.getDecorationOption(t,e<=r)),t&&e>r&&(r=e),i++}};for(let n of e){let e=n.regionIndex,i=this._editorDecorationIds[e];if(i&&!t[i]){t[i]=!0,s(e);let n=!this._regions.isCollapsed(e);this._regions.setCollapsed(e,n),o=Math.max(o,this._regions.getEndLineNumber(e))}}s(this._regions.length)})),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}update(e,t=[]){let n=[],i=-1,o=(o,r)=>{const s=e.getStartLineNumber(o),a=e.getEndLineNumber(o);r||(r=e.isCollapsed(o)),r&&((e,n)=>{for(let i of t)if(e<i&&i<=n)return!0;return!1})(s,a)&&(r=!1),e.setCollapsed(o,r);const l=this._textModel.getLineMaxColumn(s),c={startLineNumber:s,startColumn:Math.max(l-1,1),endLineNumber:s,endColumn:l};n.push({range:c,options:this._decorationProvider.getDecorationOption(r,a<=i)}),r&&a>i&&(i=a)},r=0,s=()=>{for(;r<this._regions.length;){let e=this._regions.isCollapsed(r);if(r++,e)return r-1}return-1},a=0,l=s();for(;-1!==l&&a<e.length;){let t=this._textModel.getDecorationRange(this._editorDecorationIds[l]);if(t){let n=t.startLineNumber;if(t.startColumn===Math.max(t.endColumn-1,1)&&this._textModel.getLineMaxColumn(n)===t.endColumn)for(;a<e.length;){let t=e.getStartLineNumber(a);if(!(n>=t))break;o(a,n===t),a++}}l=s()}for(;a<e.length;)o(a,!1),a++;this._editorDecorationIds=this._decorationProvider.deltaDecorations(this._editorDecorationIds,n),this._regions=e,this._isInitialized=!0,this._updateEventEmitter.fire({model:this})}getMemento(){let e=[];for(let t=0;t<this._regions.length;t++)if(this._regions.isCollapsed(t)){let n=this._textModel.getDecorationRange(this._editorDecorationIds[t]);if(n){let i=n.startLineNumber,o=n.endLineNumber+this._regions.getEndLineNumber(t)-this._regions.getStartLineNumber(t);e.push({startLineNumber:i,endLineNumber:o})}}if(e.length>0)return e}applyMemento(e){if(!Array.isArray(e))return;let t=[];for(let n of e){let e=this.getRegionAtLine(n.startLineNumber);e&&!e.isCollapsed&&t.push(e)}this.toggleCollapseState(t)}dispose(){this._decorationProvider.deltaDecorations(this._editorDecorationIds,[])}getAllRegionsAtLine(e,t){let n=[];if(this._regions){let i=this._regions.findRange(e),o=1;for(;i>=0;){let e=this._regions.toRegion(i);t&&!t(e,o)||n.push(e),o++,i=e.parentIndex}}return n}getRegionAtLine(e){if(this._regions){let t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){let n=[],i=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&2===t.length){const e=[];for(let r=i,s=this._regions.length;r<s;r++){let i=this._regions.toRegion(r);if(!(this._regions.getStartLineNumber(r)<o))break;for(;e.length>0&&!i.containedBy(e[e.length-1]);)e.pop();e.push(i),t(i,e.length)&&n.push(i)}}else for(let e=i,r=this._regions.length;e<r;e++){let i=this._regions.toRegion(e);if(!(this._regions.getStartLineNumber(e)<o))break;t&&!t(i)||n.push(i)}return n}constructor(e,t){this._updateEventEmitter=new(0,i.Emitter),this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new(0,o.FoldingRegions)(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[],this._isInitialized=!1}}function a(e,t,n){let i=[];for(let o of n){let n=e.getRegionAtLine(o);if(n){const o=!n.isCollapsed;if(i.push(n),t>1){let r=e.getRegionsInside(n,((e,n)=>e.isCollapsed!==o&&n<t));i.push(...r)}}}e.toggleCollapseState(i)}function l(e,t,n=Number.MAX_VALUE,i){let o=[];if(i&&i.length>0)for(let r of i){let i=e.getRegionAtLine(r);if(i&&(i.isCollapsed!==t&&o.push(i),n>1)){let r=e.getRegionsInside(i,((e,i)=>e.isCollapsed!==t&&i<n));o.push(...r)}}else{let i=e.getRegionsInside(null,((e,i)=>e.isCollapsed!==t&&i<n));o.push(...i)}e.toggleCollapseState(o)}function c(e,t,n,i){let o=[];for(let r of i){let i=e.getAllRegionsAtLine(r,((e,i)=>e.isCollapsed!==t&&i<=n));o.push(...i)}e.toggleCollapseState(o)}function u(e,t,n){let i=[];for(let o of n){let n=e.getAllRegionsAtLine(o,(e=>e.isCollapsed!==t));n.length>0&&i.push(n[0])}e.toggleCollapseState(i)}function d(e,t,n,i){let o=e.getRegionsInside(null,((e,o)=>o===t&&e.isCollapsed!==n&&!i.some((t=>e.containsLine(t)))));e.toggleCollapseState(o)}function h(e,t,n){let i=[];for(let t of n)i.push(e.getAllRegionsAtLine(t,void 0)[0]);let o=e.getRegionsInside(null,(e=>i.every((t=>!t.containedBy(e)&&!e.containedBy(t)))&&e.isCollapsed!==t));e.toggleCollapseState(o)}function p(e,t,n){let i=e.textModel,o=e.regions,r=[];for(let e=o.length-1;e>=0;e--)if(n!==o.isCollapsed(e)){let n=o.getStartLineNumber(e);t.test(i.getLineContent(n))&&r.push(o.toRegion(e))}e.toggleCollapseState(r)}function g(e,t,n){let i=e.regions,o=[];for(let e=i.length-1;e>=0;e--)n!==i.isCollapsed(e)&&t===i.getType(e)&&o.push(i.toRegion(e));e.toggleCollapseState(o)}function f(e,t){let n=null,i=t.getRegionAtLine(e);if(null!==i&&(n=i.startLineNumber,e===n)){let e=i.parentIndex;n=-1!==e?t.regions.getStartLineNumber(e):null}return n}function m(e,t){let n=t.getRegionAtLine(e);if(null!==n){if(e!==n.startLineNumber)return n.startLineNumber;{let e=n.parentIndex;if(-1===e)return null;let i=t.regions.getStartLineNumber(n.parentIndex);for(;null!==n;){if(!(n.regionIndex>0))return null;if(n=t.regions.toRegion(n.regionIndex-1),n.startLineNumber<=i)return null;if(n.parentIndex===e)return n.startLineNumber}}}return null}function v(e,t){let n=t.getRegionAtLine(e);if(null!==n){let e=n.parentIndex;if(-1===e)return null;let i=t.regions.getEndLineNumber(n.parentIndex);for(;null!==n;){if(!(n.regionIndex<t.regions.length))return null;if(n=t.regions.toRegion(n.regionIndex+1),n.startLineNumber>=i)return null;if(n.parentIndex===e)return n.startLineNumber}}return null}})),r.register("fjn3D",(function(t,n){e(t.exports,"MAX_LINE_NUMBER",(function(){return i})),e(t.exports,"FoldingRegions",(function(){return r}));const i=16777215,o=4278190080;class r{ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;let e=[],t=(t,n)=>{let i=e[e.length-1];return this.getStartLineNumber(i)<=t&&this.getEndLineNumber(i)>=n};for(let n=0,o=this._startIndexes.length;n<o;n++){let o=this._startIndexes[n],r=this._endIndexes[n];if(o>i||r>i)throw new Error("startLineNumber or endLineNumber must not exceed "+i);for(;e.length>0&&!t(o,r);)e.pop();let s=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=o+((255&s)<<24),this._endIndexes[n]=r+((65280&s)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&i}getEndLineNumber(e){return this._endIndexes[e]&i}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){let t=e/32|0,n=e%32;return 0!=(this._collapseStates[t]&1<<n)}setCollapsed(e,t){let n=e/32|0,i=e%32,o=this._collapseStates[n];this._collapseStates[n]=t?o|1<<i:o&~(1<<i)}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let i=0;i<this._types.length;i++)this._types[i]===e&&(this.setCollapsed(i,t),n=!0);return n}toRegion(e){return new s(this,e)}getParentIndex(e){this.ensureParentIndices();let t=((this._startIndexes[e]&o)>>>24)+((this._endIndexes[e]&o)>>>16);return 65535===t?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(0===n)return-1;for(;t<n;){let i=Math.floor((t+n)/2);e<this.getStartLineNumber(i)?n=i:t=i+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);-1!==t;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){let e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}constructor(e,t,n){if(e.length!==t.length||e.length>65535)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new Uint32Array(Math.ceil(e.length/32)),this._types=n,this._parentsComputed=!1}}class s{get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}constructor(e,t){this.ranges=e,this.index=t}}})),r.register("15xUL",(function(t,n){e(t.exports,"foldingExpandedIcon",(function(){return c})),e(t.exports,"foldingCollapsedIcon",(function(){return u})),e(t.exports,"FoldingDecorationProvider",(function(){return d}));var i=r("cVvMG"),o=r("evoAc"),s=r("9LBxC"),a=r("fAMPC"),l=r("JzRxO");const c=(0,a.registerIcon)("folding-expanded",o.Codicon.chevronDown,(0,s.localize)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),u=(0,a.registerIcon)("folding-collapsed",o.Codicon.chevronRight,(0,s.localize)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin."));class d{getDecorationOption(e,t){return t?d.HIDDEN_RANGE_DECORATION:e?this.showFoldingHighlights?d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:d.COLLAPSED_VISUAL_DECORATION:this.autoHideFoldingControls?d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:d.EXPANDED_VISUAL_DECORATION}deltaDecorations(e,t){return this.editor.deltaDecorations(e,t)}changeDecorations(e){return this.editor.changeDecorations(e)}constructor(e){this.editor=e,this.autoHideFoldingControls=!0,this.showFoldingHighlights=!0}}d.COLLAPSED_VISUAL_DECORATION=i.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:l.ThemeIcon.asClassName(u)}),d.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=i.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:1,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:l.ThemeIcon.asClassName(u)}),d.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=i.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:l.ThemeIcon.asClassName(c)}),d.EXPANDED_VISUAL_DECORATION=i.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+l.ThemeIcon.asClassName(c)}),d.HIDDEN_RANGE_DECORATION=i.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})})),r.register("gZNF6",(function(t,n){e(t.exports,"HiddenRangeModel",(function(){return a}));var i=r("4zvzH"),o=r("dSV0M"),s=r("cCPZ6");class a{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}updateHiddenRanges(){let e=!1,t=[],n=0,i=0,r=Number.MAX_VALUE,s=-1,a=this._foldingModel.regions;for(;n<a.length;n++){if(!a.isCollapsed(n))continue;let l=a.getStartLineNumber(n)+1,c=a.getEndLineNumber(n);r<=l&&c<=s||(!e&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===l&&this._hiddenRanges[i].endLineNumber===c?(t.push(this._hiddenRanges[i]),i++):(e=!0,t.push(new(0,o.Range)(l,1,c,1))),r=l,s=c)}(e||i<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyMemento(e){if(!Array.isArray(e)||0===e.length)return!1;let t=[];for(let n of e){if(!n.startLineNumber||!n.endLineNumber)return!1;t.push(new(0,o.Range)(n.startLineNumber+1,1,n.endLineNumber,1))}return this.applyHiddenRanges(t),!0}getMemento(){return this._hiddenRanges.map((e=>({startLineNumber:e.startLineNumber-1,endLineNumber:e.endLineNumber})))}applyHiddenRanges(e){this._hiddenRanges=e,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return null!==l(this._hiddenRanges,e)}adjustSelections(e){let t=!1,n=this._foldingModel.textModel,i=null,o=e=>(i&&function(e,t){return e>=t.startLineNumber&&e<=t.endLineNumber}(e,i)||(i=l(this._hiddenRanges,e)),i?i.startLineNumber-1:null);for(let i=0,r=e.length;i<r;i++){let r=e[i],s=o(r.startLineNumber);s&&(r=r.setStartPosition(s,n.getLineMaxColumn(s)),t=!0);let a=o(r.endLineNumber);a&&(r=r.setEndPosition(a,n.getLineMaxColumn(a)),t=!0),e[i]=r}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}constructor(e){this._updateEventEmitter=new(0,i.Emitter),this._foldingModel=e,this._foldingModelListener=e.onDidChange((e=>this.updateHiddenRanges())),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}}function l(e,t){let n=(0,s.findFirstInSorted)(e,(e=>t<e.startLineNumber))-1;return n>=0&&e[n].endLineNumber>=t?e[n]:null}})),r.register("cP6IK",(function(t,n){e(t.exports,"IndentRangeProvider",(function(){return a}));var i=r("fjn3D"),o=r("cVvMG"),s=r("iD7e1");class a{dispose(){}compute(e){let t=s.LanguageConfigurationRegistry.getFoldingRules(this.editorModel.getLanguageIdentifier().id),n=t&&!!t.offSide,i=t&&t.markers;return Promise.resolve(function(e,t,n,i=5e3){const r=e.getOptions().tabSize;let s,a=new l(i);n&&(s=new RegExp(`(${n.start.source})|(?:${n.end.source})`));let c=[],u=e.getLineCount()+1;c.push({indent:-1,endAbove:u,line:u});for(let n=e.getLineCount();n>0;n--){let i,l=e.getLineContent(n),u=o.TextModel.computeIndentLevel(l,r),d=c[c.length-1];if(-1!==u){if(s&&(i=l.match(s))){if(!i[1]){c.push({indent:-2,endAbove:n,line:n});continue}{let e=c.length-1;for(;e>0&&-2!==c[e].indent;)e--;if(e>0){c.length=e+1,d=c[e],a.insertFirst(n,d.line,u),d.line=n,d.indent=u,d.endAbove=n;continue}}}if(d.indent>u){do{c.pop(),d=c[c.length-1]}while(d.indent>u);let e=d.endAbove-1;e-n>=1&&a.insertFirst(n,e,u)}d.indent===u?d.endAbove=n:c.push({indent:u,endAbove:n,line:n})}else t&&(d.endAbove=n)}return a.toIndentRanges(e)}(this.editorModel,n,i))}constructor(e){this.editorModel=e,this.id="indent"}}class l{insertFirst(e,t,n){if(e>i.MAX_LINE_NUMBER||t>i.MAX_LINE_NUMBER)return;let o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=this._length-1,i=0;n>=0;n--,i++)e[i]=this._startIndexes[n],t[i]=this._endIndexes[n];return new(0,i.FoldingRegions)(e,t)}{let t=0,n=this._indentOccurrences.length;for(let e=0;e<this._indentOccurrences.length;e++){let i=this._indentOccurrences[e];if(i){if(i+t>this._foldingRangesLimit){n=e;break}t+=i}}const r=e.getOptions().tabSize;let s=new Uint32Array(this._foldingRangesLimit),a=new Uint32Array(this._foldingRangesLimit);for(let i=this._length-1,l=0;i>=0;i--){let c=this._startIndexes[i],u=e.getLineContent(c),d=o.TextModel.computeIndentLevel(u,r);(d<n||d===n&&t++<this._foldingRangesLimit)&&(s[l]=c,a[l]=this._endIndexes[i],l++)}return new(0,i.FoldingRegions)(s,a)}}constructor(e){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}}})),r.register("7sMsE",(function(t,n){e(t.exports,"ID_SYNTAX_PROVIDER",(function(){return l})),e(t.exports,"SyntaxRangeProvider",(function(){return c})),e(t.exports,"sanitizeRanges",(function(){return d}));var i=r("2zf51"),o=r("fjn3D"),s=r("iNF8q");const a={},l="syntax";class c{compute(e){return function(e,t,n){let o=null,r=e.map(((e,r)=>Promise.resolve(e.provideFoldingRanges(t,a,n)).then((e=>{if(!n.isCancellationRequested&&Array.isArray(e)){Array.isArray(o)||(o=[]);let n=t.getLineCount();for(let t of e)t.start>0&&t.end>t.start&&t.end<=n&&o.push({start:t.start,end:t.end,rank:r,kind:t.kind})}}),i.onUnexpectedExternalError)));return Promise.all(r).then((e=>o))}(this.providers,this.editorModel,e).then((e=>{if(e){return d(e,this.limit)}return null}))}dispose(){var e;null===(e=this.disposables)||void 0===e||e.dispose()}constructor(e,t,n,i=5e3){this.editorModel=e,this.providers=t,this.limit=i,this.id=l;for(const e of t)"function"==typeof e.onDidChange&&(this.disposables||(this.disposables=new(0,s.DisposableStore)),this.disposables.add(e.onDidChange(n)))}}class u{add(e,t,n,i){if(e>o.MAX_LINE_NUMBER||t>o.MAX_LINE_NUMBER)return;let r=this._length;this._startIndexes[r]=e,this._endIndexes[r]=t,this._nestingLevels[r]=i,this._types[r]=n,this._length++,i<30&&(this._nestingLevelCounts[i]=(this._nestingLevelCounts[i]||0)+1)}toIndentRanges(){if(this._length<=this._foldingRangesLimit){let e=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)e[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new(0,o.FoldingRegions)(e,t,this._types)}{let e=0,t=this._nestingLevelCounts.length;for(let n=0;n<this._nestingLevelCounts.length;n++){let i=this._nestingLevelCounts[n];if(i){if(i+e>this._foldingRangesLimit){t=n;break}e+=i}}let n=new Uint32Array(this._foldingRangesLimit),i=new Uint32Array(this._foldingRangesLimit),r=[];for(let o=0,s=0;o<this._length;o++){let a=this._nestingLevels[o];(a<t||a===t&&e++<this._foldingRangesLimit)&&(n[s]=this._startIndexes[o],i[s]=this._endIndexes[o],r[s]=this._types[o],s++)}return new(0,o.FoldingRegions)(n,i,r)}}constructor(e){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}}function d(e,t){let n,i=e.sort(((e,t)=>{let n=e.start-t.start;return 0===n&&(n=e.rank-t.rank),n})),o=new u(t),r=[];for(let e of i)if(n){if(e.start>n.start)if(e.end<=n.end)r.push(n),n=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);else{if(e.start>n.end){do{n=r.pop()}while(n&&e.start>n.end);n&&r.push(n),n=e}o.add(e.start,e.end,e.kind&&e.kind.value,r.length)}}else n=e,o.add(e.start,e.end,e.kind&&e.kind.value,r.length);return o.toIndentRanges()}})),r.register("4v610",(function(t,n){e(t.exports,"ID_INIT_PROVIDER",(function(){return o})),e(t.exports,"InitializingRangeProvider",(function(){return s}));var i=r("7sMsE");const o="init";class s{dispose(){this.decorationIds&&(this.editorModel.deltaDecorations(this.decorationIds,[]),this.decorationIds=void 0),"number"==typeof this.timeout&&(clearTimeout(this.timeout),this.timeout=void 0)}compute(e){let t=[];if(this.decorationIds)for(let e of this.decorationIds){let n=this.editorModel.getDecorationRange(e);n&&t.push({start:n.startLineNumber,end:n.endLineNumber,rank:1})}return Promise.resolve((0,i.sanitizeRanges)(t,Number.MAX_VALUE))}constructor(e,t,n,i){if(this.editorModel=e,this.id=o,t.length){let o=t=>({range:{startLineNumber:t.startLineNumber,startColumn:0,endLineNumber:t.endLineNumber,endColumn:e.getLineLength(t.endLineNumber)},options:{description:"folding-initializing-range-provider",stickiness:1}});this.decorationIds=e.deltaDecorations([],t.map(o)),this.timeout=setTimeout(n,i)}}}})),r.register("e2aKx",(function(e,t){var n=r("9LBxC"),i=r("eh64S"),o=r("gGhJM");class s extends i.EditorAction{run(e,t){o.EditorZoom.setZoomLevel(o.EditorZoom.getZoomLevel()+1)}constructor(){super({id:"editor.action.fontZoomIn",label:n.localize("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}}class a extends i.EditorAction{run(e,t){o.EditorZoom.setZoomLevel(o.EditorZoom.getZoomLevel()-1)}constructor(){super({id:"editor.action.fontZoomOut",label:n.localize("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}}class l extends i.EditorAction{run(e,t){o.EditorZoom.setZoomLevel(0)}constructor(){super({id:"editor.action.fontZoomReset",label:n.localize("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}}(0,i.registerEditorAction)(s),(0,i.registerEditorAction)(a),(0,i.registerEditorAction)(l)})),r.register("cJkEr",(function(e,t){var n=r("cCPZ6"),i=r("dq3o1"),o=r("izshX"),s=r("iNF8q"),a=r("eh64S"),l=r("7yAvG"),c=r("0FIFl"),u=r("dSV0M"),d=r("igipX"),h=r("aZciE"),p=r("ki64z"),g=r("a9TOr"),f=r("ah05f"),m=r("9LBxC"),v=r("7YObE"),b=r("1N08n"),y=r("blTDv"),_=r("2zf51"),C=r("cIR7X"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}},w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let k=class{dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){if(this._callOnModel.clear(),!this._editor.getOption(46))return;if(!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=h.OnTypeFormattingEditProviderRegistry.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;let n=new(0,c.CharacterSet);for(let e of t.autoFormatTriggerCharacters)n.add(e.charCodeAt(0));this._callOnModel.add(this._editor.onDidType((e=>{let t=e.charCodeAt(e.length-1);n.has(t)&&this._trigger(String.fromCharCode(t))})))}_trigger(e){if(!this._editor.hasModel())return;if(this._editor.getSelections().length>1)return;const t=this._editor.getModel(),i=this._editor.getPosition();let o=!1;const r=this._editor.onDidChangeModelContent((e=>{if(e.isFlush)return o=!0,void r.dispose();for(let t=0,n=e.changes.length;t<n;t++){if(e.changes[t].range.endLineNumber<=i.lineNumber)return o=!0,void r.dispose()}}));(0,g.getOnTypeFormattingEdits)(this._workerService,t,i,e,t.getFormattingOptions()).then((e=>{r.dispose(),o||(0,n.isNonEmptyArray)(e)&&(f.FormattingEdit.execute(this._editor,e,!0),(0,g.alertFormattingEdits)(e))}),(e=>{throw r.dispose(),e}))}constructor(e,t){this._workerService=t,this._callOnDispose=new(0,s.DisposableStore),this._callOnModel=new(0,s.DisposableStore),this._editor=e,this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(h.OnTypeFormattingEditProviderRegistry.onDidChange(this._update,this))}};k.ID="editor.contrib.autoFormat",k=x([S(1,p.IEditorWorkerService)],k);let E=class{dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(45)&&this.editor.hasModel()&&h.DocumentRangeFormattingEditProviderRegistry.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste((({range:e})=>this._trigger(e))))}_trigger(e){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(g.formatDocumentRangesWithSelectedProvider,this.editor,e,2,C.Progress.None,i.CancellationToken.None).catch(_.onUnexpectedError))}constructor(e,t){this.editor=e,this._instantiationService=t,this._callOnDispose=new(0,s.DisposableStore),this._callOnModel=new(0,s.DisposableStore),this._callOnDispose.add(e.onDidChangeConfiguration((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModel((()=>this._update()))),this._callOnDispose.add(e.onDidChangeModelLanguage((()=>this._update()))),this._callOnDispose.add(h.DocumentRangeFormattingEditProviderRegistry.onDidChange(this._update,this))}};E.ID="editor.contrib.formatOnPaste",E=x([S(1,y.IInstantiationService)],E);class D extends a.EditorAction{run(e,t){return w(this,void 0,void 0,(function*(){if(t.hasModel()){const n=e.get(y.IInstantiationService),o=e.get(C.IEditorProgressService);yield o.showWhile(n.invokeFunction(g.formatDocumentWithSelectedProvider,t,1,C.Progress.None,i.CancellationToken.None),250)}}))}constructor(){super({id:"editor.action.formatDocument",label:m.localize("formatDocument.label","Format Document"),alias:"Format Document",precondition:b.ContextKeyExpr.and(d.EditorContextKeys.notInCompositeEditor,d.EditorContextKeys.writable,d.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}}class I extends a.EditorAction{run(e,t){return w(this,void 0,void 0,(function*(){if(!t.hasModel())return;const n=e.get(y.IInstantiationService),o=t.getModel(),r=t.getSelections().map((e=>e.isEmpty()?new(0,u.Range)(e.startLineNumber,1,e.startLineNumber,o.getLineMaxColumn(e.startLineNumber)):e)),s=e.get(C.IEditorProgressService);yield s.showWhile(n.invokeFunction(g.formatDocumentRangesWithSelectedProvider,t,r,1,C.Progress.None,i.CancellationToken.None),250)}))}constructor(){super({id:"editor.action.formatSelection",label:m.localize("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:b.ContextKeyExpr.and(d.EditorContextKeys.writable,d.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:(0,o.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:d.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}}(0,a.registerEditorContribution)(k.ID,k),(0,a.registerEditorContribution)(E.ID,E),(0,a.registerEditorAction)(D),(0,a.registerEditorAction)(I),v.CommandsRegistry.registerCommand("editor.action.format",(e=>w(void 0,void 0,void 0,(function*(){const t=e.get(l.ICodeEditorService).getFocusedCodeEditor();if(!t||!t.hasModel())return;const n=e.get(v.ICommandService);t.getSelection().isEmpty()?yield n.executeCommand("editor.action.formatDocument"):yield n.executeCommand("editor.action.formatSelection")}))))})),r.register("7cT2D",(function(e,t){var n=r("65vvd"),i=r("3EdBC"),o=r("dq3o1"),s=r("d0Qsb"),a=r("9KzLP"),l=r("7YObE"),c=r("6cqQ7"),u=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function d(e,t,n){return u(this,void 0,void 0,(function*(){const i=yield a.OutlineModel.create(e,n);return t?i.asListOfDocumentSymbols():i.getTopLevelSymbols()}))}l.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",(function(e,...t){return u(this,void 0,void 0,(function*(){const[r]=t;(0,c.assertType)(n.URI.isUri(r));const a=e.get(i.IModelService).getModel(r);if(a)return d(a,!1,o.CancellationToken.None);const l=yield e.get(s.ITextModelService).createModelReference(r);try{return yield d(l.object.textEditorModel,!1,o.CancellationToken.None)}finally{l.dispose()}}))}))})),r.register("9KzLP",(function(t,n){e(t.exports,"OutlineModel",(function(){return f}));var i=r("cCPZ6"),o=r("dq3o1"),s=r("2zf51"),a=r("bngWv"),l=r("dSV0M"),c=r("aZciE"),u=r("7rbFH"),d=r("bpDGs");class h{remove(){this.parent&&this.parent.children.delete(this.id)}static findId(e,t){let n;"string"==typeof e?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,void 0!==t.children.get(n)&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let i=n;for(let e=0;void 0!==t.children.get(i);e++)i=`${n}_${e}`;return i}static empty(e){return 0===e.children.size}}class p extends h{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class g extends h{constructor(e,t,n,i){super(),this.id=e,this.parent=t,this.label=n,this.order=i,this.children=new Map}}class f extends h{static create(e,t){let n=this._keys.for(e,!0),i=f._requests.get(n);if(!i){let t=new(0,o.CancellationTokenSource);i={promiseCnt:0,source:t,promise:f._create(e,t.token),model:void 0},f._requests.set(n,i);const r=Date.now();i.promise.then((()=>{this._requestDurations.update(e,Date.now()-r)}))}return i.model?Promise.resolve(i.model):(i.promiseCnt+=1,t.onCancellationRequested((()=>{0==--i.promiseCnt&&(i.source.cancel(),f._requests.delete(n))})),new Promise(((e,t)=>{i.promise.then((t=>{i.model=t,e(t)}),(e=>{f._requests.delete(n),t(e)}))})))}static _create(e,t){const n=new(0,o.CancellationTokenSource)(t),r=new f(e.uri),a=c.DocumentSymbolProviderRegistry.ordered(e),l=a.map(((t,i)=>{var o;let a=h.findId(`provider_${i}`,r),l=new g(a,r,null!==(o=t.displayName)&&void 0!==o?o:"Unknown Outline Provider",i);return Promise.resolve(t.provideDocumentSymbols(e,n.token)).then((e=>{for(const t of e||[])f._makeOutlineElement(t,l);return l}),(e=>((0,s.onUnexpectedExternalError)(e),l))).then((e=>{h.empty(e)?e.remove():r._groups.set(a,e)}))})),u=c.DocumentSymbolProviderRegistry.onDidChange((()=>{const t=c.DocumentSymbolProviderRegistry.ordered(e);(0,i.equals)(t,a)||n.cancel()}));return Promise.all(l).then((()=>n.token.isCancellationRequested&&!t.isCancellationRequested?f._create(e,t):r._compact())).finally((()=>{u.dispose()}))}static _makeOutlineElement(e,t){let n=h.findId(e,t),i=new p(n,t,e);if(e.children)for(const t of e.children)f._makeOutlineElement(t,i);t.children.set(i.id,i)}_compact(){let e=0;for(const[t,n]of this._groups)0===n.children.size?this._groups.delete(t):e+=1;if(1!==e)this.children=this._groups;else{let e=u.Iterable.first(this._groups.values());for(let[,t]of e.children)t.parent=this,this.children.set(t.id,t)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof p?e.push(t.symbol):e.push(...u.Iterable.map(t.children.values(),(e=>e.symbol)));return e.sort(((e,t)=>l.Range.compareRangesUsingStarts(e.range,t.range)))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return f._flattenDocumentSymbols(t,e,""),t.sort(((e,t)=>l.Range.compareRangesUsingStarts(e.range,t.range)))}static _flattenDocumentSymbols(e,t,n){for(const i of t)e.push({kind:i.kind,tags:i.tags,name:i.name,detail:i.detail,containerName:i.containerName||n,range:i.range,selectionRange:i.selectionRange,children:void 0}),i.children&&f._flattenDocumentSymbols(e,i.children,i.name)}constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}}f._requestDurations=new(0,d.LanguageFeatureRequestDelays)(c.DocumentSymbolProviderRegistry,350),f._requests=new(0,a.LRUCache)(9,.75),f._keys=new class{for(e,t){return`${e.id}/${t?e.getVersionId():""}/${this._hash(c.DocumentSymbolProviderRegistry.all(e))}`}_hash(e){let t="";for(const n of e){let e=this._data.get(n);void 0===e&&(e=this._counter++,this._data.set(n,e)),t+=e}return t}constructor(){this._counter=1,this._data=new WeakMap}}})),r.register("9taTW",(function(e,t){var n=r("9LBxC"),i=r("iNF8q"),o=r("78mNz"),s=r("eh64S"),a=r("9unPH"),l=r("2zCwF"),c=r("dSV0M"),u=r("e8gAb"),d=r("igipX"),h=r("cVvMG"),p=r("iD7e1"),g=r("3EdBC"),f=r("k79Zg"),m=r("dBC60");function v(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return[];let r=p.LanguageConfigurationRegistry.getIndentationRules(e.getLanguageIdentifier().id);if(!r)return[];for(n=Math.min(n,e.getLineCount());t<=n&&r.unIndentedLinePattern;){let n=e.getLineContent(t);if(!r.unIndentedLinePattern.test(n))break;t++}if(t>n-1)return[];const{tabSize:s,indentSize:c,insertSpaces:d}=e.getOptions(),g=(e,t)=>(t=t||1,a.ShiftCommand.shiftIndent(e,e.length+t,s,c,d)),f=(e,t)=>(t=t||1,a.ShiftCommand.unshiftIndent(e,e.length+t,s,c,d));let m,v=[],b=e.getLineContent(t),y=b;if(null!=i){m=i;let e=o.getLeadingWhitespace(b);y=m+b.substring(e.length),r.decreaseIndentPattern&&r.decreaseIndentPattern.test(y)&&(m=f(m),y=m+b.substring(e.length)),b!==y&&v.push(l.EditOperation.replaceMove(new(0,u.Selection)(t,1,t,e.length+1),h.TextModel.normalizeIndentation(m,c,d)))}else m=o.getLeadingWhitespace(b);let _=m;r.increaseIndentPattern&&r.increaseIndentPattern.test(y)?(_=g(_),m=g(m)):r.indentNextLinePattern&&r.indentNextLinePattern.test(y)&&(_=g(_));for(let i=++t;i<=n;i++){let t=e.getLineContent(i),n=o.getLeadingWhitespace(t),s=_+t.substring(n.length);r.decreaseIndentPattern&&r.decreaseIndentPattern.test(s)&&(_=f(_),m=f(m)),n!==_&&v.push(l.EditOperation.replaceMove(new(0,u.Selection)(i,1,i,n.length+1),h.TextModel.normalizeIndentation(_,c,d))),r.unIndentedLinePattern&&r.unIndentedLinePattern.test(t)||(r.increaseIndentPattern&&r.increaseIndentPattern.test(s)?(m=g(m),_=m):_=r.indentNextLinePattern&&r.indentNextLinePattern.test(s)?g(_):m)}return v}class b extends s.EditorAction{run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const r=new A(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}constructor(){super({id:b.ID,label:n.localize("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:d.EditorContextKeys.writable})}}b.ID="editor.action.indentationToSpaces";class y extends s.EditorAction{run(e,t){let n=t.getModel();if(!n)return;let i=n.getOptions(),o=t.getSelection();if(!o)return;const r=new R(o,i.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}constructor(){super({id:y.ID,label:n.localize("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:d.EditorContextKeys.writable})}}y.ID="editor.action.indentationToTabs";class _ extends s.EditorAction{run(e,t){const i=e.get(m.IQuickInputService),o=e.get(g.IModelService);let r=t.getModel();if(!r)return;let s=o.getCreationOptions(r.getLanguageIdentifier().language,r.uri,r.isForSimpleWidget);const a=[1,2,3,4,5,6,7,8].map((e=>({id:e.toString(),label:e.toString(),description:e===s.tabSize?n.localize("configuredTabSize","Configured Tab Size"):void 0}))),l=Math.min(r.getOptions().tabSize-1,7);setTimeout((()=>{i.pick(a,{placeHolder:n.localize({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:a[l]}).then((e=>{e&&r&&!r.isDisposed()&&r.updateOptions({tabSize:parseInt(e.label,10),insertSpaces:this.insertSpaces})}))}),50)}constructor(e,t){super(t),this.insertSpaces=e}}class C extends _{constructor(){super(!1,{id:C.ID,label:n.localize("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}C.ID="editor.action.indentUsingTabs";class x extends _{constructor(){super(!0,{id:x.ID,label:n.localize("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}x.ID="editor.action.indentUsingSpaces";class S extends s.EditorAction{run(e,t){const n=e.get(g.IModelService);let i=t.getModel();if(!i)return;let o=n.getCreationOptions(i.getLanguageIdentifier().language,i.uri,i.isForSimpleWidget);i.detectIndentation(o.insertSpaces,o.tabSize)}constructor(){super({id:S.ID,label:n.localize("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}}S.ID="editor.action.detectIndentation";class w extends s.EditorAction{run(e,t){let n=t.getModel();if(!n)return;let i=v(n,1,n.getLineCount());i.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,i),t.pushUndoStop())}constructor(){super({id:"editor.action.reindentlines",label:n.localize("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:d.EditorContextKeys.writable})}}class k extends s.EditorAction{run(e,t){let n=t.getModel();if(!n)return;let i=t.getSelections();if(null===i)return;let o=[];for(let e of i){let t=e.startLineNumber,i=e.endLineNumber;if(t!==i&&1===e.endColumn&&i--,1===t){if(t===i)continue}else t--;let r=v(n,t,i);o.push(...r)}o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}constructor(){super({id:"editor.action.reindentselectedlines",label:n.localize("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:d.EditorContextKeys.writable})}}class E{getEditOperations(e,t){for(let e of this._edits)t.addEditOperation(c.Range.lift(e.range),e.text);let n=!1;Array.isArray(this._edits)&&1===this._edits.length&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(let t of e)t.range&&"string"==typeof t.text&&this._edits.push(t)}}class D{update(){this.callOnModel.clear(),this.editor.getOption(9)<4||this.editor.getOption(45)||this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste((({range:e})=>{this.trigger(e)})))}trigger(e){let t=this.editor.getSelections();if(null===t||t.length>1)return;const n=this.editor.getModel();if(!n)return;if(!n.isCheapToTokenize(e.getStartPosition().lineNumber))return;const i=this.editor.getOption(9),{tabSize:r,indentSize:s,insertSpaces:l}=n.getOptions();let u=[],d={shiftIndent:e=>a.ShiftCommand.shiftIndent(e,e.length+1,r,s,l),unshiftIndent:e=>a.ShiftCommand.unshiftIndent(e,e.length+1,r,s,l)},h=e.startLineNumber;for(;h<=e.endLineNumber&&this.shouldIgnoreLine(n,h);)h++;if(h>e.endLineNumber)return;let g=n.getLineContent(h);if(!/\S/.test(g.substring(0,e.startColumn-1))){let e=p.LanguageConfigurationRegistry.getGoodIndentForLine(i,n,n.getLanguageIdentifier().id,h,d);if(null!==e){let t=o.getLeadingWhitespace(g),i=f.getSpaceCnt(e,r);if(i!==f.getSpaceCnt(t,r)){let e=f.generateIndent(i,r,l);u.push({range:new(0,c.Range)(h,1,h,t.length+1),text:e}),g=e+g.substr(t.length)}else{let e=p.LanguageConfigurationRegistry.getIndentMetadata(n,h);if(0===e||8===e)return}}}const m=h;for(;h<e.endLineNumber&&!/\S/.test(n.getLineContent(h+1));)h++;if(h!==e.endLineNumber){let t={getLineTokens:e=>n.getLineTokens(e),getLanguageIdentifier:()=>n.getLanguageIdentifier(),getLanguageIdAtPosition:(e,t)=>n.getLanguageIdAtPosition(e,t),getLineContent:e=>e===m?g:n.getLineContent(e)},s=p.LanguageConfigurationRegistry.getGoodIndentForLine(i,t,n.getLanguageIdentifier().id,h+1,d);if(null!==s){let t=f.getSpaceCnt(s,r),i=f.getSpaceCnt(o.getLeadingWhitespace(n.getLineContent(h+1)),r);if(t!==i){let s=t-i;for(let t=h+1;t<=e.endLineNumber;t++){let e=n.getLineContent(t),i=o.getLeadingWhitespace(e),a=f.getSpaceCnt(i,r)+s,d=f.generateIndent(a,r,l);d!==i&&u.push({range:new(0,c.Range)(t,1,t,i.length+1),text:d})}}}}if(u.length>0){this.editor.pushUndoStop();let e=new E(u,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",e),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.forceTokenization(t);let n=e.getLineFirstNonWhitespaceColumn(t);if(0===n)return!0;let i=e.getLineTokens(t);if(i.getCount()>0){let e=i.findTokenIndexAtOffset(n);if(e>=0&&1===i.getStandardTokenType(e))return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}constructor(e){this.callOnDispose=new(0,i.DisposableStore),this.callOnModel=new(0,i.DisposableStore),this.editor=e,this.callOnDispose.add(e.onDidChangeConfiguration((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModel((()=>this.update()))),this.callOnDispose.add(e.onDidChangeModelLanguage((()=>this.update())))}}function I(e,t,n,i){if(1===e.getLineCount()&&1===e.getLineMaxColumn(1))return;let o="";for(let e=0;e<n;e++)o+=" ";let r=new RegExp(o,"gi");for(let n=1,s=e.getLineCount();n<=s;n++){let s=e.getLineFirstNonWhitespaceColumn(n);if(0===s&&(s=e.getLineMaxColumn(n)),1===s)continue;const a=new(0,c.Range)(n,1,n,s),l=e.getValueInRange(a),u=i?l.replace(/\t/gi,o):l.replace(r,"\t");t.addEditOperation(a,u)}}D.ID="editor.contrib.autoIndentOnPaste";class A{getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),I(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}}class R{getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),I(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}}(0,s.registerEditorContribution)(D.ID,D),(0,s.registerEditorAction)(b),(0,s.registerEditorAction)(y),(0,s.registerEditorAction)(C),(0,s.registerEditorAction)(x),(0,s.registerEditorAction)(S),(0,s.registerEditorAction)(w),(0,s.registerEditorAction)(k)})),r.register("k79Zg",(function(t,n){function i(e,t){let n=0;for(let i=0;i<e.length;i++)"\t"===e.charAt(i)?n+=t:n++;return n}function o(e,t,n){e=e<0?0:e;let i="";if(!n){let n=Math.floor(e/t);e%=t;for(let e=0;e<n;e++)i+="\t"}for(let t=0;t<e;t++)i+=" ";return i}e(t.exports,"getSpaceCnt",(function(){return i})),e(t.exports,"generateIndent",(function(){return o}))})),r.register("dWAg0",(function(e,t){var n=r("6wKox"),i=r("2zf51"),o=r("inPe9"),s=r("iNF8q"),a=r("eh64S"),l=r("7yAvG"),c=r("aZciE"),u=r("cCPZ6"),d=r("5h6AG"),h=r("dq3o1"),p=r("JzRxO"),g=r("dSV0M"),f=r("bpDGs"),m=r("7YObE"),v=r("65vvd"),b=r("6cqQ7"),y=r("d0Qsb"),_=r("aGBCV"),C=r("3ufSI"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}},w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function k(e,t,n){return w(this,void 0,void 0,(function*(){const o=[],r=c.InlayHintsProviderRegistry.ordered(e).reverse(),s=(0,u.flatten)(r.map((r=>t.map((t=>Promise.resolve(r.provideInlayHints(e,t,n)).then((e=>{e&&o.push({list:e,provider:r})}),(e=>{(0,i.onUnexpectedExternalError)(e)})))))));return yield Promise.all(s),o}))}let E=class{dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(125).enabled)return void this._removeAllDecorations();const e=this._editor.getModel();if(!e||!c.InlayHintsProviderRegistry.has(e))return void this._removeAllDecorations();const t=new(0,n.RunOnceScheduler)((()=>w(this,void 0,void 0,(function*(){const n=Date.now(),i=new(0,h.CancellationTokenSource);this._sessionDisposables.add((0,s.toDisposable)((()=>i.dispose(!0))));const o=this._editor.getVisibleRangesPlusViewportAboveBelow(),r=yield k(e,o,i.token),a=this._getInlayHintsDelays.update(e,Date.now()-n);t.delay=a,this._updateHintsDecorators(r)}))),this._getInlayHintsDelays.get(e));this._sessionDisposables.add(t),this._sessionDisposables.add(this._editor.onDidChangeModelContent((()=>t.schedule()))),this._disposables.add(this._editor.onDidScrollChange((()=>t.schedule()))),t.schedule();const i=new(0,s.DisposableStore);this._sessionDisposables.add(i);for(const n of c.InlayHintsProviderRegistry.all(e))"function"==typeof n.onDidChangeInlayHints&&i.add(n.onDidChangeInlayHints((()=>t.schedule())))}_updateHintsDecorators(e){const{fontSize:t,fontFamily:n}=this._getLayoutInfo(),i=this._themeService.getColorTheme().getColor(d.editorInlayHintBackground),r=this._themeService.getColorTheme().getColor(d.editorInlayHintForeground),s=[],a=[],l="--inlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(l,n);const c=this._configurationService.getValue("editor.useInjectedText"),u=void 0===c||!!c;for(const{list:n}of e)for(let e=0;e<n.length&&a.length<500;e++){const{text:c,position:d,whitespaceBefore:h,whitespaceAfter:p}=n[e],f=h?t/3|0:0,m=p?t/3|0:0,v={contentText:D(c),backgroundColor:`${i}`,color:`${r}`,margin:`0px ${m}px 0px ${f}px`,fontSize:`${t}px`,fontFamily:`var(${l})`,padding:`0px ${t/4|0}px`,borderRadius:(t/4|0)+"px"},b="inlayHints-"+(0,o.hash)(v).toString(16);this._codeEditorService.registerDecorationType("inlay-hints-controller",b,u?{beforeInjectedText:Object.assign(Object.assign({},v),{affectsLetterSpacing:!0})}:{before:v},void 0,this._editor),s.push(b);const y=this._codeEditorService.resolveDecorationOptions(b,!0);a.push({range:g.Range.fromPositions(d),options:y})}this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=s,this._decorationIds=this._editor.deltaDecorations(this._decorationIds,a)}_getLayoutInfo(){const e=this._editor.getOption(125),t=this._editor.getOption(43);let n=e.fontSize;(!n||n<5||n>t)&&(n=.9*t|0);return{fontSize:n,fontFamily:e.fontFamily||this._editor.getOption(40)}}_removeAllDecorations(){this._decorationIds=this._editor.deltaDecorations(this._decorationIds,[]),this._decorationsTypeIds.forEach(this._codeEditorService.removeDecorationType,this._codeEditorService),this._decorationsTypeIds=[]}constructor(e,t,n,i){this._editor=e,this._codeEditorService=t,this._themeService=n,this._configurationService=i,this._disposables=new(0,s.DisposableStore),this._sessionDisposables=new(0,s.DisposableStore),this._getInlayHintsDelays=new(0,f.LanguageFeatureRequestDelays)(c.InlayHintsProviderRegistry,25,2500),this._decorationsTypeIds=[],this._decorationIds=[],this._disposables.add(c.InlayHintsProviderRegistry.onDidChange((()=>this._update()))),this._disposables.add(n.onDidColorThemeChange((()=>this._update()))),this._disposables.add(e.onDidChangeModel((()=>this._update()))),this._disposables.add(e.onDidChangeModelLanguage((()=>this._update()))),this._disposables.add(e.onDidChangeConfiguration((e=>{e.hasChanged(125)&&this._update()}))),this._update()}};function D(e){return e.replace(/[ \t]/g,"")}E.ID="editor.contrib.InlayHints",E=x([S(1,l.ICodeEditorService),S(2,p.IThemeService),S(3,C.IConfigurationService)],E),(0,a.registerEditorContribution)(E.ID,E),m.CommandsRegistry.registerCommand("_executeInlayHintProvider",((e,...t)=>w(void 0,void 0,void 0,(function*(){const[n,i]=t;(0,b.assertType)(v.URI.isUri(n)),(0,b.assertType)(g.Range.isIRange(i));const o=yield e.get(y.ITextModelService).createModelReference(n);try{const e=yield k(o.object.textEditorModel,[g.Range.lift(i)],h.CancellationToken.None);return(0,u.flatten)(e.map((e=>e.list))).sort(((e,t)=>_.Position.compare(e.position,t.position)))}finally{o.dispose()}}))))})),r.register("6nqfW",(function(e,t){var n=r("9LBxC"),i=r("dSV0M"),o=r("e8gAb"),s=r("igipX"),a=r("eh64S"),l=r("ki64z"),c=r("dgG62"),u=r("dGvPd"),d=r("JzRxO"),h=r("kg7au"),p=r("cVvMG"),g=r("6wKox"),f=r("2zf51"),m=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},v=function(e,t){return function(n,i){t(n,i,e)}};let b=class e{static get(t){return t.getContribution(e.ID)}dispose(){}run(t,n){this.currentRequest&&this.currentRequest.cancel();const r=this.editor.getSelection(),s=this.editor.getModel();if(!s||!r)return;let a=r;if(a.startLineNumber!==a.endLineNumber)return;const l=new(0,u.EditorState)(this.editor,5),d=s.uri;return this.editorWorkerService.canNavigateValueSet(d)?(this.currentRequest=(0,g.createCancelablePromise)((e=>this.editorWorkerService.navigateValueSet(d,a,n))),this.currentRequest.then((n=>{if(!n||!n.range||!n.value)return;if(!l.validate(this.editor))return;let r=i.Range.lift(n.range),s=n.range,u=n.value.length-(a.endColumn-a.startColumn);s={startLineNumber:s.startLineNumber,startColumn:s.startColumn,endLineNumber:s.endLineNumber,endColumn:s.startColumn+n.value.length},u>1&&(a=new(0,o.Selection)(a.startLineNumber,a.startColumn,a.endLineNumber,a.endColumn+u-1));const d=new(0,c.InPlaceReplaceCommand)(r,a,n.value);this.editor.pushUndoStop(),this.editor.executeCommand(t,d),this.editor.pushUndoStop(),this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[{range:s,options:e.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,g.timeout)(350),this.decorationRemover.then((()=>this.decorationIds=this.editor.deltaDecorations(this.decorationIds,[]))).catch(f.onUnexpectedError)})).catch(f.onUnexpectedError)):Promise.resolve(void 0)}constructor(e,t){this.decorationIds=[],this.editor=e,this.editorWorkerService=t}};b.ID="editor.contrib.inPlaceReplaceController",b.DECORATION=p.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),b=m([v(1,l.IEditorWorkerService)],b);class y extends a.EditorAction{run(e,t){const n=b.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}constructor(){super({id:"editor.action.inPlaceReplace.up",label:n.localize("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3154,weight:100}})}}class _ extends a.EditorAction{run(e,t){const n=b.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}constructor(){super({id:"editor.action.inPlaceReplace.down",label:n.localize("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3156,weight:100}})}}(0,a.registerEditorContribution)(b.ID,b),(0,a.registerEditorAction)(y),(0,a.registerEditorAction)(_),(0,d.registerThemingParticipant)(((e,t)=>{const n=e.getColor(h.editorBracketMatchBorder);n&&t.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${n}; }`)}))})),r.register("dgG62",(function(t,n){e(t.exports,"InPlaceReplaceCommand",(function(){return o}));var i=r("e8gAb");class o{getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const n=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new(0,i.Selection)(n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn),n.endLineNumber,Math.min(this._originalSelection.positionColumn,n.endColumn)):new(0,i.Selection)(n.endLineNumber,n.endColumn-this._text.length,n.endLineNumber,n.endColumn)}constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}}})),r.register("iU6HC",(function(e,t){var n=r("9LBxC"),i=r("izshX"),o=r("4I5Ci"),s=r("eh64S"),a=r("jCddX"),l=r("1t5Hq"),c=r("bv9M9"),u=r("2zCwF"),d=r("aGBCV"),h=r("dSV0M"),p=r("e8gAb"),g=r("igipX"),f=r("3jArO"),m=r("c3Gdc"),v=r("hxGPv"),b=r("d8eAn");class y extends s.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getSelections().map(((e,t)=>({selection:e,index:t,ignore:!1})));n.sort(((e,t)=>h.Range.compareRangesUsingStarts(e.selection,t.selection)));let i=n[0];for(let e=1;e<n.length;e++){const t=n[e];i.selection.endLineNumber===t.selection.startLineNumber&&(i.index<t.index?t.ignore=!0:(i.ignore=!0,i=t))}const o=[];for(const e of n)o.push(new(0,f.CopyLinesCommand)(e.selection,this.down,e.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}constructor(e,t){super(t),this.down=e}}class _ extends s.EditorAction{run(e,t,n){if(!t.hasModel())return;const i=[],o=t.getSelections(),r=t.getModel();for(const e of o)if(e.isEmpty())i.push(new(0,f.CopyLinesCommand)(e,!0));else{const t=new(0,p.Selection)(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn);i.push(new(0,a.ReplaceCommandThatSelectsText)(t,r.getValueInRange(e)))}t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}constructor(){super({id:"editor.action.duplicateSelection",label:n.localize("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:g.EditorContextKeys.writable,menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"2_line",title:n.localize({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}}class C extends s.EditorAction{run(e,t){let n=[],i=t.getSelections()||[];const o=t.getOption(9);for(const e of i)n.push(new(0,m.MoveLinesCommand)(e,this.down,o));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}constructor(e,t){super(t),this.down=e}}class x extends s.EditorAction{run(e,t){const n=t.getSelections()||[];for(const e of n)if(!v.SortLinesCommand.canRun(t.getModel(),e,this.descending))return;let i=[];for(let e=0,t=n.length;e<t;e++)i[e]=new(0,v.SortLinesCommand)(n[e],this.descending);t.pushUndoStop(),t.executeCommands(this.id,i),t.pushUndoStop()}constructor(e,t){super(t),this.descending=e}}class S extends s.EditorAction{run(e,t,n){let i=[];"auto-save"===n.reason&&(i=(t.getSelections()||[]).map((e=>new(0,d.Position)(e.positionLineNumber,e.positionColumn))));let o=t.getSelection();if(null===o)return;let r=new(0,l.TrimTrailingWhitespaceCommand)(o,i);t.pushUndoStop(),t.executeCommands(this.id,[r]),t.pushUndoStop()}constructor(){super({id:S.ID,label:n.localize("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:(0,i.KeyChord)(2089,2102),weight:100}})}}S.ID="editor.action.trimTrailingWhitespace";class w extends s.EditorAction{run(e,t){if(!t.hasModel())return;let n=this._getLinesToRemove(t),i=t.getModel();if(1===i.getLineCount()&&1===i.getLineMaxColumn(1))return;let o=0,r=[],s=[];for(let e=0,t=n.length;e<t;e++){const t=n[e];let a=t.startLineNumber,l=t.endLineNumber,c=1,d=i.getLineMaxColumn(l);l<i.getLineCount()?(l+=1,d=1):a>1&&(a-=1,c=i.getLineMaxColumn(a)),r.push(u.EditOperation.replace(new(0,p.Selection)(a,c,l,d),"")),s.push(new(0,p.Selection)(a-o,t.positionColumn,a-o,t.positionColumn)),o+=t.endLineNumber-t.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,r,s),t.pushUndoStop()}_getLinesToRemove(e){let t=e.getSelections().map((e=>{let t=e.endLineNumber;return e.startLineNumber<e.endLineNumber&&1===e.endColumn&&(t-=1),{startLineNumber:e.startLineNumber,selectionStartColumn:e.selectionStartColumn,endLineNumber:t,positionColumn:e.positionColumn}}));t.sort(((e,t)=>e.startLineNumber===t.startLineNumber?e.endLineNumber-t.endLineNumber:e.startLineNumber-t.startLineNumber));let n=[],i=t[0];for(let e=1;e<t.length;e++)i.endLineNumber+1>=t[e].startLineNumber?i.endLineNumber=t[e].endLineNumber:(n.push(i),i=t[e]);return n.push(i),n}constructor(){super({id:"editor.action.deleteLines",label:n.localize("lines.delete","Delete Line"),alias:"Delete Line",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}}class k extends s.EditorAction{run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,c.TypeOperations.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}constructor(){super({id:"editor.action.indentLines",label:n.localize("lines.indent","Indent Line"),alias:"Indent Line",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2137,weight:100}})}}class E extends s.EditorAction{run(e,t){o.CoreEditingCommands.Outdent.runEditorCommand(e,t,null)}constructor(){super({id:"editor.action.outdentLines",label:n.localize("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2135,weight:100}})}}class D extends s.EditorAction{run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,c.TypeOperations.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}constructor(){super({id:"editor.action.insertLineBefore",label:n.localize("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}}class I extends s.EditorAction{run(e,t){const n=t._getViewModel();n&&(t.pushUndoStop(),t.executeCommands(this.id,c.TypeOperations.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}constructor(){super({id:"editor.action.insertLineAfter",label:n.localize("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}}class A extends s.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getSelection();let i=this._getRangesToDelete(t),o=[];for(let e=0,t=i.length-1;e<t;e++){let t=i[e],n=i[e+1];null===h.Range.intersectRanges(t,n)?o.push(t):i[e+1]=h.Range.plusRange(t,n)}o.push(i[i.length-1]);let r=this._getEndCursorState(n,o),s=o.map((e=>u.EditOperation.replace(e,"")));t.pushUndoStop(),t.executeEdits(this.id,s,r),t.pushUndoStop()}}class R extends s.EditorAction{run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getSelection();if(null===i)return;n.sort(h.Range.compareRangesUsingStarts);let o=[],r=n.reduce(((e,t)=>e.isEmpty()?e.endLineNumber===t.startLineNumber?(i.equalsSelection(e)&&(i=t),t):t.startLineNumber>e.endLineNumber+1?(o.push(e),t):new(0,p.Selection)(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn):t.startLineNumber>e.endLineNumber?(o.push(e),t):new(0,p.Selection)(e.startLineNumber,e.startColumn,t.endLineNumber,t.endColumn)));o.push(r);let s=t.getModel();if(null===s)return;let a=[],l=[],c=i,d=0;for(let e=0,t=o.length;e<t;e++){let t,n,r=o[e],g=r.startLineNumber,f=1,m=0,v=s.getLineContent(r.endLineNumber).length-r.endColumn;if(r.isEmpty()||r.startLineNumber===r.endLineNumber){let e=r.getStartPosition();e.lineNumber<s.getLineCount()?(t=g+1,n=s.getLineMaxColumn(t)):(t=e.lineNumber,n=s.getLineMaxColumn(e.lineNumber))}else t=r.endLineNumber,n=s.getLineMaxColumn(t);let b=s.getLineContent(g);for(let e=g+1;e<=t;e++){let t=s.getLineContent(e),n=s.getLineFirstNonWhitespaceColumn(e);if(n>=1){let e=!0;""===b&&(e=!1),!e||" "!==b.charAt(b.length-1)&&"\t"!==b.charAt(b.length-1)||(e=!1,b=b.replace(/[\s\uFEFF\xA0]+$/g," "));let i=t.substr(n-1);b+=(e?" ":"")+i,m=e?i.length+1:i.length}else m=0}let y=new(0,h.Range)(g,f,t,n);if(!y.isEmpty()){let e;r.isEmpty()?(a.push(u.EditOperation.replace(y,b)),e=new(0,p.Selection)(y.startLineNumber-d,b.length-m+1,g-d,b.length-m+1)):r.startLineNumber===r.endLineNumber?(a.push(u.EditOperation.replace(y,b)),e=new(0,p.Selection)(r.startLineNumber-d,r.startColumn,r.endLineNumber-d,r.endColumn)):(a.push(u.EditOperation.replace(y,b)),e=new(0,p.Selection)(r.startLineNumber-d,r.startColumn,r.startLineNumber-d,b.length-v)),null!==h.Range.intersectRanges(y,i)?c=e:l.push(e)}d+=y.endLineNumber-y.startLineNumber}l.unshift(c),t.pushUndoStop(),t.executeEdits(this.id,a,l),t.pushUndoStop()}constructor(){super({id:"editor.action.joinLines",label:n.localize("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}}class L extends s.EditorAction{run(e,t){let n=t.getSelections();if(null===n)return;let i=t.getModel();if(null===i)return;let o=[];for(let e=0,t=n.length;e<t;e++){let t=n[e];if(!t.isEmpty())continue;let r=t.getStartPosition(),s=i.getLineMaxColumn(r.lineNumber);if(r.column>=s){if(r.lineNumber===i.getLineCount())continue;let e=new(0,h.Range)(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t=i.getValueInRange(e).split("").reverse().join("");o.push(new(0,a.ReplaceCommand)(new(0,p.Selection)(r.lineNumber,Math.max(1,r.column-1),r.lineNumber+1,1),t))}else{let e=new(0,h.Range)(r.lineNumber,Math.max(1,r.column-1),r.lineNumber,r.column+1),t=i.getValueInRange(e).split("").reverse().join("");o.push(new(0,a.ReplaceCommandThatPreservesSelection)(e,t,new(0,p.Selection)(r.lineNumber,r.column+1,r.lineNumber,r.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}constructor(){super({id:"editor.action.transpose",label:n.localize("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:g.EditorContextKeys.writable})}}class M extends s.EditorAction{run(e,t){const n=t.getSelections();if(null===n)return;const i=t.getModel();if(null===i)return;const o=t.getOption(115),r=[];for(const e of n)if(e.isEmpty()){const n=e.getStartPosition(),s=t.getConfiguredWordAtPosition(n);if(!s)continue;const a=new(0,h.Range)(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn),l=i.getValueInRange(a);r.push(u.EditOperation.replace(a,this._modifyText(l,o)))}else{const t=i.getValueInRange(e);r.push(u.EditOperation.replace(e,this._modifyText(t,o)))}t.pushUndoStop(),t.executeEdits(this.id,r),t.pushUndoStop()}}class T{get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return null!==this.get()}constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}}class N extends M{_modifyText(e,t){const n=N.regExp1.get(),i=N.regExp2.get();return n&&i?e.replace(n,"$1_$2").replace(i,"$1_$2$3").toLocaleLowerCase():e}constructor(){super({id:"editor.action.transformToSnakecase",label:n.localize("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:g.EditorContextKeys.writable})}}N.regExp1=new T("(\\p{Ll})(\\p{Lu})","gmu"),N.regExp2=new T("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu"),(0,s.registerEditorAction)(class extends y{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:n.localize("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"2_line",title:n.localize({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}),(0,s.registerEditorAction)(class extends y{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:n.localize("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"2_line",title:n.localize({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}),(0,s.registerEditorAction)(_),(0,s.registerEditorAction)(class extends C{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:n.localize("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"2_line",title:n.localize({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}),(0,s.registerEditorAction)(class extends C{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:n.localize("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:b.MenuId.MenubarSelectionMenu,group:"2_line",title:n.localize({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}),(0,s.registerEditorAction)(class extends x{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:n.localize("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:g.EditorContextKeys.writable})}}),(0,s.registerEditorAction)(class extends x{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:n.localize("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:g.EditorContextKeys.writable})}}),(0,s.registerEditorAction)(S),(0,s.registerEditorAction)(w),(0,s.registerEditorAction)(k),(0,s.registerEditorAction)(E),(0,s.registerEditorAction)(D),(0,s.registerEditorAction)(I),(0,s.registerEditorAction)(class extends A{_getEndCursorState(e,t){let n=null,i=[],o=0;return t.forEach((t=>{let r;if(1===t.endColumn&&o>0){let e=t.startLineNumber-o;r=new(0,p.Selection)(e,t.startColumn,e,t.startColumn)}else r=new(0,p.Selection)(t.startLineNumber,t.startColumn,t.startLineNumber,t.startColumn);o+=t.endLineNumber-t.startLineNumber,t.intersectRanges(e)?n=r:i.push(r)})),n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getSelections();if(null===t)return[];let n=t,i=e.getModel();return null===i?[]:(n.sort(h.Range.compareRangesUsingStarts),n=n.map((e=>{if(e.isEmpty()){if(1===e.startColumn){let t=Math.max(1,e.startLineNumber-1),n=1===e.startLineNumber?1:i.getLineContent(t).length+1;return new(0,h.Range)(t,n,e.startLineNumber,1)}return new(0,h.Range)(e.startLineNumber,1,e.startLineNumber,e.startColumn)}return new(0,h.Range)(e.startLineNumber,1,e.endLineNumber,e.endColumn)})),n)}constructor(){super({id:"deleteAllLeft",label:n.localize("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}}),(0,s.registerEditorAction)(class extends A{_getEndCursorState(e,t){let n=null,i=[];for(let o=0,r=t.length,s=0;o<r;o++){let r=t[o],a=new(0,p.Selection)(r.startLineNumber-s,r.startColumn,r.startLineNumber-s,r.startColumn);r.intersectRanges(e)?n=a:i.push(a)}return n&&i.unshift(n),i}_getRangesToDelete(e){let t=e.getModel();if(null===t)return[];let n=e.getSelections();if(null===n)return[];let i=n.map((e=>{if(e.isEmpty()){const n=t.getLineMaxColumn(e.startLineNumber);return e.startColumn===n?new(0,h.Range)(e.startLineNumber,e.startColumn,e.startLineNumber+1,1):new(0,h.Range)(e.startLineNumber,e.startColumn,e.startLineNumber,n)}return e}));return i.sort(h.Range.compareRangesUsingStarts),i}constructor(){super({id:"deleteAllRight",label:n.localize("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:g.EditorContextKeys.writable,kbOpts:{kbExpr:g.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}}),(0,s.registerEditorAction)(R),(0,s.registerEditorAction)(L),(0,s.registerEditorAction)(class extends M{_modifyText(e,t){return e.toLocaleUpperCase()}constructor(){super({id:"editor.action.transformToUppercase",label:n.localize("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:g.EditorContextKeys.writable})}}),(0,s.registerEditorAction)(class extends M{_modifyText(e,t){return e.toLocaleLowerCase()}constructor(){super({id:"editor.action.transformToLowercase",label:n.localize("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:g.EditorContextKeys.writable})}}),(0,s.registerEditorAction)(class extends M{_modifyText(e,t){const n=("\r\n\t "+t).split("");let i="",o=!0;for(let t=0;t<e.length;t++){let r=e[t];n.indexOf(r)>=0?(o=!0,i+=r):o?(o=!1,i+=r.toLocaleUpperCase()):i+=r.toLocaleLowerCase()}return i}constructor(){super({id:"editor.action.transformToTitlecase",label:n.localize("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:g.EditorContextKeys.writable})}}),N.regExp1.isSupported()&&N.regExp2.isSupported()&&(0,s.registerEditorAction)(N)})),r.register("1t5Hq",(function(t,n){e(t.exports,"TrimTrailingWhitespaceCommand",(function(){return a}));var i=r("78mNz"),o=r("2zCwF"),s=r("dSV0M");class a{getEditOperations(e,t){let n=function(e,t){t.sort(((e,t)=>e.lineNumber===t.lineNumber?e.column-t.column:e.lineNumber-t.lineNumber));for(let e=t.length-2;e>=0;e--)t[e].lineNumber===t[e+1].lineNumber&&t.splice(e,1);let n=[],r=0,a=0,l=t.length;for(let c=1,u=e.getLineCount();c<=u;c++){let u=e.getLineContent(c),d=u.length+1,h=0;if(a<l&&t[a].lineNumber===c&&(h=t[a].column,a++,h===d))continue;if(0===u.length)continue;let p=i.lastNonWhitespaceIndex(u),g=0;if(-1===p)g=1;else{if(p===u.length-1)continue;g=p+2}g=Math.max(h,g),n[r++]=o.EditOperation.delete(new(0,s.Range)(c,g,c,d))}return n}(e,this._cursors);for(let e=0,i=n.length;e<i;e++){let i=n[e];t.addEditOperation(i.range,i.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}}})),r.register("3jArO",(function(t,n){e(t.exports,"CopyLinesCommand",(function(){return s}));var i=r("dSV0M"),o=r("e8gAb");class s{getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&1===n.endColumn&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));let o=[];for(let t=n.startLineNumber;t<=n.endLineNumber;t++)o.push(e.getLineContent(t));const r=o.join("\n");""===r&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new(0,i.Range)(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":"\n"):this._isCopyingDown?t.addEditOperation(new(0,i.Range)(n.startLineNumber,1,n.startLineNumber,1),r+"\n"):t.addEditOperation(new(0,i.Range)(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),"\n"+r),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(0!==this._startLineNumberDelta||0!==this._endLineNumberDelta){let e=n.startLineNumber,t=n.startColumn,i=n.endLineNumber,r=n.endColumn;0!==this._startLineNumberDelta&&(e+=this._startLineNumberDelta,t=1),0!==this._endLineNumberDelta&&(i+=this._endLineNumberDelta,r=1),n=o.Selection.createWithDirection(e,t,i,r,this._selectionDirection)}return n}constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}}})),r.register("c3Gdc",(function(t,n){e(t.exports,"MoveLinesCommand",(function(){return d}));var i=r("78mNz"),o=r("9unPH"),s=r("dSV0M"),a=r("e8gAb"),l=r("14nju"),c=r("iD7e1"),u=r("k79Zg");class d{getEditOperations(e,t){let n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n)return void(this._selectionId=t.trackSelection(this._selection));if(!this._isMovingDown&&1===this._selection.startLineNumber)return void(this._selectionId=t.trackSelection(this._selection));this._moveEndPositionDown=!1;let o=this._selection;o.startLineNumber<o.endLineNumber&&1===o.endColumn&&(this._moveEndPositionDown=!0,o=o.setEndPosition(o.endLineNumber-1,e.getLineMaxColumn(o.endLineNumber-1)));const{tabSize:r,indentSize:l,insertSpaces:d}=e.getOptions();let h=this.buildIndentConverter(r,l,d),p={getLineTokens:t=>e.getLineTokens(t),getLanguageIdentifier:()=>e.getLanguageIdentifier(),getLanguageIdAtPosition:(t,n)=>e.getLanguageIdAtPosition(t,n),getLineContent:null};if(o.startLineNumber===o.endLineNumber&&1===e.getLineMaxColumn(o.startLineNumber)){let n=o.startLineNumber,i=this._isMovingDown?n+1:n-1;1===e.getLineMaxColumn(i)?t.addEditOperation(new(0,s.Range)(1,1,1,1),null):(t.addEditOperation(new(0,s.Range)(n,1,n,1),e.getLineContent(i)),t.addEditOperation(new(0,s.Range)(i,1,i,e.getLineMaxColumn(i)),null)),o=new(0,a.Selection)(i,1,i,1)}else{let n,a;if(this._isMovingDown){n=o.endLineNumber+1,a=e.getLineContent(n),t.addEditOperation(new(0,s.Range)(n-1,e.getLineMaxColumn(n-1),n,e.getLineMaxColumn(n)),null);let l=a;if(this.shouldAutoIndent(e,o)){let g=this.matchEnterRule(e,h,r,n,o.startLineNumber-1);if(null!==g){let t=i.getLeadingWhitespace(e.getLineContent(n)),o=g+u.getSpaceCnt(t,r),s=u.generateIndent(o,r,d);l=s+this.trimLeft(a)}else{p.getLineContent=t=>t===o.startLineNumber?e.getLineContent(n):e.getLineContent(t);let t=c.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(n,1),o.startLineNumber,h);if(null!==t){let o=i.getLeadingWhitespace(e.getLineContent(n)),s=u.getSpaceCnt(t,r);if(s!==u.getSpaceCnt(o,r)){let e=u.generateIndent(s,r,d);l=e+this.trimLeft(a)}}}t.addEditOperation(new(0,s.Range)(o.startLineNumber,1,o.startLineNumber,1),l+"\n");let f=this.matchEnterRuleMovingDown(e,h,r,o.startLineNumber,n,l);if(null!==f)0!==f&&this.getIndentEditsOfMovingBlock(e,t,o,r,d,f);else{p.getLineContent=t=>t===o.startLineNumber?l:t>=o.startLineNumber+1&&t<=o.endLineNumber+1?e.getLineContent(t-1):e.getLineContent(t);let s=c.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(n,1),o.startLineNumber+1,h);if(null!==s){const n=i.getLeadingWhitespace(e.getLineContent(o.startLineNumber)),a=u.getSpaceCnt(s,r),l=u.getSpaceCnt(n,r);if(a!==l){const n=a-l;this.getIndentEditsOfMovingBlock(e,t,o,r,d,n)}}}}else t.addEditOperation(new(0,s.Range)(o.startLineNumber,1,o.startLineNumber,1),l+"\n")}else if(n=o.startLineNumber-1,a=e.getLineContent(n),t.addEditOperation(new(0,s.Range)(n,1,n+1,1),null),t.addEditOperation(new(0,s.Range)(o.endLineNumber,e.getLineMaxColumn(o.endLineNumber),o.endLineNumber,e.getLineMaxColumn(o.endLineNumber)),"\n"+a),this.shouldAutoIndent(e,o)){p.getLineContent=t=>t===n?e.getLineContent(o.startLineNumber):e.getLineContent(t);let s=this.matchEnterRule(e,h,r,o.startLineNumber,o.startLineNumber-2);if(null!==s)0!==s&&this.getIndentEditsOfMovingBlock(e,t,o,r,d,s);else{let s=c.LanguageConfigurationRegistry.getGoodIndentForLine(this._autoIndent,p,e.getLanguageIdAtPosition(o.startLineNumber,1),n,h);if(null!==s){let n=i.getLeadingWhitespace(e.getLineContent(o.startLineNumber)),a=u.getSpaceCnt(s,r),l=u.getSpaceCnt(n,r);if(a!==l){let n=a-l;this.getIndentEditsOfMovingBlock(e,t,o,r,d,n)}}}}}this._selectionId=t.trackSelection(o)}buildIndentConverter(e,t,n){return{shiftIndent:i=>o.ShiftCommand.shiftIndent(i,i.length+1,e,t,n),unshiftIndent:i=>o.ShiftCommand.unshiftIndent(i,i.length+1,e,t,n)}}parseEnterResult(e,t,n,o,r){if(r){let s=r.indentation;r.indentAction===l.IndentAction.None||r.indentAction===l.IndentAction.Indent?s=r.indentation+r.appendText:r.indentAction===l.IndentAction.IndentOutdent?s=r.indentation:r.indentAction===l.IndentAction.Outdent&&(s=t.unshiftIndent(r.indentation)+r.appendText);let a=e.getLineContent(o);if(this.trimLeft(a).indexOf(this.trimLeft(s))>=0){let r=i.getLeadingWhitespace(e.getLineContent(o)),a=i.getLeadingWhitespace(s),l=c.LanguageConfigurationRegistry.getIndentMetadata(e,o);return null!==l&&2&l&&(a=t.unshiftIndent(a)),u.getSpaceCnt(a,n)-u.getSpaceCnt(r,n)}}return null}matchEnterRuleMovingDown(e,t,n,o,r,a){if(i.lastNonWhitespaceIndex(a)>=0){let i=e.getLineMaxColumn(r),a=c.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,s.Range)(r,i,r,i));return this.parseEnterResult(e,t,n,o,a)}{let r=o-1;for(;r>=1;){let t=e.getLineContent(r);if(i.lastNonWhitespaceIndex(t)>=0)break;r--}if(r<1||o>e.getLineCount())return null;let a=e.getLineMaxColumn(r),l=c.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,s.Range)(r,a,r,a));return this.parseEnterResult(e,t,n,o,l)}}matchEnterRule(e,t,n,o,r,a){let l=r;for(;l>=1;){let t;if(t=l===r&&void 0!==a?a:e.getLineContent(l),i.lastNonWhitespaceIndex(t)>=0)break;l--}if(l<1||o>e.getLineCount())return null;let u=e.getLineMaxColumn(l),d=c.LanguageConfigurationRegistry.getEnterAction(this._autoIndent,e,new(0,s.Range)(l,u,l,u));return this.parseEnterResult(e,t,n,o,d)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4)return!1;if(!e.isCheapToTokenize(t.startLineNumber))return!1;let n=e.getLanguageIdAtPosition(t.startLineNumber,1);return n===e.getLanguageIdAtPosition(t.endLineNumber,1)&&null!==c.LanguageConfigurationRegistry.getIndentRulesSupport(n)}getIndentEditsOfMovingBlock(e,t,n,o,r,a){for(let l=n.startLineNumber;l<=n.endLineNumber;l++){let c=e.getLineContent(l),d=i.getLeadingWhitespace(c),h=u.getSpaceCnt(d,o)+a,p=u.generateIndent(h,o,r);p!==d&&(t.addEditOperation(new(0,s.Range)(l,1,l,d.length+1),p),l===n.endLineNumber&&n.endColumn<=d.length+1&&""===p&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}constructor(e,t,n){this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}}})),r.register("hxGPv",(function(t,n){e(t.exports,"SortLinesCommand",(function(){return s}));var i=r("2zCwF"),o=r("dSV0M");class s{static getCollator(){return s._COLLATOR||(s._COLLATOR=new Intl.Collator),s._COLLATOR}getEditOperations(e,t){let n=function(e,t,n){let r=a(e,t,n);return r?i.EditOperation.replace(new(0,o.Range)(r.startLineNumber,1,r.endLineNumber,e.getLineMaxColumn(r.endLineNumber)),r.after.join("\n")):null}(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(null===e)return!1;let i=a(e,t,n);if(!i)return!1;for(let e=0,t=i.before.length;e<t;e++)if(i.before[e]!==i.after[e])return!0;return!1}constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}}function a(e,t,n){let i=t.startLineNumber,o=t.endLineNumber;if(1===t.endColumn&&o--,i>=o)return null;let r=[];for(let t=i;t<=o;t++)r.push(e.getLineContent(t));let a=r.slice(0);return a.sort(s.getCollator().compare),!0===n&&(a=a.reverse()),{startLineNumber:i,endLineNumber:o,before:r,after:a}}s._COLLATOR=null})),r.register("bjgv1",(function(e,t){var n=r("9LBxC"),i=r("eh64S"),o=r("cCPZ6"),s=r("iNF8q"),a=r("aGBCV"),l=r("dq3o1"),c=r("dSV0M"),u=r("aZciE"),d=r("6wKox"),h=r("cVvMG"),p=r("1N08n"),g=r("igipX"),f=r("65vvd"),m=r("7yAvG"),v=r("2zf51"),b=r("78mNz"),y=r("5h6AG"),_=r("JzRxO"),C=r("2Jvmn"),x=r("iD7e1"),S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){return function(n,i){t(n,i,e)}},k=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const E=new(0,p.RawContextKey)("LinkedEditingInputVisible",!1),D="linked-editing-decoration";let I=class e extends s.Disposable{static get(t){return t.getContribution(e.ID)}reinitialize(e){const t=this._editor.getModel(),n=null!==t&&(this._editor.getOption(60)||this._editor.getOption(80))&&u.LinkedEditingRangeProviderRegistry.has(t);if(n===this._enabled&&!e)return;if(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||null===t)return;this._languageWordPattern=x.LanguageConfigurationRegistry.getWordDefinition(t.getLanguageIdentifier().id),this._localToDispose.add(t.onDidChangeLanguageConfiguration((()=>{this._languageWordPattern=x.LanguageConfigurationRegistry.getWordDefinition(t.getLanguageIdentifier().id)})));const i=new(0,d.Delayer)(this._debounceDuration),o=()=>{this._rangeUpdateTriggerPromise=i.trigger((()=>this.updateRanges()),this._debounceDuration)},r=new(0,d.Delayer)(0),s=e=>{this._rangeSyncTriggerPromise=r.trigger((()=>this._syncRanges(e)))};this._localToDispose.add(this._editor.onDidChangeCursorPosition((()=>{o()}))),this._localToDispose.add(this._editor.onDidChangeModelContent((e=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const n=t.getDecorationRange(this._currentDecorations[0]);if(n&&e.changes.every((e=>n.intersectRanges(e.range))))return void s(this._currentDecorations)}o()}))),this._localToDispose.add({dispose:()=>{i.cancel(),r.cancel()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._currentDecorations||0===e.length)return;const t=this._editor.getModel(),n=t.getDecorationRange(e[0]);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const i=t.getValueInRange(n);if(this._currentWordPattern){const e=i.match(this._currentWordPattern);if((e?e[0].length:0)!==i.length)return this.clearRanges()}let o=[];for(let n=1,r=e.length;n<r;n++){const r=t.getDecorationRange(e[n]);if(r)if(r.startLineNumber!==r.endLineNumber)o.push({range:r,text:i});else{let e=t.getValueInRange(r),n=i,s=r.startColumn,a=r.endColumn;const l=b.commonPrefixLength(e,n);s+=l,e=e.substr(l),n=n.substr(l);const u=b.commonSuffixLength(e,n);a-=u,e=e.substr(0,e.length-u),n=n.substr(0,n.length-u),s===a&&0===n.length||o.push({range:new(0,c.Range)(r.startLineNumber,s,r.endLineNumber,a),text:n})}}if(0!==o.length)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const e=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(e)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,[]),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(t=!1){return k(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return void this.clearRanges();const n=this._editor.getPosition();if(!this._enabled&&!t||this._editor.getSelections().length>1)return void this.clearRanges();const i=this._editor.getModel(),o=i.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===o){if(n.equals(this._currentRequestPosition))return;if(this._currentDecorations&&this._currentDecorations.length>0){const e=i.getDecorationRange(this._currentDecorations[0]);if(e&&e.containsPosition(n))return}}this._currentRequestPosition=n,this._currentRequestModelVersion=o;const r=(0,d.createCancelablePromise)((t=>k(this,void 0,void 0,(function*(){try{const s=yield L(i,n,t);if(r!==this._currentRequest)return;if(this._currentRequest=null,o!==i.getVersionId())return;let a=[];(null==s?void 0:s.ranges)&&(a=s.ranges),this._currentWordPattern=(null==s?void 0:s.wordPattern)||this._languageWordPattern;let l=!1;for(let e=0,t=a.length;e<t;e++)if(c.Range.containsPosition(a[e],n)){if(l=!0,0!==e){const t=a[e];a.splice(e,1),a.unshift(t)}break}if(!l)return void this.clearRanges();const u=a.map((t=>({range:t,options:e.DECORATION})));this._visibleContextKey.set(!0),this._currentDecorations=this._editor.deltaDecorations(this._currentDecorations,u)}catch(e){(0,v.isPromiseCanceledError)(e)||(0,v.onUnexpectedError)(e),this._currentRequest!==r&&this._currentRequest||this.clearRanges()}}))));return this._currentRequest=r,r}))}constructor(e,t){super(),this._debounceDuration=200,this._localToDispose=this._register(new(0,s.DisposableStore)),this._editor=e,this._enabled=!1,this._visibleContextKey=E.bindTo(t),this._currentDecorations=[],this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new(0,s.DisposableStore)),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel((()=>this.reinitialize(!0)))),this._register(this._editor.onDidChangeConfiguration((e=>{(e.hasChanged(60)||e.hasChanged(80))&&this.reinitialize(!1)}))),this._register(u.LinkedEditingRangeProviderRegistry.onDidChange((()=>this.reinitialize(!1)))),this._register(this._editor.onDidChangeModelLanguage((()=>this.reinitialize(!0)))),this.reinitialize(!0)}};I.ID="editor.contrib.linkedEditing",I.DECORATION=h.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:D}),I=S([w(1,p.IContextKeyService)],I);class A extends i.EditorAction{runCommand(e,t){const n=e.get(m.ICodeEditorService),[i,o]=Array.isArray(t)&&t||[void 0,void 0];return f.URI.isUri(i)&&a.Position.isIPosition(o)?n.openCodeEditor({resource:i},n.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(o),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),v.onUnexpectedError):super.runCommand(e,t)}run(e,t){const n=I.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}constructor(){super({id:"editor.action.linkedEditing",label:n.localize("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:p.ContextKeyExpr.and(g.EditorContextKeys.writable,g.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}}const R=i.EditorCommand.bindToContribution(I.get);function L(e,t,n){const i=u.LinkedEditingRangeProviderRegistry.ordered(e);return(0,d.first)(i.map((i=>()=>k(this,void 0,void 0,(function*(){try{return yield i.provideLinkedEditingRanges(e,t,n)}catch(e){return void(0,v.onUnexpectedExternalError)(e)}})))),(e=>!!e&&o.isNonEmptyArray(null==e?void 0:e.ranges)))}(0,i.registerEditorCommand)(new R({id:"cancelLinkedEditingInput",precondition:E,handler:e=>e.clearRanges(),kbOpts:{kbExpr:g.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));const M=(0,y.registerColor)("editor.linkedEditingBackground",{dark:C.Color.fromHex("#f00").transparent(.3),light:C.Color.fromHex("#f00").transparent(.3),hc:C.Color.fromHex("#f00").transparent(.3)},n.localize("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,_.registerThemingParticipant)(((e,t)=>{const n=e.getColor(M);n&&t.addRule(`.monaco-editor .linked-editing-decoration { background: ${n}; border-left-color: ${n}; }`)})),(0,i.registerModelAndPositionCommand)("_executeLinkedEditingProvider",((e,t)=>L(e,t,l.CancellationToken.None))),(0,i.registerEditorContribution)(I.ID,I),(0,i.registerEditorAction)(A)})),r.register("cuNDN",(function(e,t){var n=r("9LBxC"),i=r("6wKox"),o=r("dq3o1"),s=r("2zf51"),a=r("aQY22"),l=r("iNF8q"),c=r("cexwY"),u=r("eh64S"),d=r("cVvMG"),h=r("aZciE"),p=r("ulvi1"),g=r("5RbUp"),f=r("hYVHb"),m=r("1n4fF"),v=r("5h6AG"),b=r("JzRxO"),y=r("65vvd"),_=r("5KVQh"),C=r("d8krI"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}},w=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const k={general:d.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:d.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class E{static decoration(e,t){return{range:e.range,options:E._getOptions(e,t,!1)}}static _getOptions(e,t,i){const o=Object.assign({},i?k.active:k.general);return o.hoverMessage=function(e,t){const i=e.url&&/^command:/i.test(e.url.toString()),o=e.tooltip?e.tooltip:i?n.localize("links.navigate.executeCmd","Execute command"):n.localize("links.navigate.follow","Follow link"),r=t?c.isMacintosh?n.localize("links.navigate.kb.meta.mac","cmd + click"):n.localize("links.navigate.kb.meta","ctrl + click"):c.isMacintosh?n.localize("links.navigate.kb.alt.mac","option + click"):n.localize("links.navigate.kb.alt","alt + click");if(e.url){let t="";if(/^command:/i.test(e.url.toString())){const i=e.url.toString().match(/^command:([^?#]+)/);if(i){const e=i[1];t=` "${n.localize("tooltip.explanation","Execute command {0}",e)}"`}}return new(0,a.MarkdownString)("",!0).appendMarkdown(`[${o}](${e.url.toString(!0)}${t}) (${r})`)}return(new(0,a.MarkdownString)).appendText(`${o} (${r})`)}(e,t),o}activate(e,t){e.changeDecorationOptions(this.decorationId,E._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,E._getOptions(this.link,t,!1))}constructor(e,t){this.link=e,this.decorationId=t}}let D=class e{static get(t){return t.getContribution(e.ID)}onModelChanged(){this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.beginCompute()}onModelModeChanged(){this.stop(),this.beginCompute()}onChange(){this.timeout.setIfNotSet((()=>this.beginCompute()),e.RECOMPUTE_TIME)}beginCompute(){return w(this,void 0,void 0,(function*(){if(!this.editor.hasModel()||!this.enabled)return;const e=this.editor.getModel();if(h.LinkProviderRegistry.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=i.createCancelablePromise((t=>(0,g.getLinks)(e,t)));try{this.activeLinksList=yield this.computePromise,this.updateDecorations(this.activeLinksList.links)}catch(e){(0,s.onUnexpectedError)(e)}finally{this.computePromise=null}}}))}updateDecorations(e){const t="altKey"===this.editor.getOption(68);let n=[],i=Object.keys(this.currentOccurrences);for(let e=0,t=i.length;e<t;e++){let t=i[e],o=this.currentOccurrences[t];n.push(o.decorationId)}let o=[];if(e)for(const n of e)o.push(E.decoration(n,t));let r=this.editor.deltaDecorations(n,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let t=0,n=r.length;t<n;t++){let n=new E(e[t],r[t]);this.currentOccurrences[n.decorationId]=n}}_onEditorMouseMove(e,t){const n="altKey"===this.editor.getOption(68);if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const t=this.getLinkOccurrence(e.target.position);t&&this.editor.changeDecorations((e=>{t.activate(e,n),this.activeLinkDecorationId=t.decorationId}))}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e="altKey"===this.editor.getOption(68);if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations((n=>{t.deactivate(n,e)})),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);t&&this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,i=!1){if(!this.openerService)return;const{link:r}=e;r.resolve(o.CancellationToken.None).then((e=>{if("string"==typeof e&&this.editor.hasModel()){const t=this.editor.getModel().uri;if(t.scheme===_.Schemas.file&&e.startsWith(`${_.Schemas.file}:`)){const n=y.URI.parse(e);if(n.scheme===_.Schemas.file){const i=C.originalFSPath(n);let o=null;i.startsWith("/./")?o=`.${i.substr(1)}`:i.startsWith("//./")&&(o=`.${i.substr(2)}`),o&&(e=C.joinPath(t,o))}}}return this.openerService.open(e,{openToSide:t,fromUserGesture:i,allowContributedOpeners:!0,allowCommands:!0})}),(e=>{const t=e instanceof Error?e.message:e;"invalid"===t?this.notificationService.warn(n.localize("invalid.url","Failed to open this link because it is not well-formed: {0}",r.url.toString())):"missing"===t?this.notificationService.warn(n.localize("missing.url","Failed to open this link because its target is missing.")):(0,s.onUnexpectedError)(e)}))}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const e of t){const t=this.currentOccurrences[e.id];if(t)return t}return null}isEnabled(e,t){return Boolean(6===e.target.type&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.timeout.cancel(),this.activeLinksList&&(null===(e=this.activeLinksList)||void 0===e||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){this.listenersToRemove.dispose(),this.stop(),this.timeout.dispose()}constructor(e,t,n){this.listenersToRemove=new(0,l.DisposableStore),this.editor=e,this.openerService=t,this.notificationService=n;let o=new(0,p.ClickLinkGesture)(e);this.listenersToRemove.add(o),this.listenersToRemove.add(o.onMouseMoveOrRelevantKeyDown((([e,t])=>{this._onEditorMouseMove(e,t)}))),this.listenersToRemove.add(o.onExecute((e=>{this.onEditorMouseUp(e)}))),this.listenersToRemove.add(o.onCancel((e=>{this.cleanUpActiveLinkDecoration()}))),this.enabled=e.getOption(61),this.listenersToRemove.add(e.onDidChangeConfiguration((t=>{const n=e.getOption(61);this.enabled!==n&&(this.enabled=n,this.updateDecorations([]),this.stop(),this.beginCompute())}))),this.listenersToRemove.add(e.onDidChangeModelContent((e=>this.onChange()))),this.listenersToRemove.add(e.onDidChangeModel((e=>this.onModelChanged()))),this.listenersToRemove.add(e.onDidChangeModelLanguage((e=>this.onModelModeChanged()))),this.listenersToRemove.add(h.LinkProviderRegistry.onDidChange((e=>this.onModelModeChanged()))),this.timeout=new i.TimeoutTimer,this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null,this.beginCompute()}};D.ID="editor.linkDetector",D.RECOMPUTE_TIME=1e3,D=x([S(1,m.IOpenerService),S(2,f.INotificationService)],D);class I extends u.EditorAction{run(e,t){let n=D.get(t);if(!n)return;if(!t.hasModel())return;let i=t.getSelections();for(let e of i){let t=n.getLinkOccurrence(e.getEndPosition());t&&n.openLinkOccurrence(t,!1)}}constructor(){super({id:"editor.action.openLink",label:n.localize("label","Open Link"),alias:"Open Link",precondition:void 0})}}(0,u.registerEditorContribution)(D.ID,D),(0,u.registerEditorAction)(I),(0,b.registerThemingParticipant)(((e,t)=>{const n=e.getColor(v.editorActiveLinkForeground);n&&t.addRule(`.monaco-editor .detected-link-active { color: ${n} !important; }`)}))})),r.register("5RbUp",(function(t,n){e(t.exports,"getLinks",(function(){return v}),(function(e){return v=e}));var i=r("dq3o1"),o=r("2zf51"),s=r("65vvd"),a=r("dSV0M"),l=r("aZciE"),c=r("3EdBC"),u=r("7YObE"),d=r("iNF8q"),h=r("cCPZ6"),p=r("6cqQ7"),g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class f{toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return g(this,void 0,void 0,(function*(){return this._link.url?this._link.url:"function"==typeof this._provider.resolveLink?Promise.resolve(this._provider.resolveLink(this._link,e)).then((t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing"))))):Promise.reject(new Error("missing"))}))}constructor(e,t){this._link=e,this._provider=t}}class m{dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){let n,i,o,r,s=[];for(n=0,o=0,i=e.length,r=t.length;n<i&&o<r;){const i=e[n],r=t[o];if(a.Range.areIntersectingOrTouching(i.range,r.range)){n++;continue}a.Range.compareRangesUsingStarts(i.range,r.range)<0?(s.push(i),n++):(s.push(r),o++)}for(;n<i;n++)s.push(e[n]);for(;o<r;o++)s.push(t[o]);return s}constructor(e){this._disposables=new(0,d.DisposableStore);let t=[];for(const[n,i]of e){const e=n.links.map((e=>new f(e,i)));t=m._union(t,e),(0,d.isDisposable)(n)&&this._disposables.add(n)}this.links=t}}function v(e,t){const n=[],i=l.LinkProviderRegistry.ordered(e).reverse().map(((i,r)=>Promise.resolve(i.provideLinks(e,t)).then((e=>{e&&(n[r]=[e,i])}),o.onUnexpectedExternalError)));return Promise.all(i).then((()=>{const e=new m((0,h.coalesce)(n));return t.isCancellationRequested?(e.dispose(),new m([])):e}))}u.CommandsRegistry.registerCommand("_executeLinkProvider",((e,...t)=>g(void 0,void 0,void 0,(function*(){let[n,o]=t;(0,p.assertType)(n instanceof s.URI),"number"!=typeof o&&(o=0);const r=e.get(c.IModelService).getModel(n);if(!r)return[];const a=yield v(r,i.CancellationToken.None);if(!a)return[];for(let e=0;e<Math.min(o,a.links.length);e++)yield a.links[e].resolve(i.CancellationToken.None);const l=a.links.slice(0);return a.dispose(),l}))))})),r.register("gEzkW",(function(e,t){var n=r("9LBxC"),i=r("6wKox"),o=r("izshX"),s=r("iNF8q"),a=r("4waad"),l=r("eh64S"),c=r("9MbuI"),u=r("dSV0M"),d=r("e8gAb"),h=r("igipX"),p=r("77LTJ"),g=r("cVvMG"),f=r("aZciE"),m=r("cPiAT"),v=r("d8eAn"),b=r("5h6AG"),y=r("JzRxO"),_=r("1N08n");function C(e,t){const i=t.filter((t=>!e.find((e=>e.equals(t)))));if(i.length>=1){const e=i.map((e=>`line ${e.viewState.position.lineNumber} column ${e.viewState.position.column}`)).join(", "),t=1===i.length?n.localize("cursorAdded","Cursor added: {0}",e):n.localize("cursorsAdded","Cursors added: {0}",e);(0,a.status)(t)}}class x extends l.EditorAction{run(e,t,n){if(!t.hasModel())return;const i=n&&!0===n.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const r=o.getCursorStates();o.setCursorStates(n.source,3,c.CursorMoveCommands.addCursorUp(o,r,i)),o.revealTopMostCursor(n.source),C(r,o.getCursorStates())}constructor(){super({id:"editor.action.insertCursorAbove",label:n.localize("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}}class S extends l.EditorAction{run(e,t,n){if(!t.hasModel())return;const i=n&&!0===n.logicalLine,o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.pushStackElement();const r=o.getCursorStates();o.setCursorStates(n.source,3,c.CursorMoveCommands.addCursorDown(o,r,i)),o.revealBottomMostCursor(n.source),C(r,o.getCursorStates())}constructor(){super({id:"editor.action.insertCursorBelow",label:n.localize("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}}class w extends l.EditorAction{getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let i=e.startLineNumber;i<e.endLineNumber;i++){let e=t.getLineMaxColumn(i);n.push(new(0,d.Selection)(i,e,i,e))}e.endColumn>1&&n.push(new(0,d.Selection)(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),i=t.getSelections(),o=t._getViewModel(),r=o.getCursorStates();let s=[];i.forEach((e=>this.getCursorsForSelection(e,n,s))),s.length>0&&t.setSelections(s),C(r,o.getCursorStates())}constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:n.localize("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}}class k extends l.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getSelections(),i=t.getModel().getLineCount();let o=[];for(let e=n[0].startLineNumber;e<=i;e++)o.push(new(0,d.Selection)(e,n[0].startColumn,e,n[0].endColumn));const r=t._getViewModel(),s=r.getCursorStates();o.length>0&&t.setSelections(o),C(s,r.getCursorStates())}constructor(){super({id:"editor.action.addCursorsToBottom",label:n.localize("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}}class E extends l.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getSelections();let i=[];for(let e=n[0].startLineNumber;e>=1;e--)i.push(new(0,d.Selection)(e,n[0].startColumn,e,n[0].endColumn));const o=t._getViewModel(),r=o.getCursorStates();i.length>0&&t.setSelections(i),C(r,o.getCursorStates())}constructor(){super({id:"editor.action.addCursorsToTop",label:n.localize("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}}class D{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class I{static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new I(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let i,o,r=!1;const s=e.getSelections();1===s.length&&s[0].isEmpty()?(r=!0,i=!0,o=!0):(i=n.wholeWord,o=n.matchCase);const a=e.getSelection();let l,c=null;if(a.isEmpty()){const t=e.getConfiguredWordAtPosition(a.getStartPosition());if(!t)return null;l=t.word,c=new(0,d.Selection)(a.startLineNumber,t.startColumn,a.startLineNumber,t.endColumn)}else l=e.getModel().getValueInRange(a).replace(/\r\n/g,"\n");return new I(e,t,r,l,i,o,c)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new D(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new D(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return n?new(0,d.Selection)(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new D(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new D(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const e=this.currentMatch;return this.currentMatch=null,e}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1);return n?new(0,d.Selection)(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(){return this._editor.hasModel()?(this.findController.highlightFindOptions(),this._editor.getModel().findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(115):null,!1,1073741824)):[]}constructor(e,t,n,i,o,r,s){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=i,this.wholeWord=o,this.matchCase=r,this.currentMatch=s}}class A extends s.Disposable{static get(e){return e.getContribution(A.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=I.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection((e=>{this._ignoreSelectionChange||this._endSession()}))),this._sessionDispose.add(this._editor.onDidBlurEditorText((()=>{this._endSession()}))),this._sessionDispose.add(e.getState().onFindReplaceStateChange((e=>{(e.matchCase||e.wholeWord)&&this._endSession()})))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new(0,d.Selection)(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){e&&(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const n=e.getState().matchCase;if(!T(this._editor.getModel(),t,n)){const e=this._editor.getModel();let n=[];for(let i=0,o=t.length;i<o;i++)n[i]=this._expandEmptyToWord(e,t[i]);return void this._editor.setSelections(n)}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex)t=this._editor.getModel().findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(115):null,!1,1073741824);else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll()}if(n.searchScope){const e=n.searchScope;let i=[];t.forEach((t=>{e.forEach((e=>{t.range.endLineNumber<=e.endLineNumber&&t.range.startLineNumber>=e.startLineNumber&&i.push(t)}))})),t=i}if(t.length>0){const e=this._editor.getSelection();for(let n=0,i=t.length;n<i;n++){const i=t[n];if(i.range.intersectRanges(e)){t[n]=t[0],t[0]=i;break}}this._setSelections(t.map((e=>new(0,d.Selection)(e.range.startLineNumber,e.range.startColumn,e.range.endLineNumber,e.range.endColumn))))}}constructor(e){super(),this._sessionDispose=this._register(new(0,s.DisposableStore)),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}}A.ID="editor.contrib.multiCursorController";class R extends l.EditorAction{run(e,t){const n=A.get(t);if(!n)return;const i=m.CommonFindController.get(t);if(!i)return;const o=t._getViewModel();if(o){const e=o.getCursorStates();this._run(n,i),C(e,o.getCursorStates())}}}class L{static softEquals(e,t){return!e&&!t||!(!e||!t)&&(e.searchText===t.searchText&&e.matchCase===t.matchCase&&e.wordSeparators===t.wordSeparators&&e.modelVersionId===t.modelVersionId)}constructor(e,t,n,i){this.searchText=e,this.matchCase=t,this.wordSeparators=n,this.modelVersionId=i}}class M extends s.Disposable{_update(){this._setState(M._createState(this._isEnabled,this.editor))}static _createState(e,t){if(!e)return null;if(!t.hasModel())return null;const n=t.getSelection();if(n.startLineNumber!==n.endLineNumber)return null;const i=A.get(t);if(!i)return null;const o=m.CommonFindController.get(t);if(!o)return null;let r=i.getSession(o);if(!r){const e=t.getSelections();if(e.length>1){const n=o.getState().matchCase;if(!T(t.getModel(),e,n))return null}r=I.create(t,o)}if(!r)return null;if(r.currentMatch)return null;if(/^[ \t]+$/.test(r.searchText))return null;if(r.searchText.length>200)return null;const s=o.getState(),a=s.matchCase;if(s.isRevealed){let e=s.searchString;a||(e=e.toLowerCase());let t=r.searchText;if(a||(t=t.toLowerCase()),e===t&&r.matchCase===s.matchCase&&r.wholeWord===s.wholeWord&&!s.isRegex)return null}return new L(r.searchText,r.matchCase,r.wholeWord?t.getOption(115):null,t.getModel().getVersionId())}_setState(e){if(L.softEquals(this.state,e))return void(this.state=e);if(this.state=e,!this.state)return void(this.decorations=this.editor.deltaDecorations(this.decorations,[]));if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=f.DocumentHighlightProviderRegistry.has(t)&&this.editor.getOption(70);let i=t.findMatches(this.state.searchText,!0,!1,this.state.matchCase,this.state.wordSeparators,!1).map((e=>e.range));i.sort(u.Range.compareRangesUsingStarts);let o=this.editor.getSelections();o.sort(u.Range.compareRangesUsingStarts);let r=[];for(let e=0,t=0,n=i.length,s=o.length;e<n;){const n=i[e];if(t>=s)r.push(n),e++;else{const i=u.Range.compareRangesUsingStarts(n,o[t]);i<0?(!o[t].isEmpty()&&u.Range.areIntersecting(n,o[t])||r.push(n),e++):(i>0||e++,t++)}}const s=r.map((e=>({range:e,options:n?M._SELECTION_HIGHLIGHT:M._SELECTION_HIGHLIGHT_OVERVIEW})));this.decorations=this.editor.deltaDecorations(this.decorations,s)}dispose(){this._setState(null),super.dispose()}constructor(e){super(),this.editor=e,this._isEnabled=e.getOption(96),this.decorations=[],this.updateSoon=this._register(new(0,i.RunOnceScheduler)((()=>this._update()),300)),this.state=null,this._register(e.onDidChangeConfiguration((t=>{this._isEnabled=e.getOption(96)}))),this._register(e.onDidChangeCursorSelection((e=>{this._isEnabled&&(e.selection.isEmpty()?3===e.reason?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())}))),this._register(e.onDidChangeModel((e=>{this._setState(null)}))),this._register(e.onDidChangeModelContent((e=>{this._isEnabled&&this.updateSoon.schedule()}))),this._register(m.CommonFindController.get(e).getState().onFindReplaceStateChange((e=>{this._update()})))}}function T(e,t,n){const i=N(e,t[0],!n);for(let o=1,r=t.length;o<r;o++){const r=t[o];if(r.isEmpty())return!1;if(i!==N(e,r,!n))return!1}return!0}function N(e,t,n){const i=e.getValueInRange(t);return n?i.toLowerCase():i}M.ID="editor.contrib.selectionHighlighter",M._SELECTION_HIGHLIGHT_OVERVIEW=g.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,y.themeColorFromId)(b.overviewRulerSelectionHighlightForeground),position:p.OverviewRulerLane.Center}}),M._SELECTION_HIGHLIGHT=g.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),(0,l.registerEditorContribution)(A.ID,A),(0,l.registerEditorContribution)(M.ID,M),(0,l.registerEditorAction)(x),(0,l.registerEditorAction)(S),(0,l.registerEditorAction)(w),(0,l.registerEditorAction)(class extends R{_run(e,t){e.addSelectionToNextFindMatch(t)}constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:n.localize("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}}),(0,l.registerEditorAction)(class extends R{_run(e,t){e.addSelectionToPreviousFindMatch(t)}constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:n.localize("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}}),(0,l.registerEditorAction)(class extends R{_run(e,t){e.moveSelectionToNextFindMatch(t)}constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:n.localize("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:(0,o.KeyChord)(2089,2082),weight:100}})}}),(0,l.registerEditorAction)(class extends R{_run(e,t){e.moveSelectionToPreviousFindMatch(t)}constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:n.localize("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}}),(0,l.registerEditorAction)(class extends R{_run(e,t){e.selectAll(t)}constructor(){super({id:"editor.action.selectHighlights",label:n.localize("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:h.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:v.MenuId.MenubarSelectionMenu,group:"3_multi",title:n.localize({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}}),(0,l.registerEditorAction)(class extends R{_run(e,t){e.selectAll(t)}constructor(){super({id:"editor.action.changeAll",label:n.localize("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:_.ContextKeyExpr.and(h.EditorContextKeys.writable,h.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:h.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}}),(0,l.registerEditorAction)(k),(0,l.registerEditorAction)(E)})),r.register("jY3aD",(function(e,t){var n=r("9LBxC"),i=r("iNF8q"),o=r("blTDv"),s=r("igipX"),a=r("1N08n"),l=r("eh64S"),c=r("a16CO"),u=r("9ySH8"),d=r("aZciE"),h=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},p=function(e,t){return function(n,i){t(n,i,e)}};let g=class e extends i.Disposable{static get(t){return t.getContribution(e.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(c.ParameterHintsWidget,this.editor))}};g.ID="editor.controller.parameterHints",g=h([p(1,o.IInstantiationService)],g);class f extends l.EditorAction{run(e,t){const n=g.get(t);n&&n.trigger({triggerKind:d.SignatureHelpTriggerKind.Invoke})}constructor(){super({id:"editor.action.triggerParameterHints",label:n.localize("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:s.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}}(0,l.registerEditorContribution)(g.ID,g),(0,l.registerEditorAction)(f);const m=l.EditorCommand.bindToContribution(g.get);(0,l.registerEditorCommand)(new m({id:"closeParameterHints",precondition:u.Context.Visible,handler:e=>e.cancel(),kbOpts:{weight:175,kbExpr:s.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,l.registerEditorCommand)(new m({id:"showPrevParameterHint",precondition:a.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSignatures),handler:e=>e.previous(),kbOpts:{weight:175,kbExpr:s.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,l.registerEditorCommand)(new m({id:"showNextParameterHint",precondition:a.ContextKeyExpr.and(u.Context.Visible,u.Context.MultipleSignatures),handler:e=>e.next(),kbOpts:{weight:175,kbExpr:s.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))})),r.register("a16CO",(function(t,n){e(t.exports,"ParameterHintsWidget",(function(){return I}),(function(e){return I=e}));var i=r("2vQKJ"),o=r("4waad"),s=r("9UOZH"),a=r("4zvzH"),l=r("iNF8q"),c=r("ezXom"),u=r("itLZT"),d=r("9ySH8"),h=r("9LBxC"),p=r("1N08n"),g=r("1n4fF"),f=r("5h6AG"),m=r("JzRxO"),v=r("4j0MF"),b=r("78mNz"),y=r("evoAc"),_=r("6cqQ7"),C=r("g1JV6"),x=r("fAMPC"),S=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},w=function(e,t){return function(n,i){t(n,i,e)}};const k=i.$,E=(0,x.registerIcon)("parameter-hints-next",y.Codicon.chevronDown,h.localize("parameterHintsNextIcon","Icon for show next parameter hint.")),D=(0,x.registerIcon)("parameter-hints-previous",y.Codicon.chevronUp,h.localize("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let I=class e extends l.Disposable{createParameterHintDOMNodes(){const e=k(".editor-widget.parameter-hints-widget"),t=i.append(e,k(".phwrapper"));t.tabIndex=-1;const n=i.append(t,k(".controls")),o=i.append(n,k(".button"+m.ThemeIcon.asCSSSelector(D))),r=i.append(n,k(".overloads")),l=i.append(n,k(".button"+m.ThemeIcon.asCSSSelector(E)));this._register(i.addDisposableListener(o,"click",(e=>{i.EventHelper.stop(e),this.previous()}))),this._register(i.addDisposableListener(l,"click",(e=>{i.EventHelper.stop(e),this.next()})));const c=k(".body"),u=new(0,s.DomScrollableElement)(c,{});this._register(u),t.appendChild(u.getDomNode());const d=i.append(c,k(".signature")),h=i.append(c,k(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:d,overloads:r,docs:h,scrollbar:u},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection((e=>{this.visible&&this.editor.layoutContentWidget(this)})));const p=()=>{if(!this.domNodes)return;const e=this.editor.getOption(41);this.domNodes.element.style.fontSize=`${e.fontSize}px`};p(),this._register(a.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter((e=>e.hasChanged(41))).on(p,null)),this._register(this.editor.onDidLayoutChange((e=>this.updateMaxHeight()))),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout((()=>{this.domNodes&&this.domNodes.element.classList.add("visible")}),100),this.editor.layoutContentWidget(this))}hide(){this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,this.domNodes&&this.domNodes.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const r=e.signatures[e.activeSignature];if(!r)return;const s=i.append(this.domNodes.signature,k(".code")),a=this.editor.getOption(41);s.style.fontSize=`${a.fontSize}px`,s.style.fontFamily=a.fontFamily;const l=r.parameters.length>0,c=null!==(t=r.activeParameter)&&void 0!==t?t:e.activeParameter;if(l)this.renderParameters(s,r,c);else{i.append(s,k("span")).textContent=r.label}const u=r.parameters[c];if(null==u?void 0:u.documentation){const e=k("span.documentation");if("string"==typeof u.documentation)e.textContent=u.documentation;else{const t=this.renderMarkdownDocs(u.documentation);e.appendChild(t.element)}i.append(this.domNodes.docs,k("p",{},e))}if(void 0===r.documentation);else if("string"==typeof r.documentation)i.append(this.domNodes.docs,k("p",{},r.documentation));else{const e=this.renderMarkdownDocs(r.documentation);i.append(this.domNodes.docs,e.element)}const d=this.hasDocs(r,u);if(this.domNodes.signature.classList.toggle("has-docs",d),this.domNodes.docs.classList.toggle("empty",!d),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,u){const e=this.getParameterLabel(r,c);this.announcedLabel!==e&&(o.alert(h.localize("hint","{0}, hint",e)),this.announcedLabel=e)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var e;null===(e=this.domNodes)||void 0===e||e.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&"string"==typeof t.documentation&&(0,_.assertIsDefined)(t.documentation).length>0)||(!!(t&&"object"==typeof t.documentation&&(0,_.assertIsDefined)(t.documentation).value.length>0)||(!!(e.documentation&&"string"==typeof e.documentation&&(0,_.assertIsDefined)(e.documentation).length>0)||!!(e.documentation&&"object"==typeof e.documentation&&(0,_.assertIsDefined)(e.documentation.value).length>0)))}renderParameters(e,t,n){const[o,r]=this.getParameterLabelOffsets(t,n),s=document.createElement("span");s.textContent=t.label.substring(0,o);const a=document.createElement("span");a.textContent=t.label.substring(o,r),a.className="parameter active";const l=document.createElement("span");l.textContent=t.label.substring(r),i.append(e,s,a,l)}getParameterLabel(e,t){const n=e.parameters[t];return Array.isArray(n.label)?e.label.substring(n.label[0],n.label[1]):n.label}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const t=new RegExp(`(\\W|^)${(0,b.escapeRegExpCharacters)(n.label)}(?=\\W|$)`,"g");t.test(e.label);const i=t.lastIndex-n.label.length;return i>=0?[i,t.lastIndex]:[0,0]}return[0,0]}return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return e.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const e=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=e;const t=this.domNodes.element.getElementsByClassName("phwrapper");t.length&&(t[0].style.maxHeight=e)}constructor(e,t,n,i){super(),this.editor=e,this.renderDisposeables=this._register(new(0,l.DisposableStore)),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new(0,u.MarkdownRenderer)({editor:e},i,n)),this.model=this._register(new(0,v.ParameterHintsModel)(e)),this.keyVisible=d.Context.Visible.bindTo(t),this.keyMultipleSignatures=d.Context.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints((e=>{e?(this.show(),this.render(e)):this.hide()})))}};I.ID="editor.widget.parameterHintsWidget",I=S([w(1,p.IContextKeyService),w(2,g.IOpenerService),w(3,c.IModeService)],I),(0,m.registerThemingParticipant)(((e,t)=>{const n=e.getColor(f.editorHoverBorder);if(n){const i=e.type===C.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .parameter-hints-widget { border: ${i}px solid ${n}; }`),t.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${n.transparent(.5)}; }`),t.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${n.transparent(.5)}; }`)}const i=e.getColor(f.editorHoverBackground);i&&t.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${i}; }`);const o=e.getColor(f.textLinkForeground);o&&t.addRule(`.monaco-editor .parameter-hints-widget a { color: ${o}; }`);const r=e.getColor(f.editorHoverForeground);r&&t.addRule(`.monaco-editor .parameter-hints-widget { color: ${r}; }`);const s=e.getColor(f.textCodeBlockBackground);s&&t.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${s}; }`)}))})),r.register("9ySH8",(function(t,n){e(t.exports,"Context",(function(){return g}),(function(e){return g=e})),e(t.exports,"provideSignatureHelp",(function(){return f}),(function(e){return f=e}));var i=r("2zf51"),o=r("aGBCV"),s=r("aZciE"),a=r("1N08n"),l=r("dq3o1"),c=r("7YObE"),u=r("65vvd"),d=r("6cqQ7"),h=r("d0Qsb"),p=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const g={Visible:new(0,a.RawContextKey)("parameterHintsVisible",!1),MultipleSignatures:new(0,a.RawContextKey)("parameterHintsMultipleSignatures",!1)};function f(e,t,n,o){return p(this,void 0,void 0,(function*(){const r=s.SignatureHelpProviderRegistry.ordered(e);for(const s of r)try{const i=yield s.provideSignatureHelp(e,t,o,n);if(i)return i}catch(e){(0,i.onUnexpectedExternalError)(e)}}))}c.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",((e,...t)=>p(void 0,void 0,void 0,(function*(){const[n,i,r]=t;(0,d.assertType)(u.URI.isUri(n)),(0,d.assertType)(o.Position.isIPosition(i)),(0,d.assertType)("string"==typeof r||!r);const a=yield e.get(h.ITextModelService).createModelReference(n);try{const e=yield f(a.object.textEditorModel,o.Position.lift(i),{triggerKind:s.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:r},l.CancellationToken.None);if(!e)return;return setTimeout((()=>e.dispose()),0),e.value}finally{a.dispose()}}))))})),r.register("4j0MF",(function(t,n){e(t.exports,"ParameterHintsModel",(function(){return p}),(function(e){return p=e}));var i,o=r("6wKox"),s=r("2zf51"),a=r("4zvzH"),l=r("iNF8q"),c=r("0FIFl"),u=r("aZciE"),d=r("9ySH8"),h=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};!function(e){e.Default={type:0};e.Pending=class{constructor(e,t){this.request=e,this.previouslyActiveHints=t,this.type=2}};e.Active=class{constructor(e){this.hints=e,this.type=1}}}(i||(i={}));class p extends l.Disposable{get state(){return this._state}set state(e){2===this._state.type&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=i.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!u.SignatureHelpProviderRegistry.has(n))return;const i=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger((()=>this.doTrigger(i)),t).catch(s.onUnexpectedError)}next(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e==e-1,i=this.editor.getOption(74).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?0:t+1):this.cancel()}previous(){if(1!==this.state.type)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=0===t,i=this.editor.getOption(74).cycle;!(e<2||n)||i?this.updateActiveSignature(n&&i?e-1:t-1):this.cancel()}updateActiveSignature(e){1===this.state.type&&(this.state=new i.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return h(this,void 0,void 0,(function*(){const t=1===this.state.type||2===this.state.type,n=this.getLastActiveHints();if(this.cancel(!0),0===this._pendingTriggers.length)return!1;const r=this._pendingTriggers.reduce(g);this._pendingTriggers=[];const a={triggerKind:r.triggerKind,triggerCharacter:r.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const l=this.editor.getModel(),c=this.editor.getPosition();this.state=new i.Pending((0,o.createCancelablePromise)((e=>(0,d.provideSignatureHelp)(l,c,a,e))),n);try{const t=yield this.state.request;return e!==this.triggerId?(null==t||t.dispose(),!1):t&&t.value.signatures&&0!==t.value.signatures.length?(this.state=new i.Active(t.value),this._lastSignatureHelpResult.value=t,this._onChangedHints.fire(this.state.hints),!0):(null==t||t.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1)}catch(t){return e===this.triggerId&&(this.state=i.Default),(0,s.onUnexpectedError)(t),!1}}))}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return 1===this.state.type||2===this.state.type||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new(0,c.CharacterSet),this.retriggerChars=new(0,c.CharacterSet);const e=this.editor.getModel();if(e)for(const t of u.SignatureHelpProviderRegistry.ordered(e)){for(const e of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(e.charCodeAt(0)),this.retriggerChars.add(e.charCodeAt(0));for(const e of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(e.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:u.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){"mouse"===e.source?this.cancel():this.isTriggered&&this.trigger({triggerKind:u.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:u.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(74).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}constructor(e,t=p.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new(0,a.Emitter)),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=i.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new(0,l.MutableDisposable)),this.triggerChars=new(0,c.CharacterSet),this.retriggerChars=new(0,c.CharacterSet),this.triggerId=0,this.editor=e,this.throttledDelayer=new(0,o.Delayer)(t),this._register(this.editor.onDidBlurEditorWidget((()=>this.cancel()))),this._register(this.editor.onDidChangeConfiguration((()=>this.onEditorConfigurationChange()))),this._register(this.editor.onDidChangeModel((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeModelLanguage((e=>this.onModelChanged()))),this._register(this.editor.onDidChangeCursorSelection((e=>this.onCursorChange(e)))),this._register(this.editor.onDidChangeModelContent((e=>this.onModelContentChange()))),this._register(u.SignatureHelpProviderRegistry.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType((e=>this.onDidType(e)))),this.onEditorConfigurationChange(),this.onModelChanged()}}function g(e,t){switch(t.triggerKind){case u.SignatureHelpTriggerKind.Invoke:return t;case u.SignatureHelpTriggerKind.ContentChange:return e;case u.SignatureHelpTriggerKind.TriggerCharacter:default:return t}}p.DEFAULT_DELAY=120})),r.register("d6ROh",(function(e,t){var n=r("9LBxC"),i=r("2zf51"),o=r("1N08n"),s=r("cIR7X"),a=r("eh64S"),l=r("igipX"),c=r("pnGrG"),u=r("aZciE"),d=r("aGBCV"),h=r("4waad"),p=r("dSV0M"),g=r("j3sMg"),f=r("dGvPd"),m=r("hYVHb"),v=r("8vU6U"),b=r("65vvd"),y=r("7yAvG"),_=r("dq3o1"),C=r("iNF8q"),x=r("6wKox"),S=r("cJ7j9"),w=r("blTDv"),k=r("5zKqh"),E=r("2nDOY"),D=r("cZh9r"),I=r("6cqQ7"),A=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},R=function(e,t){return function(n,i){t(n,i,e)}},L=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class M{hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return L(this,void 0,void 0,(function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const n=this._providers[this._providerRenameIdx];if(!n.resolveRenameLocation)break;let i=yield n.resolveRenameLocation(this.model,this.position,e);if(i){if(!i.rejectReason)return i;t.push(i.rejectReason)}}const n=this.model.getWordAtPosition(this.position);return n?{range:new(0,p.Range)(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join("\n"):void 0}:{range:p.Range.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join("\n"):void 0}}))}provideRenameEdits(e,t){return L(this,void 0,void 0,(function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)}))}_provideRenameEdits(e,t,i,o){return L(this,void 0,void 0,(function*(){const r=this._providers[t];if(!r)return{edits:[],rejectReason:i.join("\n")};const s=yield r.provideRenameEdits(this.model,this.position,e,o);return s?s.rejectReason?this._provideRenameEdits(e,t+1,i.concat(s.rejectReason),o):s:this._provideRenameEdits(e,t+1,i.concat(n.localize("no result","No result.")),o)}))}constructor(e,t){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=u.RenameProviderRegistry.ordered(e)}}let T=class e{static get(t){return t.getContribution(e.ID)}dispose(){this._dispoableStore.dispose(),this._cts.dispose(!0)}run(){return L(this,void 0,void 0,(function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const e=this.editor.getPosition(),t=new M(this.editor.getModel(),e);if(!t.hasProvider())return;let i;this._cts=new(0,f.EditorStateCancellationTokenSource)(this.editor,5);try{const e=t.resolveRenameLocation(this._cts.token);this._progressService.showWhile(e,250),i=yield e}catch(t){return void g.MessageController.get(this.editor).showMessage(t||n.localize("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),e)}if(!i)return;if(i.rejectReason)return void g.MessageController.get(this.editor).showMessage(i.rejectReason,e);if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new(0,f.EditorStateCancellationTokenSource)(this.editor,5,i.range);let o=this.editor.getSelection(),r=0,s=i.text.length;p.Range.isEmpty(o)||p.Range.spansMultipleLines(o)||!p.Range.containsRange(i.range,o)||(r=Math.max(0,o.startColumn-i.range.startColumn),s=Math.min(i.range.endColumn,o.endColumn)-i.range.startColumn);const a=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),l=yield this._renameInputField.value.getInput(i.range,i.text,r,s,a,this._cts.token);if("boolean"==typeof l)return void(l&&this.editor.focus());this.editor.focus();const c=(0,x.raceCancellation)(t.provideRenameEdits(l.newName,this._cts.token),this._cts.token).then((e=>L(this,void 0,void 0,(function*(){e&&this.editor.hasModel()&&(e.rejectReason?this._notificationService.info(e.rejectReason):this._bulkEditService.apply(v.ResourceEdit.convert(e),{editor:this.editor,showPreview:l.wantsPreview,label:n.localize("label","Renaming '{0}'",null==i?void 0:i.text),quotableLabel:n.localize("quotableLabel","Renaming {0}",null==i?void 0:i.text)}).then((e=>{e.ariaSummary&&(0,h.alert)(n.localize("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",i.text,l.newName,e.ariaSummary))})).catch((e=>{this._notificationService.error(n.localize("rename.failedApply","Rename failed to apply edits")),this._logService.error(e)})))}))),(e=>{this._notificationService.error(n.localize("rename.failed","Rename failed to compute edits")),this._logService.error(e)}));return this._progressService.showWhile(c,250),c}))}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}constructor(e,t,n,i,o,r,s){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=i,this._progressService=o,this._logService=r,this._configService=s,this._dispoableStore=new(0,C.DisposableStore),this._cts=new(0,_.CancellationTokenSource),this._renameInputField=this._dispoableStore.add(new(0,x.IdleValue)((()=>this._dispoableStore.add(this._instaService.createInstance(c.RenameInputField,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"])))))}};T.ID="editor.contrib.renameController",T=A([R(1,w.IInstantiationService),R(2,m.INotificationService),R(3,v.IBulkEditService),R(4,s.IEditorProgressService),R(5,S.ILogService),R(6,D.ITextResourceConfigurationService)],T);class N extends a.EditorAction{runCommand(e,t){const n=e.get(y.ICodeEditorService),[o,r]=Array.isArray(t)&&t||[void 0,void 0];return b.URI.isUri(o)&&d.Position.isIPosition(r)?n.openCodeEditor({resource:o},n.getActiveCodeEditor()).then((e=>{e&&(e.setPosition(r),e.invokeWithinContext((t=>(this.reportTelemetry(t,e),this.run(t,e)))))}),i.onUnexpectedError):super.runCommand(e,t)}run(e,t){const n=T.get(t);return n?n.run():Promise.resolve()}constructor(){super({id:"editor.action.rename",label:n.localize("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:o.ContextKeyExpr.and(l.EditorContextKeys.writable,l.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:l.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}}(0,a.registerEditorContribution)(T.ID,T),(0,a.registerEditorAction)(N);const P=a.EditorCommand.bindToContribution(T.get);(0,a.registerEditorCommand)(new P({id:"acceptRenameInput",precondition:c.CONTEXT_RENAME_INPUT_VISIBLE,handler:e=>e.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:l.EditorContextKeys.focus,primary:3}})),(0,a.registerEditorCommand)(new P({id:"acceptRenameInputWithPreview",precondition:o.ContextKeyExpr.and(c.CONTEXT_RENAME_INPUT_VISIBLE,o.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:e=>e.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:l.EditorContextKeys.focus,primary:1027}})),(0,a.registerEditorCommand)(new P({id:"cancelRenameInput",precondition:c.CONTEXT_RENAME_INPUT_VISIBLE,handler:e=>e.cancelRenameInput(),kbOpts:{weight:199,kbExpr:l.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,a.registerModelAndPositionCommand)("_executeDocumentRenameProvider",(function(e,t,...n){const[i]=n;return(0,I.assertType)("string"==typeof i),function(e,t,n){return L(this,void 0,void 0,(function*(){const i=new M(e,t),o=yield i.resolveRenameLocation(_.CancellationToken.None);return(null==o?void 0:o.rejectReason)?{edits:[],rejectReason:o.rejectReason}:i.provideRenameEdits(n,_.CancellationToken.None)}))}(e,t,i)})),k.Registry.as(E.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:n.localize("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}})})),r.register("pnGrG",(function(t,n){e(t.exports,"CONTEXT_RENAME_INPUT_VISIBLE",(function(){return p}),(function(e){return p=e})),e(t.exports,"RenameInputField",(function(){return g}),(function(e){return g=e}));var i=r("iNF8q"),o=r("aGBCV"),s=r("9LBxC"),a=r("1N08n"),l=r("5h6AG"),c=r("JzRxO"),u=r("dEnIO"),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){return function(n,i){t(n,i,e)}};const p=new(0,a.RawContextKey)("renameInputVisible",!1,(0,s.localize)("renameInputVisible","Whether the rename input widget is visible"));let g=class{dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,s.localize)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var e,t;const[n,i]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(n),this._label.innerText=(0,s.localize)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",null===(e=this._keybindingService.lookupKeybinding(n))||void 0===e?void 0:e.getLabel(),null===(t=this._keybindingService.lookupKeybinding(i))||void 0===t?void 0:t.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,i,o;if(!this._input||!this._domNode)return;const r=e.getColor(l.widgetShadow);this._domNode.style.backgroundColor=String(null!==(t=e.getColor(l.editorWidgetBackground))&&void 0!==t?t:""),this._domNode.style.boxShadow=r?` 0 0 8px 2px ${r}`:"",this._domNode.style.color=String(null!==(n=e.getColor(l.inputForeground))&&void 0!==n?n:""),this._input.style.backgroundColor=String(null!==(i=e.getColor(l.inputBackground))&&void 0!==i?i:"");const s=e.getColor(l.inputBorder);this._input.style.borderWidth=s?"1px":"0px",this._input.style.borderStyle=s?"solid":"none",this._input.style.borderColor=null!==(o=null==s?void 0:s.toString())&&void 0!==o?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(41);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=.8*e.fontSize+"px"}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){this._currentAcceptInput&&this._currentAcceptInput(e)}cancelInput(e){this._currentCancelInput&&this._currentCancelInput(e)}getInput(e,t,n,r,s,a){this._domNode.classList.toggle("preview",s),this._position=new(0,o.Position)(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",r.toString()),this._input.size=Math.max(1.1*(e.endColumn-e.startColumn),20);const l=new(0,i.DisposableStore);return new Promise((e=>{this._currentCancelInput=t=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e(t),!0),this._currentAcceptInput=n=>{0!==this._input.value.trim().length&&this._input.value!==t?(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,e({newName:this._input.value,wantsPreview:s&&n})):this.cancelInput(!0)},a.onCancellationRequested((()=>this.cancelInput(!0))),l.add(this._editor.onDidBlurEditorWidget((()=>this.cancelInput(!1)))),this._show()})).finally((()=>{l.dispose(),this._hide()}))}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout((()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))}),100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}constructor(e,t,n,o,r){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=o,this._disposables=new(0,i.DisposableStore),this.allowEditorOverflow=!0,this._visibleContextKey=p.bindTo(r),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(41)&&this._updateFont()}))),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}};g=d([h(2,c.IThemeService),h(3,u.IKeybindingService),h(4,a.IContextKeyService)],g)})),r.register("3fqRK",(function(e,t){var n=r("cCPZ6"),i=r("dq3o1"),o=r("eh64S"),s=r("aGBCV"),a=r("dSV0M"),l=r("e8gAb"),c=r("igipX"),u=r("aZciE"),d=r("9LBxC"),h=r("d8eAn"),p=r("9DrlS"),g=r("gbo29"),f=r("7YObE"),m=r("2zf51"),v=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class b{mov(e){let t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new b(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}constructor(e,t){this.index=e,this.ranges=t}}class y{static get(e){return e.getContribution(y.ID)}dispose(){var e;null===(e=this._selectionListener)||void 0===e||e.dispose()}run(e){return v(this,void 0,void 0,(function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),o=this._editor.getModel();if(!u.SelectionRangeRegistry.has(o))return;if(this._state||(yield C(o,t.map((e=>e.getPosition())),this._editor.getOption(101),i.CancellationToken.None).then((e=>{var i;if(n.isNonEmptyArray(e)&&e.length===t.length&&this._editor.hasModel()&&n.equals(this._editor.getSelections(),t,((e,t)=>e.equalsSelection(t)))){for(let n=0;n<e.length;n++)e[n]=e[n].filter((e=>e.containsPosition(t[n].getStartPosition())&&e.containsPosition(t[n].getEndPosition()))),e[n].unshift(t[n]);this._state=e.map((e=>new b(0,e))),null===(i=this._selectionListener)||void 0===i||i.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition((()=>{var e;this._ignoreSelection||(null===(e=this._selectionListener)||void 0===e||e.dispose(),this._state=void 0)}))}}))),!this._state)return;this._state=this._state.map((t=>t.mov(e)));const r=this._state.map((e=>l.Selection.fromPositions(e.ranges[e.index].getStartPosition(),e.ranges[e.index].getEndPosition())));this._ignoreSelection=!0;try{this._editor.setSelections(r)}finally{this._ignoreSelection=!1}}))}constructor(e){this._editor=e,this._ignoreSelection=!1}}y.ID="editor.contrib.smartSelectController";class _ extends o.EditorAction{run(e,t){return v(this,void 0,void 0,(function*(){let e=y.get(t);e&&(yield e.run(this._forward))}))}constructor(e,t){super(t),this._forward=e}}f.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");function C(e,t,i,o){return v(this,void 0,void 0,(function*(){const r=u.SelectionRangeRegistry.all(e);1===r.length&&r.unshift(new(0,g.BracketSelectionRangeProvider));let l=[],c=[];for(const i of r)l.push(Promise.resolve(i.provideSelectionRanges(e,t,o)).then((e=>{if(n.isNonEmptyArray(e)&&e.length===t.length)for(let n=0;n<t.length;n++){c[n]||(c[n]=[]);for(const i of e[n])a.Range.isIRange(i.range)&&a.Range.containsPosition(i.range,t[n])&&c[n].push(a.Range.lift(i.range))}}),m.onUnexpectedExternalError));return yield Promise.all(l),c.map((t=>{if(0===t.length)return[];t.sort(((e,t)=>s.Position.isBefore(e.getStartPosition(),t.getStartPosition())?1:s.Position.isBefore(t.getStartPosition(),e.getStartPosition())||s.Position.isBefore(e.getEndPosition(),t.getEndPosition())?-1:s.Position.isBefore(t.getEndPosition(),e.getEndPosition())?1:0));let n,o=[];for(const e of t)(!n||a.Range.containsRange(e,n)&&!a.Range.equalsRange(e,n))&&(o.push(e),n=e);if(!i.selectLeadingAndTrailingWhitespace)return o;let r=[o[0]];for(let t=1;t<o.length;t++){const n=o[t-1],i=o[t];if(i.startLineNumber!==n.startLineNumber||i.endLineNumber!==n.endLineNumber){const t=new(0,a.Range)(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineLastNonWhitespaceColumn(n.endLineNumber));t.containsRange(n)&&!t.equalsRange(n)&&i.containsRange(t)&&!i.equalsRange(t)&&r.push(t);const o=new(0,a.Range)(n.startLineNumber,1,n.endLineNumber,e.getLineMaxColumn(n.endLineNumber));o.containsRange(n)&&!o.equalsRange(t)&&i.containsRange(o)&&!i.equalsRange(o)&&r.push(o)}r.push(i)}return r}))}))}(0,o.registerEditorContribution)(y.ID,y),(0,o.registerEditorAction)(class extends _{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:d.localize("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"1_basic",title:d.localize({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}),(0,o.registerEditorAction)(class extends _{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:d.localize("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:c.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:h.MenuId.MenubarSelectionMenu,group:"1_basic",title:d.localize({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}),u.SelectionRangeRegistry.register("*",new(0,p.WordSelectionRangeProvider)),(0,o.registerModelCommand)("_executeSelectionRangeProvider",(function(e,...t){const[n]=t;return C(e,n,{selectLeadingAndTrailingWhitespace:!0},i.CancellationToken.None)}))})),r.register("9DrlS",(function(t,n){e(t.exports,"WordSelectionRangeProvider",(function(){return s}));var i=r("dSV0M"),o=r("78mNz");class s{provideSelectionRanges(e,t){const n=[];for(const i of t){const t=[];n.push(t),this._addInWordRanges(t,e,i),this._addWordRanges(t,e,i),this._addWhitespaceLine(t,e,i),t.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const r=t.getWordAtPosition(n);if(!r)return;let{word:s,startColumn:a}=r,l=n.column-a,c=l,u=l,d=0;for(;c>=0;c--){let e=s.charCodeAt(c);if(c!==l&&(95===e||45===e))break;if((0,o.isLowerAsciiLetter)(e)&&(0,o.isUpperAsciiLetter)(d))break;d=e}for(c+=1;u<s.length;u++){let e=s.charCodeAt(u);if((0,o.isUpperAsciiLetter)(e)&&(0,o.isLowerAsciiLetter)(d))break;if(95===e||45===e)break;d=e}c<u&&e.push({range:new(0,i.Range)(n.lineNumber,a+c,n.lineNumber,a+u)})}_addWordRanges(e,t,n){const o=t.getWordAtPosition(n);o&&e.push({range:new(0,i.Range)(n.lineNumber,o.startColumn,n.lineNumber,o.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&0===t.getLineFirstNonWhitespaceColumn(n.lineNumber)&&0===t.getLineLastNonWhitespaceColumn(n.lineNumber)&&e.push({range:new(0,i.Range)(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}})),r.register("eVEsg",(function(e,t){var n=r("9LBxC"),i=r("eh64S"),o=r("ie89j");class s extends i.EditorAction{run(e,t){if(!t.hasModel())return;const n=t.getModel();n.resetTokenization();const i=new(0,o.StopWatch)(!0);n.forceTokenization(n.getLineCount()),i.stop(),console.log(`tokenization took ${i.elapsed()}`)}constructor(){super({id:"editor.action.forceRetokenize",label:n.localize("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}}(0,i.registerEditorAction)(s)})),r.register("LeGfn",(function(t,n){e(t.exports,"ToggleTabFocusModeAction",(function(){return l}));var i=r("9LBxC"),o=r("4waad"),s=r("eh64S"),a=r("OgMYC");class l extends s.EditorAction{run(e,t){const n=!a.TabFocus.getTabFocusMode();a.TabFocus.setTabFocusMode(n),n?(0,o.alert)(i.localize("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,o.alert)(i.localize("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}constructor(){super({id:l.ID,label:i.localize({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}}l.ID="editor.action.toggleTabFocusMode",(0,s.registerEditorAction)(l)})),r.register("9Vgbh",(function(e,t){var n=r("9LBxC"),i=r("iNF8q"),o=r("eh64S"),s=r("7yAvG"),a=r("eqxjR"),l=r("d8krI"),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=function(e,t){return function(n,i){t(n,i,e)}},d=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};const h="ignoreUnusualLineTerminators";let p=class extends i.Disposable{_checkForUnusualLineTerminators(){return d(this,void 0,void 0,(function*(){if("off"===this._config)return;if(!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators())return;if(!0===function(e,t){return e.getModelProperty(t.uri,h)}(this._codeEditorService,e))return;if(this._editor.getOption(79))return;if("auto"===this._config)return void e.removeUnusualLineTerminators(this._editor.getSelections());(yield this._dialogService.confirm({title:n.localize("unusualLineTerminators.title","Unusual Line Terminators"),message:n.localize("unusualLineTerminators.message","Detected unusual line terminators"),detail:n.localize("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,l.basename)(e.uri)),primaryButton:n.localize("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:n.localize("unusualLineTerminators.ignore","Ignore")})).confirmed?e.removeUnusualLineTerminators(this._editor.getSelections()):function(e,t,n){e.setModelProperty(t.uri,h,n)}(this._codeEditorService,e,!0)}))}constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(112),this._register(this._editor.onDidChangeConfiguration((e=>{e.hasChanged(112)&&(this._config=this._editor.getOption(112),this._checkForUnusualLineTerminators())}))),this._register(this._editor.onDidChangeModel((()=>{this._checkForUnusualLineTerminators()}))),this._register(this._editor.onDidChangeModelContent((e=>{e.isUndoing||this._checkForUnusualLineTerminators()})))}};p.ID="editor.contrib.unusualLineTerminatorsDetector",p=c([u(1,a.IDialogService),u(2,s.ICodeEditorService)],p),(0,o.registerEditorContribution)(p.ID,p)})),r.register("ldMhO",(function(e,t){var n=r("6wKox"),i=r("iNF8q"),o=r("eh64S"),s=r("aZciE"),a=r("3EdBC"),l=r("6jlj6"),c=r("JzRxO"),u=r("3ufSI"),d=r("7twsi"),h=r("fR8AM"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};let f=class extends i.Disposable{_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e)return void this._outstandingRequests.splice(t,1)}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.hasCompleteSemanticTokens())return;if(!(0,d.isSemanticColoringEnabled)(e,this._themeService,this._configurationService))return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const t=(0,h.getDocumentRangeSemanticTokensProvider)(e);if(!t)return void(e.hasSomeSemanticTokens()&&e.setSemanticTokens(null,!1));const n=this._modelService.getSemanticTokensProviderStyling(t),i=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(i.map((i=>this._requestRange(e,i,t,n))))}_requestRange(e,t,i,o){const r=e.getVersionId(),s=(0,n.createCancelablePromise)((n=>Promise.resolve(i.provideDocumentRangeSemanticTokens(e,t,n))));return s.then((n=>{n&&!e.isDisposed()&&e.getVersionId()===r&&e.setPartialSemanticTokens(t,(0,l.toMultilineTokens2)(n,o,e.getLanguageIdentifier()))})).then((()=>this._removeOutstandingRequest(s)),(()=>this._removeOutstandingRequest(s))),s}constructor(e,t,i,o){super(),this._modelService=t,this._themeService=i,this._configurationService=o,this._editor=e,this._tokenizeViewport=new(0,n.RunOnceScheduler)((()=>this._tokenizeViewportNow()),100),this._outstandingRequests=[],this._register(this._editor.onDidScrollChange((()=>{this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModel((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._editor.onDidChangeModelContent((e=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(s.DocumentRangeSemanticTokensProviderRegistry.onDidChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()}))),this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration(d.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),this._tokenizeViewport.schedule())}))),this._register(this._themeService.onDidColorThemeChange((()=>{this._cancelAll(),this._tokenizeViewport.schedule()})))}};f.ID="editor.contrib.viewportSemanticTokens",f=p([g(1,a.IModelService),g(2,c.IThemeService),g(3,u.IConfigurationService)],f),(0,o.registerEditorContribution)(f.ID,f)})),r.register("eWcvG",(function(e,t){var n=r("9LBxC"),i=r("cCPZ6"),o=r("6wKox"),s=r("dq3o1"),a=r("2zf51"),l=r("iNF8q"),c=r("eh64S"),u=r("dSV0M"),d=r("igipX"),h=r("77LTJ"),p=r("cVvMG"),g=r("aZciE"),f=r("1N08n"),m=r("5h6AG"),v=r("JzRxO"),b=r("4waad"),y=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},_=function(e,t){return function(n,i){t(n,i,e)}};const C=(0,m.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hc:null},n.localize("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),x=(0,m.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hc:null},n.localize("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),S=(0,m.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hc:m.activeContrastBorder},n.localize("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),w=(0,m.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hc:m.activeContrastBorder},n.localize("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),k=(0,m.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hc:"#A0A0A0CC"},n.localize("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),E=(0,m.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hc:"#C0A0C0CC"},n.localize("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),D=new(0,f.RawContextKey)("hasWordHighlights",!1);function I(e,t,n){const r=g.DocumentHighlightProviderRegistry.ordered(e);return(0,o.first)(r.map((i=>()=>Promise.resolve(i.provideDocumentHighlights(e,t,n)).then(void 0,a.onUnexpectedExternalError))),i.isNonEmptyArray)}class A{_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new(0,u.Range)(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const i=t.startLineNumber,o=t.startColumn,r=t.endColumn,s=this._getCurrentWordRange(e,t);let a=Boolean(this._wordRange&&this._wordRange.equalsRange(s));for(let t=0,s=n.length;!a&&t<s;t++){let s=e.getDecorationRange(n[t]);s&&s.startLineNumber===i&&s.startColumn<=o&&s.endColumn>=r&&(a=!0)}return a}cancel(){this.result.cancel()}constructor(e,t,n){this._wordRange=this._getCurrentWordRange(e,t),this.result=(0,o.createCancelablePromise)((i=>this._compute(e,t,n,i)))}}class R extends A{_compute(e,t,n,i){return I(e,t.getPosition(),i).then((e=>e||[]))}}class L extends A{_compute(e,t,n,i){return(0,o.timeout)(250,i).then((()=>{if(!t.isEmpty())return[];const i=e.getWordAtPosition(t.getPosition());if(!i||i.word.length>1e3)return[];return e.findMatches(i.word,!0,!1,!0,n,!1).map((e=>({range:e.range,kind:g.DocumentHighlightKind.Text})))}))}isValid(e,t,n){const i=t.isEmpty();return this._selectionIsEmpty===i&&super.isValid(e,t,n)}constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}}(0,c.registerModelAndPositionCommand)("_executeDocumentHighlights",((e,t)=>I(e,t,s.CancellationToken.None)));class M{hasDecorations(){return this._decorationIds.length>0}restore(){this.occurrencesHighlight&&this._run()}_getSortedHighlights(){return i.coalesce(this._decorationIds.map((e=>this.model.getDecorationRange(e))).sort(u.Range.compareRangesUsingStarts))}moveNext(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))+1)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const i=this._getWord();if(i){const o=this.editor.getModel().getLineContent(n.startLineNumber);(0,b.alert)(`${o}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){let e=this._getSortedHighlights(),t=(e.findIndex((e=>e.containsPosition(this.editor.getPosition())))-1+e.length)%e.length,n=e[t];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(n.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(n);const i=this._getWord();if(i){const o=this.editor.getModel().getLineContent(n.startLineNumber);(0,b.alert)(`${o}, ${t+1} of ${e.length} for '${i.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this._decorationIds.length>0&&(this._decorationIds=this.editor.deltaDecorations(this._decorationIds,[]),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),null!==this.workerRequest&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){this.occurrencesHighlight&&3===e.reason?this._run():this._stopAll()}_getWord(){let e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}_run(){let e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber)return void this._stopAll();let t=e.startColumn,n=e.endColumn;const i=this._getWord();if(!i||i.startColumn>t||i.endColumn<n)return void this._stopAll();const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this._decorationIds);if(this.lastCursorPositionChangeTime=(new Date).getTime(),o)this.workerRequestCompleted&&-1!==this.renderDecorationsTimer&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();let e=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=(r=this.model,s=this.editor.getSelection(),l=this.editor.getOption(115),g.DocumentHighlightProviderRegistry.has(r)?new R(r,s,l):new L(r,s,l)),this.workerRequest.result.then((t=>{e===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=t||[],this._beginRenderDecorations())}),a.onUnexpectedError)}var r,s,l}_beginRenderDecorations(){let e=(new Date).getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout((()=>{this.renderDecorations()}),t-e)}renderDecorations(){this.renderDecorationsTimer=-1;let e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:M._getDecorationOptions(t.kind)});this._decorationIds=this.editor.deltaDecorations(this._decorationIds,e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===g.DocumentHighlightKind.Write?this._WRITE_OPTIONS:e===g.DocumentHighlightKind.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}constructor(e,t){this.toUnhook=new(0,l.DisposableStore),this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this._hasWordHighlights=D.bindTo(t),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(70),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition((e=>{this._ignorePositionChangeEvent||this.occurrencesHighlight&&this._onPositionChanged(e)}))),this.toUnhook.add(e.onDidChangeModelContent((e=>{this._stopAll()}))),this.toUnhook.add(e.onDidChangeConfiguration((e=>{let t=this.editor.getOption(70);this.occurrencesHighlight!==t&&(this.occurrencesHighlight=t,this._stopAll())}))),this._decorationIds=[],this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}}M._WRITE_OPTIONS=p.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,v.themeColorFromId)(E),position:h.OverviewRulerLane.Center}}),M._TEXT_OPTIONS=p.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,v.themeColorFromId)(m.overviewRulerSelectionHighlightForeground),position:h.OverviewRulerLane.Center}}),M._REGULAR_OPTIONS=p.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,v.themeColorFromId)(k),position:h.OverviewRulerLane.Center}});let T=class e extends l.Disposable{static get(t){return t.getContribution(e.ID)}saveViewState(){return!(!this.wordHighlighter||!this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}constructor(e,t){super(),this.wordHighlighter=null;const n=()=>{e.hasModel()&&(this.wordHighlighter=new M(e,t))};this._register(e.onDidChangeModel((e=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),n()}))),n()}};T.ID="editor.contrib.wordHighlighter",T=y([_(1,f.IContextKeyService)],T);class N extends c.EditorAction{run(e,t){const n=T.get(t);n&&(this._isNext?n.moveNext():n.moveBack())}constructor(e,t){super(t),this._isNext=e}}class P extends c.EditorAction{run(e,t,n){const i=T.get(t);i&&i.restoreViewState(!0)}constructor(){super({id:"editor.action.wordHighlight.trigger",label:n.localize("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:D.toNegated(),kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}}(0,c.registerEditorContribution)(T.ID,T),(0,c.registerEditorAction)(class extends N{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:n.localize("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:D,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}),(0,c.registerEditorAction)(class extends N{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:n.localize("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:D,kbOpts:{kbExpr:d.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}),(0,c.registerEditorAction)(P),(0,v.registerThemingParticipant)(((e,t)=>{const n=e.getColor(m.editorSelectionHighlight);n&&(t.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${n}; }`),t.addRule(`.monaco-editor .selectionHighlight { background-color: ${n.transparent(.5)}; }`));const i=e.getColor(C);i&&t.addRule(`.monaco-editor .wordHighlight { background-color: ${i}; }`);const o=e.getColor(x);o&&t.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${o}; }`);const r=e.getColor(m.editorSelectionHighlightBorder);r&&t.addRule(`.monaco-editor .selectionHighlight { border: 1px ${"hc"===e.type?"dotted":"solid"} ${r}; box-sizing: border-box; }`);const s=e.getColor(S);s&&t.addRule(`.monaco-editor .wordHighlight { border: 1px ${"hc"===e.type?"dashed":"solid"} ${s}; box-sizing: border-box; }`);const a=e.getColor(w);a&&t.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${"hc"===e.type?"dashed":"solid"} ${a}; box-sizing: border-box; }`)}))})),r.register("kkFBi",(function(t,n){e(t.exports,"MoveWordCommand",(function(){return y})),e(t.exports,"DeleteWordCommand",(function(){return x}));var i=r("9LBxC"),o=r("eh64S"),s=r("jCddX"),a=r("loy6J"),l=r("9ueM3"),c=r("2BIqv"),u=r("aGBCV"),d=r("dSV0M"),h=r("e8gAb"),p=r("igipX"),g=r("9WkiO"),f=r("1N08n"),m=r("k21TA"),v=r("iD7e1"),b=r("3VhJz");class y extends o.EditorCommand{runEditorCommand(e,t,n){if(!t.hasModel())return;const i=(0,c.getMapForWordSeparators)(t.getOption(115)),o=t.getModel(),r=t.getSelections().map((e=>{const t=new(0,u.Position)(e.positionLineNumber,e.positionColumn),n=this._move(i,o,t,this._wordNavigationType);return this._moveTo(e,n,this._inSelectionMode)}));if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,r.map((e=>a.CursorState.fromModelSelection(e)))),1===r.length){const e=new(0,u.Position)(r[0].positionLineNumber,r[0].positionColumn);t.revealPosition(e,0)}}_moveTo(e,t,n){return n?new(0,h.Selection)(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new(0,h.Selection)(t.lineNumber,t.column,t.lineNumber,t.column)}constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}}class _ extends y{_move(e,t,n,i){return l.WordOperations.moveWordLeft(e,t,n,i)}}class C extends y{_move(e,t,n,i){return l.WordOperations.moveWordRight(e,t,n,i)}}class x extends o.EditorCommand{runEditorCommand(e,t,n){if(!t.hasModel())return;const i=(0,c.getMapForWordSeparators)(t.getOption(115)),o=t.getModel(),r=t.getSelections(),a=t.getOption(5),l=t.getOption(8),u=v.LanguageConfigurationRegistry.getAutoClosingPairs(o.getLanguageIdentifier().id),d=t._getViewModel(),h=r.map((e=>{const n=this._delete({wordSeparators:i,model:o,selection:e,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:a,autoClosingQuotes:l,autoClosingPairs:u,autoClosedCharacters:d.getCursorAutoClosedCharacters()},this._wordNavigationType);return new(0,s.ReplaceCommand)(n,"")}));t.pushUndoStop(),t.executeCommands(this.id,h),t.pushUndoStop()}constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}}class S extends x{_delete(e,t){let n=l.WordOperations.deleteWordLeft(e,t);return n||new(0,d.Range)(1,1,1,1)}}class w extends x{_delete(e,t){let n=l.WordOperations.deleteWordRight(e,t);if(n)return n;const i=e.model.getLineCount(),o=e.model.getLineMaxColumn(i);return new(0,d.Range)(i,o,i,o)}}class k extends o.EditorAction{run(e,t,n){if(!t.hasModel())return;const i=(0,c.getMapForWordSeparators)(t.getOption(115)),o=t.getModel(),r=t.getSelections().map((e=>{const t=l.WordOperations.deleteInsideWord(i,o,e);return new(0,s.ReplaceCommand)(t,"")}));t.pushUndoStop(),t.executeCommands(this.id,r),t.pushUndoStop()}constructor(){super({id:"deleteInsideWord",precondition:p.EditorContextKeys.writable,label:i.localize("deleteInsideWord","Delete Word"),alias:"Delete Word"})}}(0,o.registerEditorCommand)(new class extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:f.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,null===(e=f.ContextKeyExpr.and(g.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}),(0,o.registerEditorCommand)(new class extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:f.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,null===(e=f.ContextKeyExpr.and(g.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:f.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,null===(e=f.ContextKeyExpr.and(g.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:f.ContextKeyExpr.and(p.EditorContextKeys.textInputFocus,null===(e=f.ContextKeyExpr.and(g.CONTEXT_ACCESSIBILITY_MODE_ENABLED,b.IsWindowsContext))||void 0===e?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}),(0,o.registerEditorCommand)(new class extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{_move(e,t,n,i){return super._move((0,c.getMapForWordSeparators)(m.EditorOptions.wordSeparators.defaultValue),t,n,i)}constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends _{_move(e,t,n,i){return super._move((0,c.getMapForWordSeparators)(m.EditorOptions.wordSeparators.defaultValue),t,n,i)}constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends C{_move(e,t,n,i){return super._move((0,c.getMapForWordSeparators)(m.EditorOptions.wordSeparators.defaultValue),t,n,i)}constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends C{_move(e,t,n,i){return super._move((0,c.getMapForWordSeparators)(m.EditorOptions.wordSeparators.defaultValue),t,n,i)}constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}}),(0,o.registerEditorCommand)(new class extends S{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:p.EditorContextKeys.writable})}}),(0,o.registerEditorCommand)(new class extends S{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:p.EditorContextKeys.writable})}}),(0,o.registerEditorCommand)(new class extends S{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:p.EditorContextKeys.writable,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}),(0,o.registerEditorCommand)(new class extends w{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:p.EditorContextKeys.writable})}}),(0,o.registerEditorCommand)(new class extends w{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:p.EditorContextKeys.writable})}}),(0,o.registerEditorCommand)(new class extends w{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:p.EditorContextKeys.writable,kbOpts:{kbExpr:p.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}),(0,o.registerEditorAction)(k)})),r.register("6m2mr",(function(e,t){var n=r("eh64S"),i=r("9ueM3"),o=r("dSV0M"),s=r("igipX"),a=r("kkFBi"),l=r("7YObE");class c extends a.DeleteWordCommand{_delete(e,t){let n=i.WordPartOperations.deleteWordPartLeft(e);return n||new(0,o.Range)(1,1,1,1)}constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}}class u extends a.DeleteWordCommand{_delete(e,t){let n=i.WordPartOperations.deleteWordPartRight(e);if(n)return n;const r=e.model.getLineCount(),s=e.model.getLineMaxColumn(r);return new(0,o.Range)(r,s,r,s)}constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}}class d extends a.MoveWordCommand{_move(e,t,n,o){return i.WordPartOperations.moveWordPartLeft(e,t,n)}}l.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");l.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class h extends a.MoveWordCommand{_move(e,t,n,o){return i.WordPartOperations.moveWordPartRight(e,t,n)}}(0,n.registerEditorCommand)(new c),(0,n.registerEditorCommand)(new u),(0,n.registerEditorCommand)(new class extends d{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}),(0,n.registerEditorCommand)(new class extends d{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}),(0,n.registerEditorCommand)(new class extends h{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}),(0,n.registerEditorCommand)(new class extends h{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}})})),r.register("2srDF",(function(e,t){var n=r("2vQKJ"),i=r("464Iq"),o=r("1lywn"),s=r("4waad"),a=r("dFrQ5"),l=r("iNF8q"),c=r("cexwY"),u=r("78mNz"),d=r("65vvd"),h=r("eh64S"),p=r("igipX"),g=r("LeGfn"),f=r("1N08n"),m=r("blTDv"),v=r("dEnIO"),b=r("1n4fF"),y=r("5h6AG"),_=r("JzRxO"),C=r("eEW0l"),x=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},S=function(e,t){return function(n,i){t(n,i,e)}};const w=new(0,f.RawContextKey)("accessibilityHelpWidgetVisible",!1);let k=class e extends l.Disposable{static get(t){return t.getContribution(e.ID)}show(){this._widget.show()}hide(){this._widget.hide()}constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(E,this._editor))}};k.ID="editor.contrib.accessibilityHelpController",k=x([S(1,m.IInstantiationService)],k);let E=class e extends a.Widget{dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return e.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){let i=this._keybindingService.lookupKeybinding(e);return i?u.format(t,i.getAriaLabel()):u.format(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const e=this._editor.getModel();e&&t.forEach((t=>{n+=e.getValueLengthInRange(t)}))}let i=function(e,t){return e&&0!==e.length?1===e.length?t?u.format(C.AccessibilityHelpNLS.singleSelectionRange,e[0].positionLineNumber,e[0].positionColumn,t):u.format(C.AccessibilityHelpNLS.singleSelection,e[0].positionLineNumber,e[0].positionColumn):t?u.format(C.AccessibilityHelpNLS.multiSelectionRange,e.length,t):e.length>0?u.format(C.AccessibilityHelpNLS.multiSelection,e.length):"":C.AccessibilityHelpNLS.noSelection}(t,n);e.get(52)?e.get(79)?i+=C.AccessibilityHelpNLS.readonlyDiffEditor:i+=C.AccessibilityHelpNLS.editableDiffEditor:e.get(79)?i+=C.AccessibilityHelpNLS.readonlyEditor:i+=C.AccessibilityHelpNLS.editableEditor;const r=c.isMacintosh?C.AccessibilityHelpNLS.changeConfigToOnMac:C.AccessibilityHelpNLS.changeConfigToOnWinLinux;switch(e.get(2)){case 0:i+="\n\n - "+r;break;case 2:i+="\n\n - "+C.AccessibilityHelpNLS.auto_on;break;case 1:i+="\n\n - "+C.AccessibilityHelpNLS.auto_off,i+=" "+r}e.get(128)?i+="\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,C.AccessibilityHelpNLS.tabFocusModeOnMsg,C.AccessibilityHelpNLS.tabFocusModeOnMsgNoKb):i+="\n\n - "+this._descriptionForCommand(g.ToggleTabFocusModeAction.ID,C.AccessibilityHelpNLS.tabFocusModeOffMsg,C.AccessibilityHelpNLS.tabFocusModeOffMsgNoKb);i+="\n\n - "+(c.isMacintosh?C.AccessibilityHelpNLS.openDocMac:C.AccessibilityHelpNLS.openDocWinLinux),i+="\n\n"+C.AccessibilityHelpNLS.outroMsg,this._contentDomNode.domNode.appendChild((0,o.renderFormattedText)(i)),this._contentDomNode.domNode.setAttribute("aria-label",i)}hide(){this._isVisible&&(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,n.clearNode(this._contentDomNode.domNode),this._editor.focus())}_layout(){let t=this._editor.getLayoutInfo(),n=Math.max(5,Math.min(e.WIDTH,t.width-40)),i=Math.max(5,Math.min(e.HEIGHT,t.height-40));this._domNode.setWidth(n),this._domNode.setHeight(i);let o=Math.round((t.height-i)/2);this._domNode.setTop(o);let r=Math.round((t.width-n)/2);this._domNode.setLeft(r)}constructor(e,t,o,r){super(),this._contextKeyService=t,this._keybindingService=o,this._openerService=r,this._editor=e,this._isVisibleKey=w.bindTo(this._contextKeyService),this._domNode=(0,i.createFastDomNode)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,i.createFastDomNode)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange((()=>{this._isVisible&&this._layout()}))),this._register(n.addStandardDisposableListener(this._contentDomNode.domNode,"keydown",(e=>{if(this._isVisible&&(e.equals(2083)&&((0,s.alert)(C.AccessibilityHelpNLS.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),n.clearNode(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),e.preventDefault(),e.stopPropagation()),e.equals(2086))){(0,s.alert)(C.AccessibilityHelpNLS.openingDocs);let t=this._editor.getRawOptions().accessibilityHelpUrl;void 0===t&&(t="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(d.URI.parse(t)),e.preventDefault(),e.stopPropagation()}}))),this.onblur(this._contentDomNode.domNode,(()=>{this.hide()})),this._editor.addOverlayWidget(this)}};E.ID="editor.contrib.accessibilityHelpWidget",E.WIDTH=500,E.HEIGHT=300,E=x([S(1,f.IContextKeyService),S(2,v.IKeybindingService),S(3,b.IOpenerService)],E);class D extends h.EditorAction{run(e,t){let n=k.get(t);n&&n.show()}constructor(){super({id:"editor.action.showAccessibilityHelp",label:C.AccessibilityHelpNLS.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}}(0,h.registerEditorContribution)(k.ID,k),(0,h.registerEditorAction)(D);const I=h.EditorCommand.bindToContribution(k.get);(0,h.registerEditorCommand)(new I({id:"closeAccessibilityHelp",precondition:w,handler:e=>e.hide(),kbOpts:{weight:200,kbExpr:p.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,_.registerThemingParticipant)(((e,t)=>{const n=e.getColor(y.editorWidgetBackground);n&&t.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${n}; }`);const i=e.getColor(y.editorWidgetForeground);i&&t.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${i}; }`);const o=e.getColor(y.widgetShadow);o&&t.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${o}; }`);const r=e.getColor(y.contrastBorder);r&&t.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${r}; }`)}))})),r.register("jV8bm",(function(e,t){var n=r("2vQKJ"),i=r("iNF8q"),o=r("eh64S"),s=r("cexwY");class a extends i.Disposable{update(){const e=!this.editor.getOption(79);!this.widget&&e?this.widget=new l(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}constructor(e){super(),this.editor=e,this.widget=null,s.isIOS&&(this._register(e.onDidChangeConfiguration((()=>this.update()))),this.update())}}a.ID="editor.contrib.iPadShowKeyboard";class l extends i.Disposable{dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return l.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(n.addDisposableListener(this._domNode,"touchstart",(e=>{this.editor.focus()}))),this._register(n.addDisposableListener(this._domNode,"focus",(e=>{this.editor.focus()}))),this.editor.addOverlayWidget(this)}}l.ID="editor.contrib.ShowKeyboardWidget",(0,o.registerEditorContribution)(a.ID,a)})),r.register("8mxtt",(function(e,t){var n=r("2vQKJ"),i=r("2Jvmn"),o=r("iNF8q"),s=r("eh64S"),a=r("aZciE"),l=r("crfkF"),c=r("ezXom"),u=r("gorTE"),d=r("5h6AG"),h=r("JzRxO"),p=r("eEW0l"),g=r("g1JV6"),f=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},m=function(e,t){return function(n,i){t(n,i,e)}};let v=class e extends o.Disposable{static get(t){return t.getContribution(e.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new y(this._editor,this._modeService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}constructor(e,t,n){super(),this._editor=e,this._modeService=n,this._widget=null,this._register(this._editor.onDidChangeModel((e=>this.stop()))),this._register(this._editor.onDidChangeModelLanguage((e=>this.stop()))),this._register(a.TokenizationRegistry.onDidChange((e=>this.stop()))),this._register(this._editor.onKeyUp((e=>9===e.keyCode&&this.stop())))}};v.ID="editor.contrib.inspectTokens",v=f([m(1,u.IStandaloneThemeService),m(2,c.IModeService)],v);class b extends s.EditorAction{run(e,t){let n=v.get(t);n&&n.launch()}constructor(){super({id:"editor.action.inspectTokens",label:p.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}}class y extends o.Disposable{dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return y._ID}_compute(e){let t=this._getTokensAtLine(e.lineNumber),o=0;for(let n=t.tokens1.length-1;n>=0;n--){let i=t.tokens1[n];if(e.column-1>=i.offset){o=n;break}}let r=0;for(let n=t.tokens2.length>>>1;n>=0;n--)if(e.column-1>=t.tokens2[n<<1]){r=n;break}let s=this._model.getLineContent(e.lineNumber),a="";if(o<t.tokens1.length){let e=t.tokens1[o].offset,n=o+1<t.tokens1.length?t.tokens1[o+1].offset:s.length;a=s.substring(e,n)}(0,n.reset)(this._domNode,(0,n.$)("h2.tm-token",void 0,function(e){let t="";for(let n=0,i=e.length;n<i;n++){let i=e.charCodeAt(n);switch(i){case 9:t+="";break;case 32:t+="";break;default:t+=String.fromCharCode(i)}}return t}(a),(0,n.$)("span.tm-token-length",void 0,`${a.length} ${1===a.length?"char":"chars"}`))),(0,n.append)(this._domNode,(0,n.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const l=1+(r<<1)<t.tokens2.length?this._decodeMetadata(t.tokens2[1+(r<<1)]):null;(0,n.append)(this._domNode,(0,n.$)("table.tm-metadata-table",void 0,(0,n.$)("tbody",void 0,(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"language"),(0,n.$)("td.tm-metadata-value",void 0,`${l?l.languageIdentifier.language:"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"token type"),(0,n.$)("td.tm-metadata-value",void 0,`${l?this._tokenTypeToString(l.tokenType):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"font style"),(0,n.$)("td.tm-metadata-value",void 0,`${l?this._fontStyleToString(l.fontStyle):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"foreground"),(0,n.$)("td.tm-metadata-value",void 0,`${l?i.Color.Format.CSS.formatHex(l.foreground):"-?-"}`)),(0,n.$)("tr",void 0,(0,n.$)("td.tm-metadata-key",void 0,"background"),(0,n.$)("td.tm-metadata-value",void 0,`${l?i.Color.Format.CSS.formatHex(l.background):"-?-"}`))))),(0,n.append)(this._domNode,(0,n.$)("hr.tokens-inspect-separator")),o<t.tokens1.length&&(0,n.append)(this._domNode,(0,n.$)("span.tm-token-type",void 0,t.tokens1[o].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){let t=a.TokenizationRegistry.getColorMap(),n=a.TokenMetadata.getLanguageId(e),i=a.TokenMetadata.getTokenType(e),o=a.TokenMetadata.getFontStyle(e),r=a.TokenMetadata.getForeground(e),s=a.TokenMetadata.getBackground(e);return{languageIdentifier:this._modeService.getLanguageIdentifier(n),tokenType:i,fontStyle:o,foreground:t[r],background:t[s]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 4:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return 1&e&&(t+="italic "),2&e&&(t+="bold "),4&e&&(t+="underline "),0===t.length&&(t="---"),t}_getTokensAtLine(e){let t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t,0),i=this._tokenizationSupport.tokenize2(this._model.getLineContent(e),!0,t,0);return{startState:t,tokens1:n.tokens,tokens2:i.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++){t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t,0).endState}return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}constructor(e,t){var n;super(),this.allowEditorOverflow=!0,this._editor=e,this._modeService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=(n=this._model.getLanguageIdentifier(),a.TokenizationRegistry.get(n.language)||{getInitialState:()=>l.NULL_STATE,tokenize:(e,t,i,o)=>(0,l.nullTokenize)(n.language,e,i,o),tokenize2:(e,t,i,o)=>(0,l.nullTokenize2)(n.id,e,i,o)}),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition((e=>this._compute(this._editor.getPosition())))),this._editor.addContentWidget(this)}}y._ID="editor.contrib.inspectTokensWidget",(0,s.registerEditorContribution)(v.ID,v),(0,s.registerEditorAction)(b),(0,h.registerThemingParticipant)(((e,t)=>{const n=e.getColor(d.editorHoverBorder);if(n){let i=e.type===g.ColorScheme.HIGH_CONTRAST?2:1;t.addRule(`.monaco-editor .tokens-inspect-widget { border: ${i}px solid ${n}; }`),t.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${n}; }`)}const i=e.getColor(d.editorHoverBackground);i&&t.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${i}; }`);const o=e.getColor(d.editorHoverForeground);o&&t.addRule(`.monaco-editor .tokens-inspect-widget { color: ${o}; }`)}))})),r.register("41BV7",(function(e,t){var n=r("5zKqh"),i=r("hN5p6"),o=r("eEW0l"),s=r("3JxwA");n.Registry.as(i.Extensions.Quickaccess).registerQuickAccessProvider({ctor:s.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:o.QuickHelpNLS.helpQuickAccessActionLabel,needsEditor:!0}]})})),r.register("3JxwA",(function(t,n){e(t.exports,"HelpQuickAccessProvider",(function(){return d}),(function(e){return d=e}));var i=r("dBC60"),o=r("hN5p6"),s=r("5zKqh"),a=r("9LBxC"),l=r("iNF8q"),c=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},u=function(e,t){return function(n,i){t(n,i,e)}};let d=class e{provide(t){const n=new(0,l.DisposableStore);n.add(t.onDidAccept((()=>{const[e]=t.selectedItems;e&&this.quickInputService.quickAccess.show(e.prefix,{preserveValue:!0})}))),n.add(t.onDidChangeValue((t=>{const n=this.registry.getQuickAccessProvider(t.substr(e.PREFIX.length));n&&n.prefix&&n.prefix!==e.PREFIX&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})));const{editorProviders:i,globalProviders:o}=this.getQuickAccessProviders();return t.items=0===i.length||0===o.length?[...0===i.length?o:i]:[{label:(0,a.localize)("globalCommands","global commands"),type:"separator"},...o,{label:(0,a.localize)("editorCommands","editor commands"),type:"separator"},...i],n}getQuickAccessProviders(){const t=[],n=[];for(const i of this.registry.getQuickAccessProviders().sort(((e,t)=>e.prefix.localeCompare(t.prefix))))if(i.prefix!==e.PREFIX)for(const e of i.helpEntries){const o=e.prefix||i.prefix,r=o||"";(e.needsEditor?n:t).push({prefix:o,label:r,ariaLabel:(0,a.localize)("helpPickAriaLabel","{0}, {1}",r,e.description),description:e.description})}return{editorProviders:n,globalProviders:t}}constructor(e){this.quickInputService=e,this.registry=s.Registry.as(o.Extensions.Quickaccess)}};d.PREFIX="?",d=c([u(0,i.IQuickInputService)],d)})),r.register("eolzO",(function(e,t){var n=r("5Br4u"),i=r("5zKqh"),o=r("hN5p6"),s=r("7yAvG"),a=r("6cqQ7"),l=r("eEW0l"),c=r("4zvzH"),u=r("eh64S"),d=r("igipX"),h=r("dBC60"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};let f=class extends n.AbstractGotoLineQuickAccessProvider{get activeTextEditorControl(){return(0,a.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=c.Event.None}};f=p([g(0,s.ICodeEditorService)],f),i.Registry.as(o.Extensions.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:f.PREFIX,helpEntries:[{description:l.GoToLineNLS.gotoLineActionLabel,needsEditor:!0}]});class m extends u.EditorAction{run(e){e.get(h.IQuickInputService).quickAccess.show(f.PREFIX)}constructor(){super({id:"editor.action.gotoLine",label:l.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}}(0,u.registerEditorAction)(m)})),r.register("5Br4u",(function(t,n){e(t.exports,"AbstractGotoLineQuickAccessProvider",(function(){return l}));var i=r("9LBxC"),o=r("iNF8q"),s=r("6CIyj"),a=r("7G0Yx");class l extends s.AbstractEditorNavigationQuickAccessProvider{provideWithoutTextEditor(e){const t=(0,i.localize)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,o.Disposable.None}provideWithTextEditor(e,t,n){const i=e.editor,r=new(0,o.DisposableStore);r.add(t.onDidAccept((n=>{const[o]=t.selectedItems;if(o){if(!this.isValidLineNumber(i,o.lineNumber))return;this.gotoLocation(e,{range:this.toRange(o.lineNumber,o.column),keyMods:t.keyMods,preserveFocus:n.inBackground}),n.inBackground||t.hide()}})));const s=()=>{const e=this.parsePosition(i,t.value.trim().substr(l.PREFIX.length)),n=this.getPickLabel(i,e.lineNumber,e.column);if(t.items=[{lineNumber:e.lineNumber,column:e.column,label:n}],t.ariaLabel=n,!this.isValidLineNumber(i,e.lineNumber))return void this.clearDecorations(i);const o=this.toRange(e.lineNumber,e.column);i.revealRangeInCenter(o,0),this.addDecorations(i,o)};s(),r.add(t.onDidChangeValue((()=>s())));const c=(0,a.getCodeEditor)(i);if(c){2===c.getOptions().get(58).renderType&&(c.updateOptions({lineNumbers:"on"}),r.add((0,o.toDisposable)((()=>c.updateOptions({lineNumbers:"relative"})))))}return r}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map((e=>parseInt(e,10))).filter((e=>!isNaN(e))),i=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:i+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?(0,i.localize)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):(0,i.localize)("gotoLineLabel","Go to line {0}.",t);const o=e.getPosition()||{lineNumber:1,column:1},r=this.lineCount(e);return r>1?(0,i.localize)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",o.lineNumber,o.column,r):(0,i.localize)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",o.lineNumber,o.column)}isValidLineNumber(e,t){return!(!t||"number"!=typeof t)&&(t>0&&t<=this.lineCount(e))}isValidColumn(e,t,n){if(!n||"number"!=typeof n)return!1;const i=this.getModel(e);if(!i)return!1;const o={lineNumber:t,column:n};return i.validatePosition(o).equals(o)}lineCount(e){var t,n;return null!==(n=null===(t=this.getModel(e))||void 0===t?void 0:t.getLineCount())&&void 0!==n?n:0}constructor(){super({canAcceptInBackground:!0})}}l.PREFIX=":"})),r.register("6CIyj",(function(t,n){e(t.exports,"AbstractEditorNavigationQuickAccessProvider",(function(){return d}));var i=r("77LTJ"),o=r("JzRxO"),s=r("kg7au"),a=r("iNF8q"),l=r("7G0Yx"),c=r("6cqQ7"),u=r("gFsox");class d{provide(e,t){var n;const i=new(0,a.DisposableStore);e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=i.add(new(0,a.MutableDisposable));return o.value=this.doProvide(e,t),i.add(this.onDidActiveTextEditorControlChange((()=>{o.value=void 0,o.value=this.doProvide(e,t)}))),i}doProvide(e,t){const n=new(0,a.DisposableStore),i=this.activeTextEditorControl;if(i&&this.canProvideWithTextEditor(i)){const o={editor:i},r=(0,l.getCodeEditor)(i);if(r){let e=(0,c.withNullAsUndefined)(i.saveViewState());n.add(r.onDidChangeCursorPosition((()=>{e=(0,c.withNullAsUndefined)(i.saveViewState())}))),o.restoreViewState=()=>{e&&i===this.activeTextEditorControl&&i.restoreViewState(e)},n.add((0,u.once)(t.onCancellationRequested)((()=>{var e;return null===(e=o.restoreViewState)||void 0===e?void 0:e.call(o)})))}n.add((0,a.toDisposable)((()=>this.clearDecorations(i)))),n.add(this.provideWithTextEditor(o,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,l.isDiffEditor)(e)?null===(t=e.getModel())||void 0===t?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations((e=>{const n=[];this.rangeHighlightDecorationId&&(n.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),n.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const r=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,o.themeColorFromId)(s.overviewRulerRangeHighlight),position:i.OverviewRulerLane.Full}}}],[a,l]=e.deltaDecorations(n,r);this.rangeHighlightDecorationId={rangeHighlightId:a,overviewRulerDecorationId:l}}))}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations((e=>{e.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])})),this.rangeHighlightDecorationId=void 0)}constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}}})),r.register("lsExB",(function(e,t){r("33v3z"),r("egq8l");var n=r("iQdO2"),i=r("5zKqh"),o=r("hN5p6"),s=r("7yAvG"),a=r("6cqQ7"),l=r("eEW0l"),c=r("4zvzH"),u=r("eh64S"),d=r("igipX"),h=r("dBC60"),p=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},g=function(e,t){return function(n,i){t(n,i,e)}};let f=class extends n.AbstractGotoSymbolQuickAccessProvider{get activeTextEditorControl(){return(0,a.withNullAsUndefined)(this.editorService.getFocusedCodeEditor())}constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=c.Event.None}};f=p([g(0,s.ICodeEditorService)],f),i.Registry.as(o.Extensions.Quickaccess).registerQuickAccessProvider({ctor:f,prefix:n.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:l.QuickOutlineNLS.quickOutlineActionLabel,prefix:n.AbstractGotoSymbolQuickAccessProvider.PREFIX,needsEditor:!0},{description:l.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:n.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY,needsEditor:!0}]});class m extends u.EditorAction{run(e){e.get(h.IQuickInputService).quickAccess.show(n.AbstractGotoSymbolQuickAccessProvider.PREFIX)}constructor(){super({id:"editor.action.quickOutline",label:l.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:d.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:d.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}}(0,u.registerEditorAction)(m)})),r.register("iQdO2",(function(t,n){e(t.exports,"AbstractGotoSymbolQuickAccessProvider",(function(){return f}),(function(e){return f=e}));var i=r("9LBxC"),o=r("dq3o1"),s=r("iNF8q"),a=r("dSV0M"),l=r("6CIyj"),c=r("aZciE"),u=r("9KzLP"),d=r("78mNz"),h=r("jYVhb"),p=r("evoAc"),g=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};class f extends l.AbstractEditorNavigationQuickAccessProvider{provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,i.localize)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),s.Disposable.None}provideWithTextEditor(e,t,n){const i=e.editor,o=this.getModel(i);return o?c.DocumentSymbolProviderRegistry.has(o)?this.doProvideWithEditorSymbols(e,o,t,n):this.doProvideWithoutEditorSymbols(e,o,t,n):s.Disposable.None}doProvideWithoutEditorSymbols(e,t,n,o){const r=new(0,s.DisposableStore);return this.provideLabelPick(n,(0,i.localize)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),(()=>{g(this,void 0,void 0,(function*(){(yield this.waitForLanguageSymbolRegistry(t,r))&&!o.isCancellationRequested&&r.add(this.doProvideWithEditorSymbols(e,t,n,o))}))})(),r}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return g(this,void 0,void 0,(function*(){if(c.DocumentSymbolProviderRegistry.has(e))return!0;let n;const i=new Promise((e=>n=e)),o=t.add(c.DocumentSymbolProviderRegistry.onDidChange((()=>{c.DocumentSymbolProviderRegistry.has(e)&&(o.dispose(),n(!0))})));return t.add((0,s.toDisposable)((()=>n(!1)))),i}))}doProvideWithEditorSymbols(e,t,n,r){const a=e.editor,l=new(0,s.DisposableStore);l.add(n.onDidAccept((t=>{const[i]=n.selectedItems;i&&i.range&&(this.gotoLocation(e,{range:i.range.selection,keyMods:n.keyMods,preserveFocus:t.inBackground}),t.inBackground||n.hide())}))),l.add(n.onDidTriggerItemButton((({item:t})=>{t&&t.range&&(this.gotoLocation(e,{range:t.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())})));const c=this.getDocumentSymbols(t,r);let u;const d=()=>g(this,void 0,void 0,(function*(){null==u||u.dispose(!0),n.busy=!1,u=new(0,o.CancellationTokenSource)(r),n.busy=!0;try{const e=(0,h.prepareQuery)(n.value.substr(f.PREFIX.length).trim()),t=yield this.doGetSymbolPicks(c,e,void 0,u.token);if(r.isCancellationRequested)return;t.length>0?n.items=t:e.original.length>0?this.provideLabelPick(n,(0,i.localize)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,i.localize)("noSymbolResults","No editor symbols"))}finally{r.isCancellationRequested||(n.busy=!1)}}));l.add(n.onDidChangeValue((()=>d()))),d();let p=!0;return l.add(n.onDidChangeActive((()=>{const[e]=n.activeItems;if(e&&e.range){if(p)return void(p=!1);a.revealRangeInCenter(e.range.selection,0),this.addDecorations(a,e.range.decoration)}}))),l}doGetSymbolPicks(e,t,n,o){return g(this,void 0,void 0,(function*(){const r=yield e;if(o.isCancellationRequested)return[];const s=0===t.original.indexOf(f.SCOPE_PREFIX),l=s?1:0;let u,g;t.values&&t.values.length>1?(u=(0,h.pieceToQuery)(t.values[0]),g=(0,h.pieceToQuery)(t.values.slice(1))):u=t;const b=[];for(let e=0;e<r.length;e++){const o=r[e],s=(0,d.trim)(o.name),f=`$(symbol-${c.SymbolKinds.toString(o.kind)||"property"}) ${s}`,m=f.length-s.length;let v,y,_,C,x=o.containerName;if((null==n?void 0:n.extraContainerLabel)&&(x=x?`${n.extraContainerLabel}  ${x}`:n.extraContainerLabel),t.original.length>l){let e=!1;if(u!==t&&([v,y]=(0,h.scoreFuzzy2)(f,Object.assign(Object.assign({},t),{values:void 0}),l,m),"number"==typeof v&&(e=!0)),"number"!=typeof v&&([v,y]=(0,h.scoreFuzzy2)(f,u,l,m),"number"!=typeof v))continue;if(!e&&g){if(x&&g.original.length>0&&([_,C]=(0,h.scoreFuzzy2)(x,g)),"number"!=typeof _)continue;"number"==typeof v&&(v+=_)}}const S=o.tags&&o.tags.indexOf(1)>=0;b.push({index:e,kind:o.kind,score:v,label:f,ariaLabel:s,description:x,highlights:S?void 0:{label:y,description:C},range:{selection:a.Range.collapseToStart(o.selectionRange),decoration:o.range},strikethrough:S,buttons:(()=>{var e,t;const n=(null===(e=this.options)||void 0===e?void 0:e.openSideBySideDirection)?null===(t=this.options)||void 0===t?void 0:t.openSideBySideDirection():void 0;if(n)return[{iconClass:"right"===n?p.Codicon.splitHorizontal.classNames:p.Codicon.splitVertical.classNames,tooltip:"right"===n?(0,i.localize)("openToSide","Open to the Side"):(0,i.localize)("openToBottom","Open to the Bottom")}]})()})}const y=b.sort(((e,t)=>s?this.compareByKindAndScore(e,t):this.compareByScore(e,t)));let _=[];if(s){let e,t,n=0;function i(){t&&"number"==typeof e&&n>0&&(t.label=(0,d.format)(v[e]||m,n))}for(const o of y)e!==o.kind?(i(),e=o.kind,n=1,t={type:"separator"},_.push(t)):n++,_.push(o);i()}else y.length>0&&(_=[{label:(0,i.localize)("symbols","symbols ({0})",b.length),type:"separator"},...y]);return _}))}compareByScore(e,t){if("number"!=typeof e.score&&"number"==typeof t.score)return 1;if("number"==typeof e.score&&"number"!=typeof t.score)return-1;if("number"==typeof e.score&&"number"==typeof t.score){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=v[e.kind]||m,i=v[t.kind]||m,o=n.localeCompare(i);return 0===o?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return g(this,void 0,void 0,(function*(){const n=yield u.OutlineModel.create(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()}))}constructor(e=Object.create(null)){super(e),this.options=e,this.options.canAcceptInBackground=!0}}f.PREFIX="@",f.SCOPE_PREFIX=":",f.PREFIX_BY_CATEGORY=`${f.PREFIX}${f.SCOPE_PREFIX}`;const m=(0,i.localize)("property","properties ({0})"),v={5:(0,i.localize)("method","methods ({0})"),11:(0,i.localize)("function","functions ({0})"),8:(0,i.localize)("_constructor","constructors ({0})"),12:(0,i.localize)("variable","variables ({0})"),4:(0,i.localize)("class","classes ({0})"),22:(0,i.localize)("struct","structs ({0})"),23:(0,i.localize)("event","events ({0})"),24:(0,i.localize)("operator","operators ({0})"),10:(0,i.localize)("interface","interfaces ({0})"),2:(0,i.localize)("namespace","namespaces ({0})"),3:(0,i.localize)("package","packages ({0})"),25:(0,i.localize)("typeParameter","type parameters ({0})"),1:(0,i.localize)("modules","modules ({0})"),6:(0,i.localize)("property","properties ({0})"),9:(0,i.localize)("enum","enumerations ({0})"),21:(0,i.localize)("enumMember","enumeration members ({0})"),14:(0,i.localize)("string","strings ({0})"),0:(0,i.localize)("file","files ({0})"),17:(0,i.localize)("array","arrays ({0})"),15:(0,i.localize)("number","numbers ({0})"),16:(0,i.localize)("boolean","booleans ({0})"),18:(0,i.localize)("object","objects ({0})"),19:(0,i.localize)("key","keys ({0})"),7:(0,i.localize)("field","fields ({0})"),13:(0,i.localize)("constant","constants ({0})")}})),r.register("jYVhb",(function(t,n){e(t.exports,"scoreFuzzy2",(function(){return c})),e(t.exports,"prepareQuery",(function(){return p})),e(t.exports,"pieceToQuery",(function(){return f}));var i=r("bZqqW"),o=r("cDzDG"),s=r("cexwY"),a=r("78mNz");const l=[void 0,[]];function c(e,t,n=0,i=0){const o=t;return o.values&&o.values.length>1?function(e,t,n,i){let o=0;const r=[];for(const s of t){const[t,a]=u(e,s,n,i);if("number"!=typeof t)return l;o+=t,r.push(...a)}return[o,d(r)]}(e,o.values,n,i):u(e,t,n,i)}function u(e,t,n,o){const r=(0,i.fuzzyScore)(t.original,t.originalLowercase,n,e,e.toLowerCase(),o,!0);return r?[r[0],(0,i.createMatches)(r)]:l}function d(e){const t=e.sort(((e,t)=>e.start-t.start)),n=[];let i;for(const e of t)i&&h(i,e)?(i.start=Math.min(i.start,e.start),i.end=Math.max(i.end,e.end)):(i=e,n.push(e));return n}function h(e,t){return!(e.end<t.start)&&!(t.end<e.start)}function p(e){"string"!=typeof e&&(e="");const t=e.toLowerCase(),{pathNormalized:n,normalized:i,normalizedLowercase:r}=g(e),s=n.indexOf(o.sep)>=0;let a;const l=e.split(" ");if(l.length>1)for(const e of l){const{pathNormalized:t,normalized:n,normalizedLowercase:i}=g(e);n&&(a||(a=[]),a.push({original:e,originalLowercase:e.toLowerCase(),pathNormalized:t,normalized:n,normalizedLowercase:i}))}return{original:e,originalLowercase:t,pathNormalized:n,normalized:i,normalizedLowercase:r,values:a,containsPathSeparator:s}}function g(e){let t;t=s.isWindows?e.replace(/\//g,o.sep):e.replace(/\\/g,o.sep);const n=(0,a.stripWildcards)(t).replace(/\s/g,"");return{pathNormalized:t,normalized:n,normalizedLowercase:n.toLowerCase()}}function f(e){return Array.isArray(e)?p(e.map((e=>e.original)).join(" ")):p(e.original)}})),r.register("874Co",(function(e,t){var n=r("5zKqh"),i=r("hN5p6"),o=r("eEW0l"),s=r("7yAvG"),a=r("44feK"),l=r("6cqQ7"),c=r("blTDv"),u=r("dEnIO"),d=r("7YObE"),h=r("d5Cac"),p=r("eqxjR"),g=r("eh64S"),f=r("igipX"),m=r("dBC60"),v=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},b=function(e,t){return function(n,i){t(n,i,e)}},y=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let _=class extends a.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){return(0,l.withNullAsUndefined)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return y(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}constructor(e,t,n,i,o,r){super({showAlias:!1},e,n,i,o,r),this.codeEditorService=t}};_=v([b(0,c.IInstantiationService),b(1,s.ICodeEditorService),b(2,u.IKeybindingService),b(3,d.ICommandService),b(4,h.ITelemetryService),b(5,p.IDialogService)],_),n.Registry.as(i.Extensions.Quickaccess).registerQuickAccessProvider({ctor:_,prefix:_.PREFIX,helpEntries:[{description:o.QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});class C extends g.EditorAction{run(e){e.get(m.IQuickInputService).quickAccess.show(_.PREFIX)}constructor(){super({id:"editor.action.quickCommand",label:o.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:f.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}}(0,g.registerEditorAction)(C)})),r.register("44feK",(function(t,n){e(t.exports,"AbstractEditorCommandsQuickAccessProvider",(function(){return s}));var i=r("1fEm8"),o=r("6vMUG");class s extends i.AbstractCommandsQuickAccessProvider{getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:(0,o.stripIcons)(n.label)||n.id});return t}constructor(e,t,n,i,o,r){super(e,t,n,i,o,r)}}})),r.register("1fEm8",(function(t,n){e(t.exports,"AbstractCommandsQuickAccessProvider",(function(){return S}),(function(e){return S=e}));var i=r("9LBxC"),o=r("lq9RP"),s=r("iNF8q"),a=r("bZqqW"),l=r("6cqQ7"),c=r("bngWv"),u=r("1mptJ"),d=r("3ufSI"),h=r("blTDv"),p=r("dEnIO"),g=r("7YObE"),f=r("d5Cac"),m=r("2zf51"),v=r("eqxjR"),b=r("jTBbw"),y=r("hCDqg"),_=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},C=function(e,t){return function(n,i){t(n,i,e)}},x=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};let S=class e extends o.PickerQuickAccessProvider{_getPicks(t,n,o){return x(this,void 0,void 0,(function*(){const r=yield this.getCommandPicks(n,o);if(o.isCancellationRequested)return[];const s=[];for(const n of r){const i=(0,l.withNullAsUndefined)(e.WORD_FILTER(t,n.label)),o=n.commandAlias?(0,l.withNullAsUndefined)(e.WORD_FILTER(t,n.commandAlias)):void 0;i||o?(n.highlights={label:i,detail:this.options.showAlias?o:void 0},s.push(n)):t===n.commandId&&s.push(n)}const a=new Map;for(const e of s){const t=a.get(e.label);t?(e.description=e.commandId,t.description=t.commandId):a.set(e.label,e)}s.sort(((e,t)=>{const n=this.commandsHistory.peek(e.commandId),i=this.commandsHistory.peek(t.commandId);return n&&i?n>i?-1:1:n?-1:i?1:e.label.localeCompare(t.label)}));const c=[];let u=!1;for(let e=0;e<s.length;e++){const t=s[e],n=this.keybindingService.lookupKeybinding(t.commandId),o=n?(0,i.localize)("commandPickAriaLabelWithKeybinding","{0}, {1}",t.label,n.getAriaLabel()):t.label;0===e&&this.commandsHistory.peek(t.commandId)&&(c.push({type:"separator",label:(0,i.localize)("recentlyUsed","recently used")}),u=!0),0!==e&&u&&!this.commandsHistory.peek(t.commandId)&&(c.push({type:"separator",label:(0,i.localize)("morecCommands","other commands")}),u=!1),c.push(Object.assign(Object.assign({},t),{ariaLabel:o,detail:this.options.showAlias&&t.commandAlias!==t.label?t.commandAlias:void 0,keybinding:n,accept:()=>x(this,void 0,void 0,(function*(){this.commandsHistory.push(t.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:t.commandId,from:"quick open"});try{yield this.commandService.executeCommand(t.commandId)}catch(e){(0,m.isPromiseCanceledError)(e)||this.dialogService.show(b.default.Error,(0,i.localize)("canNotRun","Command '{0}' resulted in an error ({1})",t.label,(0,y.toErrorMessage)(e)))}}))}))}return c}))}constructor(t,n,i,o,r,s){super(e.PREFIX,t),this.instantiationService=n,this.keybindingService=i,this.commandService=o,this.telemetryService=r,this.dialogService=s,this.commandsHistory=this._register(this.instantiationService.createInstance(w)),this.options=t}};S.PREFIX=">",S.WORD_FILTER=(0,a.or)(a.matchesPrefix,a.matchesWords,a.matchesContiguousSubString),S=_([C(1,h.IInstantiationService),C(2,p.IKeybindingService),C(3,g.ICommandService),C(4,f.ITelemetryService),C(5,v.IDialogService)],S);let w=class e extends s.Disposable{registerListeners(){this._register(this.configurationService.onDidChangeConfiguration((()=>this.updateConfiguration())))}updateConfiguration(){this.configuredCommandsHistoryLength=e.getConfiguredCommandHistoryLength(this.configurationService),e.cache&&e.cache.limit!==this.configuredCommandsHistoryLength&&(e.cache.limit=this.configuredCommandsHistoryLength,e.saveState(this.storageService))}load(){const t=this.storageService.get(e.PREF_KEY_CACHE,0);let n;if(t)try{n=JSON.parse(t)}catch(e){}const i=e.cache=new(0,c.LRUCache)(this.configuredCommandsHistoryLength,1);if(n){let e;e=n.usesLRU?n.entries:n.entries.sort(((e,t)=>e.value-t.value)),e.forEach((e=>i.set(e.key,e.value)))}e.counter=this.storageService.getNumber(e.PREF_KEY_COUNTER,0,e.counter)}push(t){e.cache&&(e.cache.set(t,e.counter++),e.saveState(this.storageService))}peek(t){var n;return null===(n=e.cache)||void 0===n?void 0:n.peek(t)}static saveState(t){if(!e.cache)return;const n={usesLRU:!0,entries:[]};e.cache.forEach(((e,t)=>n.entries.push({key:t,value:e}))),t.store(e.PREF_KEY_CACHE,JSON.stringify(n),0,0),t.store(e.PREF_KEY_COUNTER,e.counter,0,0)}static getConfiguredCommandHistoryLength(t){var n,i;const o=null===(i=null===(n=t.getValue().workbench)||void 0===n?void 0:n.commandPalette)||void 0===i?void 0:i.history;return"number"==typeof o?o:e.DEFAULT_COMMANDS_HISTORY_LENGTH}constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}};w.DEFAULT_COMMANDS_HISTORY_LENGTH=50,w.PREF_KEY_CACHE="commandPalette.mru.cache",w.PREF_KEY_COUNTER="commandPalette.mru.counter",w.counter=1,w=_([C(0,u.IStorageService),C(1,d.IConfigurationService)],w)})),r.register("lq9RP",(function(t,n){e(t.exports,"PickerQuickAccessProvider",(function(){return d}),(function(e){return d=e}));var i,o,s=r("dq3o1"),a=r("iNF8q"),l=r("6wKox"),c=function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))};function u(e){const t=e;return Array.isArray(t.items)}(o=i||(i={}))[o.NO_ACTION=0]="NO_ACTION",o[o.CLOSE_PICKER=1]="CLOSE_PICKER",o[o.REFRESH_PICKER=2]="REFRESH_PICKER",o[o.REMOVE_ITEM=3]="REMOVE_ITEM";class d extends a.Disposable{provide(e,t){var n;const o=new(0,a.DisposableStore);let r;e.canAcceptInBackground=!!(null===(n=this.options)||void 0===n?void 0:n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const h=o.add(new(0,a.MutableDisposable)),p=()=>c(this,void 0,void 0,(function*(){const n=h.value=new(0,a.DisposableStore);null==r||r.dispose(!0),e.busy=!1,r=new(0,s.CancellationTokenSource)(t);const i=r.token,o=e.value.substr(this.prefix.length).trim(),p=this._getPicks(o,n,i),g=(t,n)=>{var i;let r,s;if(u(t)?(r=t.items,s=t.active):r=t,0===r.length){if(n)return!1;o.length>0&&(null===(i=this.options)||void 0===i?void 0:i.noResultsPick)&&(r=[this.options.noResultsPick])}return e.items=r,s&&(e.activeItems=[s]),!0};if(null===p);else if(function(e){const t=e;return!!t.picks&&t.additionalPicks instanceof Promise}(p)){let t=!1,n=!1;yield Promise.all([(()=>c(this,void 0,void 0,(function*(){yield(0,l.timeout)(d.FAST_PICKS_RACE_DELAY),i.isCancellationRequested||n||(t=g(p.picks,!0))})))(),(()=>c(this,void 0,void 0,(function*(){e.busy=!0;try{const o=yield p.additionalPicks;if(i.isCancellationRequested)return;let r,s,a,l;if(u(p.picks)?(r=p.picks.items,s=p.picks.active):r=p.picks,u(o)?(a=o.items,l=o.active):a=o,a.length>0||!t){let t;if(!s&&!l){const n=e.activeItems[0];n&&-1!==r.indexOf(n)&&(t=n)}g({items:[...r,...a],active:s||l||t})}}finally{i.isCancellationRequested||(e.busy=!1),n=!0}})))()])}else if(p instanceof Promise){e.busy=!0;try{const t=yield p;if(i.isCancellationRequested)return;g(t)}finally{i.isCancellationRequested||(e.busy=!1)}}else g(p)}));return o.add(e.onDidChangeValue((()=>p()))),p(),o.add(e.onDidAccept((t=>{const[n]=e.selectedItems;"function"==typeof(null==n?void 0:n.accept)&&(t.inBackground||e.hide(),n.accept(e.keyMods,t))}))),o.add(e.onDidTriggerItemButton((({button:n,item:o})=>c(this,void 0,void 0,(function*(){var r,s;if("function"==typeof o.trigger){const a=null!==(s=null===(r=o.buttons)||void 0===r?void 0:r.indexOf(n))&&void 0!==s?s:-1;if(a>=0){const n=o.trigger(a,e.keyMods),r="number"==typeof n?n:yield n;if(t.isCancellationRequested)return;switch(r){case i.NO_ACTION:break;case i.CLOSE_PICKER:e.hide();break;case i.REFRESH_PICKER:p();break;case i.REMOVE_ITEM:const t=e.items.indexOf(o);if(-1!==t){const n=e.items.slice();n.splice(t,1),e.items=n}}}}}))))),o}constructor(e,t){super(),this.prefix=e,this.options=t}}d.FAST_PICKS_RACE_DELAY=200})),r.register("hCDqg",(function(t,n){e(t.exports,"toErrorMessage",(function(){return u}));var i=r("9LBxC"),o=r("6cqQ7"),s=r("cCPZ6");function a(e,t){return t&&(e.stack||e.stacktrace)?i.localize("stackTrace.format","{0}: {1}",c(e),l(e.stack)||l(e.stacktrace)):c(e)}function l(e){return Array.isArray(e)?e.join("\n"):e}function c(e){return"string"==typeof e.code&&"number"==typeof e.errno&&"string"==typeof e.syscall?i.localize("nodeExceptionMessage","A system error occurred ({0})",e.message):e.message||i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function u(e=null,t=!1){if(!e)return i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(e)){const n=s.coalesce(e),o=u(n[0],t);return n.length>1?i.localize("error.moreErrors","{0} ({1} errors in total)",o,n.length):o}if(o.isString(e))return e;if(e.detail){const n=e.detail;if(n.error)return a(n.error,t);if(n.exception)return a(n.exception,t)}return e.stack?a(e,t):e.message?e.message:i.localize("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}})),r.register("lkL3H",(function(e,t){var n=r("eh64S"),i=r("7yAvG"),o=r("20sZs"),s=r("3ufSI"),a=r("1N08n"),l=r("blTDv"),c=r("hYVHb"),u=r("1mptJ"),d=function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},h=function(e,t){return function(n,i){t(n,i,e)}};let p=class extends o.ReferencesController{constructor(e,t,n,i,o,r,s){super(!0,e,t,n,i,o,r,s)}};p=d([h(1,a.IContextKeyService),h(2,i.ICodeEditorService),h(3,c.INotificationService),h(4,l.IInstantiationService),h(5,u.IStorageService),h(6,s.IConfigurationService)],p),(0,n.registerEditorContribution)(o.ReferencesController.ID,p)})),r.register("5wsbr",(function(e,t){var n=r("eh64S"),i=r("gorTE"),o=r("eEW0l");class s extends n.EditorAction{run(e,t){const n=e.get(i.IStandaloneThemeService);this._originalThemeName?(n.setTheme(this._originalThemeName),this._originalThemeName=null):(this._originalThemeName=n.getColorTheme().themeName,n.setTheme("hc-black"))}constructor(){super({id:"editor.action.toggleHighContrast",label:o.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}}(0,n.registerEditorAction)(s)})),r.register("i39tw",(function(e,t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o=function(){function e(t,i){var o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,e),this.closeInput=function(){o.removeInputListeners(),o.input=null,o.setSec(""),o.editor&&o.editor.focus()},this.clear=function(){o.setInnerHtml_(o.node,"")},this.inputKeyUp=function(e){var t=o.input.options;t&&t.onKeyUp&&t.onKeyUp(e,e.target.value,o.closeInput)},this.inputBlur=function(){o.input.options.closeOnBlur&&o.closeInput()},this.inputKeyDown=function(e){var t=o.input,n=t.options,i=t.callback;n&&n.onKeyDown&&n.onKeyDown(e,e.target.value,o.closeInput)||((27===e.keyCode||n&&!1!==n.closeOnEnter&&13==e.keyCode)&&(o.input.node.blur(),e.stopPropagation(),o.closeInput()),13===e.keyCode&&i&&(e.stopPropagation(),e.preventDefault(),i(e.target.value)))},this.node=t,this.modeInfoNode=document.createElement("span"),this.secInfoNode=document.createElement("span"),this.notifNode=document.createElement("span"),this.notifNode.className="vim-notification",this.keyInfoNode=document.createElement("span"),this.keyInfoNode.setAttribute("style","float: right"),this.node.appendChild(this.modeInfoNode),this.node.appendChild(this.secInfoNode),this.node.appendChild(this.notifNode),this.node.appendChild(this.keyInfoNode),this.toggleVisibility(!1),this.editor=i,this.sanitizer=r}var t,o,r;return t=e,(o=[{key:"setMode",value:function(e){"visual"!==e.mode||"linewise"!==e.subMode?this.setText("--".concat(e.mode.toUpperCase(),"--")):this.setText("--VISUAL LINE--")}},{key:"setKeyBuffer",value:function(e){this.keyInfoNode.textContent=e}},{key:"setSec",value:function(e,t,n){if(this.notifNode.textContent="",void 0!==e){this.setInnerHtml_(this.secInfoNode,e);var i=this.secInfoNode.querySelector("input");return i&&(i.focus(),this.input={callback:t,options:n,node:i},n&&(n.selectValueOnOpen&&i.select(),n.value&&(i.value=n.value)),this.addInputListeners()),this.closeInput}}},{key:"setText",value:function(e){this.modeInfoNode.textContent=e}},{key:"toggleVisibility",value:function(e){this.node.style.display=e?"block":"none",this.input&&this.removeInputListeners(),clearInterval(this.notifTimeout)}},{key:"addInputListeners",value:function(){var e=this.input.node;e.addEventListener("keyup",this.inputKeyUp),e.addEventListener("keydown",this.inputKeyDown),e.addEventListener("input",this.inputKeyInput),e.addEventListener("blur",this.inputBlur)}},{key:"removeInputListeners",value:function(){if(this.input&&this.input.node){var e=this.input.node;e.removeEventListener("keyup",this.inputKeyUp),e.removeEventListener("keydown",this.inputKeyDown),e.removeEventListener("input",this.inputKeyInput),e.removeEventListener("blur",this.inputBlur)}}},{key:"showNotification",value:function(e){var t=this,n=document.createElement("span");this.setInnerHtml_(n,e),this.notifNode.textContent=n.textContent,this.notifTimeout=setTimeout((function(){t.notifNode.textContent=""}),5e3)}},{key:"setInnerHtml_",value:function(e,t){if(this.sanitizer){for(;e.children.length;)e.removeChild(e.children[0]);e.appendChild(this.sanitizer(t))}else e.innerHTML=t}}])&&i(t.prototype,o),r&&i(t,r),e}();e.exports.default=o})),r.register("5jJ5p",(function(e,t){var n=r("9ARZF");function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,i,o,r,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}})),r.register("9ARZF",(function(e,t){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"})),r("5XSRw").register(JSON.parse('{"3rahG":"index.e004deaa.js","gdzU6":"cssMode.5ba62094.js","bibKH":"index.effe8ed2.css","4N2qU":"jsonMode.8ca10023.js","fUfzu":"htmlMode.5131d01f.js","jiB7Q":"abap.7fb21a15.js","fjkzB":"apex.343d2bc0.js","7ix6Q":"azcli.bf8a27b9.js","q0Evl":"bat.205a9db4.js","aDJIn":"bicep.adbf18e8.js","a9v04":"cameligo.5bcee87f.js","kOFUj":"clojure.3b028dd2.js","hFvsW":"coffee.b1bdc429.js","1ll3h":"cpp.67f07db7.js","eFMdR":"csharp.7b0a3501.js","a3D1z":"csp.3ffa8f47.js","HBtgD":"css.3925e3f6.js","7U5oE":"dart.5bff3777.js","4AIN3":"dockerfile.672ffacd.js","bo3ZI":"ecl.4e530234.js","1w4A7":"elixir.c12ed45b.js","dOkIw":"fsharp.f96a49c2.js","97VZ3":"go.37e97754.js","cSHcV":"graphql.f87f4d7d.js","fDyfK":"handlebars.5e09b22c.js","7YXcK":"hcl.38f9101b.js","6NCI9":"html.805a1b2c.js","0EpJ8":"ini.a6f29868.js","1i3EY":"java.4ae77eb6.js","k0wdv":"javascript.e6a536f9.js","4Av9n":"typescript.f5b9d371.js","2OiLn":"julia.b8c72dea.js","eKYNU":"kotlin.e3843ed6.js","jwDNA":"less.43b45d2d.js","6uDtW":"lexon.b2a40ca6.js","bqD2x":"lua.cce8552c.js","jrO9e":"liquid.e537a724.js","fjWND":"m3.6764cd94.js","jmEcv":"markdown.abb74369.js","4bI77":"mips.e42bcfce.js","geg4T":"msdax.9f5c66d3.js","j87Tu":"mysql.d3147976.js","ktv1M":"objective-c.30d6364f.js","jM5I0":"pascal.7ede14e2.js","cW2bH":"pascaligo.0947402d.js","gb9jr":"perl.f8ae12e4.js","8wYo8":"pgsql.755d47bd.js","1CQoP":"php.2b5ea656.js","9UnyL":"postiats.8f767816.js","eF8VY":"powerquery.6da3f3ff.js","46jH1":"powershell.94238473.js","4qslc":"pug.fbf4af11.js","cYmsT":"python.76423b0e.js","bSPKF":"qsharp.b3c39fbf.js","eSTbt":"r.78405e9c.js","eGkmN":"razor.aae219cb.js","6HuOE":"redis.fa77eb61.js","99LDo":"redshift.8684e898.js","kwGtx":"restructuredtext.8100cb44.js","8YLfj":"ruby.38020e4e.js","dAlmO":"rust.8c94cfb7.js","cZYkg":"sb.6f77634b.js","69Oze":"scala.4929e4d7.js","kqj7f":"scheme.0b9875f8.js","e4qnq":"scss.9f4be391.js","cS52b":"shell.8e9cf245.js","1nexj":"solidity.abeacfc7.js","5F8IZ":"sophia.cadd9d0a.js","fzK0t":"sparql.d43509f9.js","3iUjC":"sql.1a4e775e.js","bBPhW":"st.4df04988.js","d9ORg":"swift.730198d5.js","5dHy7":"systemverilog.fda089c2.js","hAuWT":"tcl.56f8f948.js","gPu9Q":"twig.646b6755.js","d4cPu":"vb.d4c3cb06.js","6ThOT":"xml.2398b199.js","fCOKC":"yaml.4a6fa3a3.js","k3vIO":"index.33f992b0.js"}'));var s;s=r("2wrGW");var a={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),a=r("cGLHe");var l=r("gQRSt");const c=()=>{const[e,t]=(0,l.useState)(null);return{value:e,set:t}};var u;function d(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function h(){var e,t,n,i;return u||(e="keyval-store",t="keyval",i=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var t=function(){return indexedDB.databases().finally(e)};n=setInterval(t,100),t()})).finally((function(){return clearInterval(n)})):Promise.resolve()).then((function(){var n=indexedDB.open(e);return n.onupgradeneeded=function(){return n.result.createObjectStore(t)},d(n)})),u=function(e,n){return i.then((function(i){return n(i.transaction(t,e).objectStore(t))}))}),u}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h();return t("readonly",(function(t){return d(t.get(e))}))}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h();return n("readwrite",(function(n){return n.put(t,e),d(n.transaction)}))}l=r("gQRSt");const f=()=>{const[e,t]=(0,l.useState)(null),[n,i]=(0,l.useState)(!1),[o,r]=(0,l.useState)(null);return(0,l.useEffect)((()=>{p("handle").then((e=>{e&&r(e)}))}),[]),(0,l.useEffect)((()=>{const t=e?.handle;if(void 0!==t){if(g("handle",t),"directory"===t.kind)throw Error("Handle is directory");r(t)}}),[e]),{model:e,setModel:t,dirty:n,setDirty:i,recent:o,setRecent:r}};l=r("gQRSt"),l=r("gQRSt");const m=e=>{const{dirty:t,setDirty:n}=e.file,i=e.editor.value;(0,l.useEffect)((()=>{if(t)return;if(null===i)return;const e=i.onDidChangeModelContent((()=>{n(!0),e.dispose()}));return()=>{e.dispose()}}),[i,t,n])};r("7wr9L");var v=r("gWzAP");r("7wr9L");v=r("gWzAP");const b={current:!1};l=r("gQRSt");const y=(e,t)=>{const n=e.current;if(null===n)throw Error(t);return n},_={value:"",language:"markdown",ariaLabel:"Main markdown editor",codeLens:!1,contextmenu:!1,copyWithSyntaxHighlighting:!1,cursorBlinking:"smooth",cursorSmoothCaretAnimation:!0,cursorSurroundingLines:3,cursorWidth:3,fontFamily:"iA Writer Duo",fontLigatures:!0,wordWrapColumn:64,glyphMargin:!1,disableMonospaceOptimizations:!0,lineNumbers:"off",minimap:{enabled:!1},padding:{top:96,bottom:150},quickSuggestions:!1,roundedSelection:!1,selectionHighlight:!1,smoothScrolling:!0,snippetSuggestions:"none",suggestOnTriggerCharacters:!1,wordBasedSuggestions:!1,wordWrap:"bounded",scrollBeyondLastLine:!1,folding:!1,occurrencesHighlight:!1,renderLineHighlight:"none",hideCursorInOverviewRuler:!0,overviewRulerBorder:!1,scrollbar:{useShadows:!1,horizontal:"hidden",verticalSliderSize:16,verticalScrollbarSize:16}},C=({container:e})=>{!0!==b.current&&(self.MonacoEnvironment={getWorkerUrl:function(e,t){return"/editor.worker.js"}},document.fonts.ready.then((()=>{v.editor.remeasureFonts()})),b.current=!0);return v.editor.create(e,_)},x=e=>{const{containerRef:t}=e,n=e.editor.set;(0,l.useEffect)((()=>{const e=y(t,"editor container is null"),i=C({container:e});return i.focus(),n(i),()=>{n(null),i.dispose()}}),[n,t])};l=r("gQRSt");const S=["4XS","3XS","2XS","XS","S","M","L","XL","2XL","3XL","4XL","5XL","6XL","7XL","8XL","9XL","10XL"],w={"4XS":[11,1.9,42,490],"3XS":[12,1.89,38,482],"2XS":[13,1.89,34,475],XS:[14,1.88,28,470],S:[15,1.87,24,465],M:[16,1.86,22,460],L:[18,1.85,20,455],XL:[20,1.83,20,450],"2XL":[24,1.79,20,445],"3XL":[28,1.75,19,440],"4XL":[32,1.71,18,435],"5XL":[36,1.67,17,430],"6XL":[42,1.61,16,425],"7XL":[48,1.55,15,425],"8XL":[54,1.49,14,425],"9XL":[60,1.43,13,425],"10XL":[72,1.38,12,425]},k=Object.keys(w).reduce(((e,t)=>{const n=w[t];return e[t]={fontSize:n[0],lineHeight:n[1],spacing:n[2],weight:n[3]},e}),{}),E=e=>.6*k[e.size].fontSize*64,D=e=>{const t=E({size:e.size}),n=e.container.clientWidth-t,i=Math.round(n/2);return Math.max(i,48)},I=e=>{const{containerRef:t}=e,n=e.editor.value,i=e.prefs.size;(0,l.useEffect)((()=>{if(null===n)return;const e=y(t,"Container is null"),o=new ResizeObserver((()=>{n.updateOptions({lineDecorationsWidth:D({container:e,size:i})}),n.layout()}));return o.observe(e),()=>{o.unobserve(e)}}),[n,t,i])};l=r("gQRSt");var A,R,L={};R={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var M,T;T=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))};var N=Array.prototype.concat,P=Array.prototype.slice,O=M=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];T(o)?t=N.call(t,P.call(o)):t.push(o)}return t};O.wrap=function(e){return function(){return e(O(arguments))}};var F=Object.hasOwnProperty,z=Object.create(null);for(var B in R)F.call(R,B)&&(z[R[B]]=B);var H=L={to:{},get:{}};function W(e,t,n){return Math.min(Math.max(t,e),n)}function j(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}H.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=H.get.hsl(e),n="hsl";break;case"hwb":t=H.get.hwb(e),n="hwb";break;default:t=H.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},H.get.rgb=function(e){if(!e)return null;var t,n,i,o=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var r=2*n;o[n]=parseInt(t.slice(r,r+2),16)}i&&(o[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)o[n]=parseInt(t[n]+t[n],16);i&&(o[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)o[n]=parseInt(t[n+1],0);t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:F.call(R,t[1])?((o=R[t[1]])[3]=1,o):null:null;for(n=0;n<3;n++)o[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?o[3]=.01*parseFloat(t[4]):o[3]=parseFloat(t[4]))}for(n=0;n<3;n++)o[n]=W(o[n],0,255);return o[3]=W(o[3],0,1),o},H.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,W(parseFloat(t[2]),0,100),W(parseFloat(t[3]),0,100),W(isNaN(n)?1:n,0,1)]}return null},H.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,W(parseFloat(t[2]),0,100),W(parseFloat(t[3]),0,100),W(isNaN(n)?1:n,0,1)]}return null},H.to.hex=function(){var e=M(arguments);return"#"+j(e[0])+j(e[1])+j(e[2])+(e[3]<1?j(Math.round(255*e[3])):"")},H.to.rgb=function(){var e=M(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},H.to.rgb.percent=function(){var e=M(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+i+"%)":"rgba("+t+"%, "+n+"%, "+i+"%, "+e[3]+")"},H.to.hsl=function(){var e=M(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},H.to.hwb=function(){var e=M(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},H.to.keyword=function(e){return z[e.slice(0,3)]};var V,K={};const U={};for(const e of Object.keys(R))U[R[e]]=e;const q={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};V=q;for(const e of Object.keys(q)){if(!("channels"in q[e]))throw new Error("missing channels property: "+e);if(!("labels"in q[e]))throw new Error("missing channel labels property: "+e);if(q[e].labels.length!==q[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=q[e];delete q[e].channels,delete q[e].labels,Object.defineProperty(q[e],"channels",{value:t}),Object.defineProperty(q[e],"labels",{value:n})}q.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=r-o;let a,l;r===o?a=0:t===r?a=(n-i)/s:n===r?a=2+(i-t)/s:i===r&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(o+r)/2;return l=r===o?0:c<=.5?s/(r+o):s/(2-r-o),[a,100*l,100*c]},q.rgb.hsv=function(e){let t,n,i,o,r;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),u=c-Math.min(s,a,l),d=function(e){return(c-e)/6/u+.5};return 0===u?(o=0,r=0):(r=u/c,t=d(s),n=d(a),i=d(l),s===c?o=i-n:a===c?o=1/3+t-i:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},q.rgb.hwb=function(e){const t=e[0],n=e[1];let i=e[2];const o=q.rgb.hsl(e)[0],r=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[o,100*r,100*i]},q.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.min(1-t,1-n,1-i);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*o]},q.rgb.keyword=function(e){const t=U[e];if(t)return t;let n,i=1/0;for(const t of Object.keys(R)){const s=(r=R[t],((o=e)[0]-r[0])**2+(o[1]-r[1])**2+(o[2]-r[2])**2);s<i&&(i=s,n=t)}var o,r;return n},q.keyword.rgb=function(e){return R[e]},q.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;return[100*(.4124*t+.3576*n+.1805*i),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},q.rgb.lab=function(e){const t=q.rgb.xyz(e);let n=t[0],i=t[1],o=t[2];n/=95.047,i/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116;return[116*i-16,500*(n-i),200*(i-o)]},q.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;let o,r,s;if(0===n)return s=255*i,[s,s,s];o=i<.5?i*(1+n):i+n-i*n;const a=2*i-o,l=[0,0,0];for(let e=0;e<3;e++)r=t+1/3*-(e-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(o-a)*r:2*r<1?o:3*r<2?a+(o-a)*(2/3-r)*6:a,l[e]=255*s;return l},q.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,i=e[2]/100,o=n;const r=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,o*=r<=1?r:2-r;return[t,100*(0===i?2*o/(r+o):2*n/(i+n)),100*((i+n)/2)]},q.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let i=e[2]/100;const o=Math.floor(t)%6,r=t-Math.floor(t),s=255*i*(1-n),a=255*i*(1-n*r),l=255*i*(1-n*(1-r));switch(i*=255,o){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},q.hsv.hsl=function(e){const t=e[0],n=e[1]/100,i=e[2]/100,o=Math.max(i,.01);let r,s;s=(2-n)*i;const a=(2-n)*o;return r=n*o,r/=a<=1?a:2-a,r=r||0,s/=2,[t,100*r,100*s]},q.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,i=e[2]/100;const o=n+i;let r;o>1&&(n/=o,i/=o);const s=Math.floor(6*t),a=1-i;r=6*t-s,0!=(1&s)&&(r=1-r);const l=n+r*(a-n);let c,u,d;switch(s){default:case 6:case 0:c=a,u=l,d=n;break;case 1:c=l,u=a,d=n;break;case 2:c=n,u=a,d=l;break;case 3:c=n,u=l,d=a;break;case 4:c=l,u=n,d=a;break;case 5:c=a,u=n,d=l}return[255*c,255*u,255*d]},q.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]},q.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100;let o,r,s;return o=3.2406*t+-1.5372*n+-.4986*i,r=-.9689*t+1.8758*n+.0415*i,s=.0557*t+-.204*n+1.057*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*o,255*r,255*s]},q.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*n-16,500*(t-n),200*(n-i)]},q.lab.xyz=function(e){let t,n,i;n=(e[0]+16)/116,t=e[1]/500+n,i=n-e[2]/200;const o=n**3,r=t**3,s=i**3;return n=o>.008856?o:(n-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,t*=95.047,n*=100,i*=108.883,[t,n,i]},q.lab.lch=function(e){const t=e[0],n=e[1],i=e[2];let o;o=360*Math.atan2(i,n)/2/Math.PI,o<0&&(o+=360);return[t,Math.sqrt(n*n+i*i),o]},q.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI;return[t,n*Math.cos(i),n*Math.sin(i)]},q.rgb.ansi16=function(e,t=null){const[n,i,o]=e;let r=null===t?q.rgb.hsv(e)[2]:t;if(r=Math.round(r/50),0===r)return 30;let s=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===r&&(s+=60),s},q.hsv.ansi16=function(e){return q.rgb.ansi16(q.hsv.rgb(e),e[2])},q.rgb.ansi256=function(e){const t=e[0],n=e[1],i=e[2];if(t===n&&n===i)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},q.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},q.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},q.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},q.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},q.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(t,n),i),r=Math.min(Math.min(t,n),i),s=o-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:o===t?(n-i)/s%6:o===n?2+(i-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},q.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n);let o=0;return i<1&&(o=(n-.5*i)/(1-i)),[e[0],100*i,100*o]},q.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=t*n;let o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],100*i,100*o]},q.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];const o=[0,0,0],r=t%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-n)*i,[255*(n*o[0]+l),255*(n*o[1]+l),255*(n*o[2]+l)]},q.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},q.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},q.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},q.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,i=n-t;let o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],100*i,100*o]},q.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},q.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},q.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},q.gray.hsl=function(e){return[0,0,e[0]]},q.gray.hsv=q.gray.hsl,q.gray.hwb=function(e){return[0,100,e[0]]},q.gray.cmyk=function(e){return[0,0,0,e[0]]},q.gray.lab=function(e){return[e[0],0,0]},q.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},q.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};var $;function G(e){const t=function(){const e={},t=Object.keys(V);for(let n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),i=Object.keys(V[e]);for(let o=i.length,r=0;r<o;r++){const o=i[r],s=t[o];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(o))}}return t}function Q(e,t){return function(n){return t(e(n))}}function X(e,t){const n=[t[e].parent,e];let i=V[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)n.unshift(t[o].parent),i=Q(V[t[o].parent][o],i),o=t[o].parent;return i.conversion=n,i}$=function(e){const t=G(e),n={},i=Object.keys(t);for(let e=i.length,o=0;o<e;o++){const e=i[o];null!==t[e].parent&&(n[e]=X(e,t))}return n};const Z={};Object.keys(V).forEach((e=>{Z[e]={},Object.defineProperty(Z[e],"channels",{value:V[e].channels}),Object.defineProperty(Z[e],"labels",{value:V[e].labels});const t=$(e);Object.keys(t).forEach((n=>{const i=t[n];Z[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const i=e(t);if("object"==typeof i)for(let e=i.length,t=0;t<e;t++)i[t]=Math.round(i[t]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}(i),Z[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))})),K=Z;const J=["keyword","gray","hex"],Y={};for(const e of Object.keys(K))Y[[...K[e].labels].sort().join("")]=e;const ee={};function te(e,t){if(!(this instanceof te))return new te(e,t);if(t&&t in J&&(t=null),t&&!(t in K))throw new Error("Unknown model: "+t);let n,i;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof te)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"==typeof e){const t=L.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,i=K[this.model].channels,this.color=t.value.slice(0,i),this.valpha="number"==typeof t.value[i]?t.value[i]:1}else if(e.length>0){this.model=t||"rgb",i=K[this.model].channels;const n=Array.prototype.slice.call(e,0,i);this.color=re(n,i),this.valpha="number"==typeof e[i]?e[i]:1}else if("number"==typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);const i=t.sort().join("");if(!(i in Y))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=Y[i];const{labels:o}=K[this.model],r=[];for(n=0;n<o.length;n++)r.push(e[o[n]]);this.color=re(r)}if(ee[this.model])for(i=K[this.model].channels,n=0;n<i;n++){const e=ee[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}te.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in L.to?this:this.rgb();t=t.round("number"==typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return L.to[t.model](n)},percentString(e){const t=this.rgb().round("number"==typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return L.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=K[this.model],{labels:n}=K[this.model];for(let i=0;i<t;i++)e[n[i]]=this.color[i];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new te([...this.color.map(ne(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new te([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:ie("rgb",0,oe(255)),green:ie("rgb",1,oe(255)),blue:ie("rgb",2,oe(255)),hue:ie(["hsl","hsv","hsl","hwb","hcg"],0,(e=>(e%360+360)%360)),saturationl:ie("hsl",1,oe(100)),lightness:ie("hsl",2,oe(100)),saturationv:ie("hsv",1,oe(100)),value:ie("hsv",2,oe(100)),chroma:ie("hcg",1,oe(100)),gray:ie("hcg",2,oe(100)),white:ie("hwb",1,oe(100)),wblack:ie("hwb",2,oe(100)),cyan:ie("cmyk",0,oe(100)),magenta:ie("cmyk",1,oe(100)),yellow:ie("cmyk",2,oe(100)),black:ie("cmyk",3,oe(100)),x:ie("xyz",0,oe(95.047)),y:ie("xyz",1,oe(100)),z:ie("xyz",2,oe(108.833)),l:ie("lab",0,oe(100)),a:ie("lab",1),b:ie("lab",2),keyword(e){return void 0!==e?new te(e):K[this.model].keyword(this.color)},hex(e){return void 0!==e?new te(e):L.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new te(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),L.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,i]of e.entries()){const e=i/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return te.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),i=this.rgb(),o=void 0===t?.5:t,r=2*o-1,s=n.alpha()-i.alpha(),a=((r*s==-1?r:(r+s)/(1+r*s))+1)/2,l=1-a;return te.rgb(a*n.red()+l*i.red(),a*n.green()+l*i.green(),a*n.blue()+l*i.blue(),n.alpha()*o+i.alpha()*(1-o))}};for(const e of Object.keys(K)){if(J.includes(e))continue;const{channels:t}=K[e];te.prototype[e]=function(...t){return this.model===e?new te(this):t.length>0?new te(t,e):new te([...(n=K[this.model][e].raw(this.color),Array.isArray(n)?n:[n]),this.valpha],e);var n},te[e]=function(...n){let i=n[0];return"number"==typeof i&&(i=re(n,t)),new te(i,e)}}function ne(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function ie(e,t,n){e=Array.isArray(e)?e:[e];for(const i of e)(ee[i]||(ee[i]=[]))[t]=n;return e=e[0],function(i){let o;return void 0!==i?(n&&(i=n(i)),o=this[e](),o.color[t]=i,o):(o=this[e]().color[t],n&&(o=n(o)),o)}}function oe(e){return function(t){return Math.max(0,Math.min(e,t))}}function re(e,t){for(let n=0;n<t;n++)"number"!=typeof e[n]&&(e[n]=0);return e}const se={name:"Paper",description:"",scheme:"light",colors:{bg:n(A=te)("#eeeeee"),main:n(A)("#444444"),caret:n(A)("#3B82F6"),sub:n(A)("#b2b2b2"),text:n(A)("#444444"),error:n(A)("#d70000")}},ae={name:"Ros Pine Dawn",description:"",scheme:"light",colors:{bg:n(A)("#faf4ed"),main:n(A)("#d7827e"),caret:n(A)("#d7827e"),sub:n(A)("#b0acb9"),text:n(A)("#575279"),error:n(A)("#b4637a")}},le={name:"Peaches",description:"",scheme:"light",colors:{bg:n(A)("#fddbd1"),main:n(A)("#ed8c7c"),caret:n(A)("#ed8c7c"),sub:n(A)("#dd9986"),text:n(A)("#533d40"),error:n(A)("#da6551")}},ce={name:"Serika Light",description:"",scheme:"light",colors:{bg:n(A)("#f2f2f2"),main:n(A)("#ffcd04"),caret:n(A)("#ffcd04"),sub:n(A)("#c7c7c7"),text:n(A)("#191919"),error:n(A)("#ca4754")}},ue={name:"Zumidori",description:"",scheme:"light",colors:{bg:n(A)("#e0f5e4"),main:n(A)("#2cae58"),caret:n(A)("#2cae58"),sub:n(A)("#2cae58"),text:n(A)("#262926"),error:n(A)("#edb45f")}},de={name:"Bushido",description:"",scheme:"dark",colors:{bg:n(A)("#242933"),main:n(A)("#ec4c56"),caret:n(A)("#ec4c56"),sub:n(A)("#596172"),text:n(A)("#f6f0e9"),error:n(A)("#ec4c56")}},he={name:"Dracula",description:"",scheme:"dark",colors:{bg:n(A)("#282a36"),main:n(A)("#bd93f9"),caret:n(A)("#bd93f9"),sub:n(A)("#44475a"),text:n(A)("#f8f8f2"),error:n(A)("#ff5555")}},pe={name:"Serika Dark",description:"",scheme:"dark",colors:{bg:n(A)("#323437"),main:n(A)("#e2b714"),caret:n(A)("#e2b714"),sub:n(A)("#646669"),text:n(A)("#d1d0c5"),error:n(A)("#ca4754")}},ge={name:"Nord",description:"",scheme:"dark",colors:{bg:n(A)("#2e3440"),main:n(A)("#8fbcbb"),caret:n(A)("#8fbcbb"),sub:n(A)("#4c566a"),text:n(A)("#eceff4"),error:n(A)("#bf616a")}},fe={name:"High contrast",description:"",scheme:"high-contrast",colors:{bg:n(A)("#000000"),main:n(A)("#1aebff"),caret:n(A)("#ffffff"),sub:n(A)("#1aebff"),text:n(A)("#ffffff"),error:n(A)("#e11845")}},me=["bushido","serika-dark","dracula","nord","high-contrast","paper","serika-light","rose-pine-dawn","peach","zumidori"],ve={bushido:de,"serika-dark":pe,dracula:he,nord:ge,"high-contrast":fe,paper:se,"serika-light":ce,"rose-pine-dawn":ae,peach:le,zumidori:ue},be=()=>window.navigator.platform.startsWith("Mac")||["iPhone","iPad","iPod"].some((e=>navigator.platform.startsWith(e))),ye=e=>{if(1===window.devicePixelRatio)return 400;const t="dark"===ve[e.theme].scheme?-20:0,n=be()?-35:0,{weight:i}=k[e.size];return i+n+t},_e=e=>{const t=e.editor.value,n=e.prefs.size,i=e.prefs.theme;(0,l.useEffect)((()=>{if(null===t)return;const e=k[n];t.updateOptions({fontSize:e.fontSize,lineHeight:Math.round(e.fontSize*e.lineHeight),fontWeight:ye({size:n,theme:i}).toString()})}),[t,n,i])};r("7wr9L");v=r("gWzAP"),l=r("gQRSt");const Ce={light:{red:"#CF222E",blue1:"#0969DA",blue2:"#0550AE",purple:"#8250DF",gray:"#6E7781",orange:"#BC4C00",green:"#2DA44E"},dark:{red:"#F97583",blue1:"#9ECBFF",blue2:"79B8FF",purple:"#B392F0",gray:"#6A737D",orange:"#FFAB70",green:"#85E89D"},"high-contrast":{red:"#FF6A69",blue1:"#409EFF",blue2:"#409EFF",purple:"#B87FFF",gray:"#9EA7B3",orange:"#E7811D",green:"#09B43A"}},xe=(e,t,n)=>{const i=[];switch(i.push({token:"",foreground:t.text.hex()},{token:"invalid",foreground:t.error.hex()},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"}),i.push({token:"comment.md",foreground:t.sub.hex()},{token:"comment.content.md",foreground:t.sub.hex()},{token:"keyword.md",foreground:t.text.hex(),fontStyle:"bold"},{token:"keyword.table.header.md",foreground:t.text.hex()},{token:"keyword.table.middle.md",foreground:t.text.hex()},{token:"keyword.table.left.md",foreground:t.text.hex()},{token:"keyword.table.right.md",foreground:t.text.hex()},{token:"string.md",foreground:t.text.hex()},{token:"string.link.md",foreground:t.sub.hex()},{token:"variable.md",foreground:t.text.hex(),background:t.sub.hex()},{token:"tag.md",foreground:t.sub.hex()},{token:"string.html.md",foreground:t.sub.hex()},{token:"delimiter.html.md",foreground:t.sub.hex()},{token:"attribute.name.html.md",foreground:t.sub.hex()}),n.code){case"colorful":i.push({token:"keyword",foreground:Ce[e].red},{token:"string",foreground:Ce[e].blue1},{token:"identifier",foreground:Ce[e].purple},{token:"type.identifier",foreground:Ce[e].orange},{token:"comment",foreground:Ce[e].gray},{token:"number",foreground:Ce[e].blue2},{token:"tag",foreground:Ce[e].green},{token:"tag.css",foreground:Ce[e].purple},{token:"attribute.name",foreground:Ce[e].purple},{token:"attribute.value",foreground:Ce[e].orange},{token:"string.key",foreground:Ce[e].purple});break;case"duo":i.push({token:"keyword",foreground:t.main.hex()},{token:"comment",foreground:t.sub.hex()},{token:"number",foreground:t.main.hex()},{token:"tag",foreground:t.main.hex()})}return i},Se={"high-contrast":"hc-black",dark:"vs-dark",light:"vs"},we=e=>{const t=e.editor.value,n=e.prefs.theme;(0,l.useEffect)((()=>{if(null===t)return;const e=ve[n],i=e.colors;var o;v.editor.defineTheme("custom",{base:Se[e.scheme],inherit:!1,colors:(o=i,{"editor.background":o.bg.hex(),"editor.foreground":o.text.hex(),"editor.selectionBackground":`${o.sub.hex()}80`,"editor.findMatchBackground":`${o.main.hex()}80`,"editor.findMatchHighlightBackground":`${o.main.hex()}40`,"editor.rangeHighlightBackground":`${o.sub.hex()}40`,"editorCursor.foreground":o.caret.hex(),"editorCursor.background":o.text.hex()}),rules:xe(e.scheme,i,{code:"colorful"})}),v.editor.setTheme("custom")}),[n,t])};l=r("gQRSt");var ke={};Object.defineProperty(ke,"__esModule",{value:!0}),ke.initVimMode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.default,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=new Ee.default(e);if(!t)return o.attach(),o;var r=new n(t,e,i),s="";return o.on("vim-mode-change",(function(e){r.setMode(e)})),o.on("vim-keypress",(function(e){":"===e?s="":s+=e,r.setKeyBuffer(s)})),o.on("vim-command-done",(function(){s="",r.setKeyBuffer(s)})),o.on("dispose",(function(){r.toggleVisibility(!1),r.closeInput(),r.clear()})),r.toggleVisibility(!0),o.setStatusBar(r),o.attach(),o},Object.defineProperty(ke,"VimMode",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(ke,"StatusBar",{enumerable:!0,get:function(){return De.default}});var Ee=Ie(r("5tNzO")),De=Ie(r("i39tw"));function Ie(e){return e&&e.__esModule?e:{default:e}}const Ae=e=>{const t=e.editor.value,n=e.prefs.vim,i=e.statusRef;return(0,l.useEffect)((()=>{const e=i.current;if(null===e)throw Error("Status element is null");if(null===t)return;if(!1===n)return;const o=(0,ke.initVimMode)(t,e);return()=>o.dispose()}),[t,n,i]),{statusRef:i}};var Re,Le={};e(Le,"container",(function(){return Re}),(function(e){return Re=e})),Re="container_bd37b3";const Me=e=>(0,s.jsx)("div",{className:n(Le).container,style:{maxWidth:E({size:e.size})},ref:e.statusRef});var Te,Ne,Pe,Oe={};e(Oe,"container",(function(){return Te}),(function(e){return Te=e})),e(Oe,"editor",(function(){return Ne}),(function(e){return Ne=e})),e(Oe,"status",(function(){return Pe}),(function(e){return Pe=e})),Te="container_63fa29",Ne="editor_63fa29",Pe="status_63fa29";const Fe=e=>{const{editor:t,file:i,prefs:o}=e,r=(0,l.useRef)(null),a=(0,l.useRef)(null);return x({editor:t,containerRef:r}),I({editor:t,containerRef:r,prefs:o}),Ae({editor:t,prefs:o,statusRef:a}),m({editor:t,file:i}),we({editor:t,prefs:o}),_e({editor:t,prefs:o}),(0,s.jsxs)("div",{className:n(Oe).container,children:[(0,s.jsx)("div",{className:n(Oe).editor,ref:r}),(0,s.jsx)("div",{className:n(Oe).status,children:(0,s.jsx)(Me,{statusRef:a,size:o.size})})]})};var ze,Be,He,We={};e(We,"container",(function(){return ze}),(function(e){return ze=e})),e(We,"paper",(function(){return Be}),(function(e){return Be=e})),e(We,"content",(function(){return He}),(function(e){return He=e})),ze="container_89414b",Be="paper_89414b",He="content_89414b";l=r("gQRSt");var je={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};class Ve{constructor(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}}function Ke(e,t){for(var n={},i={},o=-1;++o<e.length;)Object.assign(n,e[o].property),Object.assign(i,e[o].normal);return new Ve(n,i,t)}function Ue(e){return e.toLowerCase()}Ve.prototype.property={},Ve.prototype.normal={},Ve.prototype.space=null;class qe{constructor(e,t){this.property=e,this.attribute=t}}qe.prototype.space=null,qe.prototype.attribute=null,qe.prototype.property=null,qe.prototype.boolean=!1,qe.prototype.booleanish=!1,qe.prototype.overloadedBoolean=!1,qe.prototype.number=!1,qe.prototype.commaSeparated=!1,qe.prototype.spaceSeparated=!1,qe.prototype.commaOrSpaceSeparated=!1,qe.prototype.mustUseProperty=!1,qe.prototype.defined=!1;var $e={};e($e,"boolean",(function(){return Qe})),e($e,"booleanish",(function(){return Xe})),e($e,"overloadedBoolean",(function(){return Ze})),e($e,"number",(function(){return Je})),e($e,"spaceSeparated",(function(){return Ye})),e($e,"commaSeparated",(function(){return et})),e($e,"commaOrSpaceSeparated",(function(){return tt}));var Ge=0,Qe=nt(),Xe=nt(),Ze=nt(),Je=nt(),Ye=nt(),et=nt(),tt=nt();function nt(){return 2**++Ge}var it=Object.keys($e);class ot extends qe{constructor(e,t,n,i){var o=-1;for(super(e,t),rt(this,"space",i);++o<it.length;)rt(this,it[o],(n&$e[it[o]])===$e[it[o]])}}function rt(e,t,n){n&&(e[t]=n)}ot.prototype.defined=!0;var st={}.hasOwnProperty;function at(e){var t,n,i={},o={};for(t in e.properties)st.call(e.properties,t)&&(n=new ot(t,e.transform(e.attributes,t),e.properties[t],e.space),e.mustUseProperty&&e.mustUseProperty.includes(t)&&(n.mustUseProperty=!0),i[t]=n,o[Ue(t)]=t,o[Ue(n.attribute)]=t);return new Ve(i,o,e.space)}var lt=at({space:"xlink",transform:function(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});var ct=at({space:"xml",transform:function(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ut(e,t){return t in e?e[t]:t}function dt(e,t){return ut(e,t.toLowerCase())}var ht=at({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dt,properties:{xmlns:null,xmlnsXLink:null}}),pt=at({transform:function(e,t){return"role"===t?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Xe,ariaAutoComplete:null,ariaBusy:Xe,ariaChecked:Xe,ariaColCount:Je,ariaColIndex:Je,ariaColSpan:Je,ariaControls:Ye,ariaCurrent:null,ariaDescribedBy:Ye,ariaDetails:null,ariaDisabled:Xe,ariaDropEffect:Ye,ariaErrorMessage:null,ariaExpanded:Xe,ariaFlowTo:Ye,ariaGrabbed:Xe,ariaHasPopup:null,ariaHidden:Xe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ye,ariaLevel:Je,ariaLive:null,ariaModal:Xe,ariaMultiLine:Xe,ariaMultiSelectable:Xe,ariaOrientation:null,ariaOwns:Ye,ariaPlaceholder:null,ariaPosInSet:Je,ariaPressed:Xe,ariaReadOnly:Xe,ariaRelevant:null,ariaRequired:Xe,ariaRoleDescription:Ye,ariaRowCount:Je,ariaRowIndex:Je,ariaRowSpan:Je,ariaSelected:Xe,ariaSetSize:Je,ariaSort:null,ariaValueMax:Je,ariaValueMin:Je,ariaValueNow:Je,ariaValueText:null,role:null}});var gt=at({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dt,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:et,acceptCharset:Ye,accessKey:Ye,action:null,allow:null,allowFullScreen:Qe,allowPaymentRequest:Qe,allowUserMedia:Qe,alt:null,as:null,async:Qe,autoCapitalize:null,autoComplete:Ye,autoFocus:Qe,autoPlay:Qe,capture:Qe,charSet:null,checked:Qe,cite:null,className:Ye,cols:Je,colSpan:null,content:null,contentEditable:Xe,controls:Qe,controlsList:Ye,coords:Je|et,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Qe,defer:Qe,dir:null,dirName:null,disabled:Qe,download:Ze,draggable:Xe,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Qe,formTarget:null,headers:Ye,height:Je,hidden:Qe,high:Je,href:null,hrefLang:null,htmlFor:Ye,httpEquiv:Ye,id:null,imageSizes:null,imageSrcSet:et,inputMode:null,integrity:null,is:null,isMap:Qe,itemId:null,itemProp:Ye,itemRef:Ye,itemScope:Qe,itemType:Ye,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Qe,low:Je,manifest:null,max:null,maxLength:Je,media:null,method:null,min:null,minLength:Je,multiple:Qe,muted:Qe,name:null,nonce:null,noModule:Qe,noValidate:Qe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Qe,optimum:Je,pattern:null,ping:Ye,placeholder:null,playsInline:Qe,poster:null,preload:null,readOnly:Qe,referrerPolicy:null,rel:Ye,required:Qe,reversed:Qe,rows:Je,rowSpan:Je,sandbox:Ye,scope:null,scoped:Qe,seamless:Qe,selected:Qe,shape:null,size:Je,sizes:null,slot:null,span:Je,spellCheck:Xe,src:null,srcDoc:null,srcLang:null,srcSet:et,start:Je,step:null,style:null,tabIndex:Je,target:null,title:null,translate:null,type:null,typeMustMatch:Qe,useMap:null,value:Xe,width:Je,wrap:null,align:null,aLink:null,archive:Ye,axis:null,background:null,bgColor:null,border:Je,borderColor:null,bottomMargin:Je,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Qe,declare:Qe,event:null,face:null,frame:null,frameBorder:null,hSpace:Je,leftMargin:Je,link:null,longDesc:null,lowSrc:null,marginHeight:Je,marginWidth:Je,noResize:Qe,noHref:Qe,noShade:Qe,noWrap:Qe,object:null,profile:null,prompt:null,rev:null,rightMargin:Je,rules:null,scheme:null,scrolling:Xe,standby:null,summary:null,text:null,topMargin:Je,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Je,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Qe,disableRemotePlayback:Qe,prefix:null,property:null,results:Je,security:null,unselectable:null}}),ft=at({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ut,properties:{about:tt,accentHeight:Je,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Je,amplitude:Je,arabicForm:null,ascent:Je,attributeName:null,attributeType:null,azimuth:Je,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Je,by:null,calcMode:null,capHeight:Je,className:Ye,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Je,diffuseConstant:Je,direction:null,display:null,dur:null,divisor:Je,dominantBaseline:null,download:Qe,dx:null,dy:null,edgeMode:null,editable:null,elevation:Je,enableBackground:null,end:null,event:null,exponent:Je,externalResourcesRequired:null,fill:null,fillOpacity:Je,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:et,g2:et,glyphName:et,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Je,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Je,horizOriginX:Je,horizOriginY:Je,id:null,ideographic:Je,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Je,k:Je,k1:Je,k2:Je,k3:Je,k4:Je,kernelMatrix:tt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Je,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Je,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Je,overlineThickness:Je,paintOrder:null,panose1:null,path:null,pathLength:Je,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ye,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Je,pointsAtY:Je,pointsAtZ:Je,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tt,rev:tt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tt,requiredFeatures:tt,requiredFonts:tt,requiredFormats:tt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Je,specularExponent:Je,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Je,strikethroughThickness:Je,string:null,stroke:null,strokeDashArray:tt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Je,strokeOpacity:Je,strokeWidth:null,style:null,surfaceScale:Je,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tt,tabIndex:Je,tableValues:null,target:null,targetX:Je,targetY:Je,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tt,to:null,transform:null,u1:null,u2:null,underlinePosition:Je,underlineThickness:Je,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Je,values:null,vAlphabetic:Je,vMathematical:Je,vectorEffect:null,vHanging:Je,vIdeographic:Je,version:null,vertAdvY:Je,vertOriginX:Je,vertOriginY:Je,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Je,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),mt=/^data[-\w.:]+$/i,vt=/-[a-z]/g,bt=/[A-Z]/g;function yt(e,t){var n=Ue(t),i=t,o=qe;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&"data"===n.slice(0,4)&&mt.test(t)&&("-"===t.charAt(4)?i=function(e){var t=e.slice(5).replace(vt,Ct);return"data"+t.charAt(0).toUpperCase()+t.slice(1)}(t):t=function(e){var t=e.slice(4);if(vt.test(t))return e;"-"!==(t=t.replace(bt,_t)).charAt(0)&&(t="-"+t);return"data"+t}(t),o=ot),new o(i,t))}function _t(e){return"-"+e.toLowerCase()}function Ct(e){return e.charAt(1).toUpperCase()}var xt=Ke([ct,lt,ht,pt,gt],"html"),St=Ke([ct,lt,ht,pt,ft],"svg");function wt(e,t){switch(e.type){case"root":return function(e,t){const{doc:n,fragment:i,namespace:o}=t,{children:r=[]}=e,{length:s}=r;let a,l=o,c=0===s;for(let e=0;e<s;e+=1){const t=r[e];if("element"===t.type&&"html"===t.tagName){const{properties:e={}}=t;c=!0,void 0===o&&(l=String(e.xmlns||"")||je.html)}}a=c?n.implementation.createDocument(l,"",null):i?n.createDocumentFragment():n.createElement("html");return Et(a,r,{...t,fragment:i,namespace:l,impliedNamespace:l})}(e,t);case"text":return function(e,{doc:t}){return t.createTextNode(e.value)}(e,t);case"element":return kt(e,t);case"doctype":return function(e,{doc:t}){return t.implementation.createDocumentType("html","","")}(0,t);case"comment":return function(e,{doc:t}){return t.createComment(e.value)}(e,t);default:return kt(e,t)}}function kt(e,t){const{namespace:n,doc:i}=t;let o=t.impliedNamespace||n;const{tagName:r=(o===je.svg?"g":"div"),properties:s={},children:a=[]}=e;null!=o&&o!==je.html||"svg"!==r||(o=je.svg);const l=o===je.svg?St:xt,c=null==o?i.createElement(r):i.createElementNS(o,r),u=Object.keys(s),{length:d}=u;for(let e=0;e<d;e+=1){const t=u[e],{attribute:n,property:i,mustUseProperty:o,boolean:r,booleanish:a,overloadedBoolean:d,commaSeparated:h}=yt(l,t);let p=s[t];Array.isArray(p)&&(p=p.join(h?", ":" ")),o&&(c[i]=p),r||d&&"boolean"==typeof p?p?c.setAttribute(n,""):c.removeAttribute(n):a?c.setAttribute(n,String(p)):!0===p?c.setAttribute(n,""):(p||0===p||""===p)&&c.setAttribute(n,String(p))}return Et(c,a,{...t,impliedNamespace:o})}function Et(e,t,n){let i=-1;for(;++i<t.length;)e.appendChild(wt(t[i],n));return e}function Dt(e,t={}){const{document:n=document,...i}=t;return wt(e,{doc:n,...i})}const It=new RegExp(` xmlns="${je.html}"`,"g");const At=function(e){if(null==e)return Lt;if("string"==typeof e)return function(e){return Rt(t);function t(t){return t&&t.type===e}}(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=At(e[n]);return Rt(i);function i(...e){let n=-1;for(;++n<t.length;)if(t[n].call(this,...e))return!0;return!1}}(e):function(e){return Rt(t);function t(t){let n;for(n in e)if(t[n]!==e[n])return!1;return!0}}(e);if("function"==typeof e)return Rt(e);throw new Error("Expected function, string, or object as test")};function Rt(e){return function(...t){return Boolean(e.call(this,...t))}}function Lt(){return!0}const Mt=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null);const o=At(t),r=i?-1:1;!function e(s,a,l){const c="object"==typeof s&&null!==s?s:{};let u;"string"==typeof c.type&&(u="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0,Object.defineProperty(d,"name",{value:"node ("+c.type+(u?"<"+u+">":"")+")"}));return d;function d(){let c,u,d,h=[];if((!t||o(s,a,l[l.length-1]||null))&&(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:[e]}(n(s,l)),false===h[0]))return h;if(s.children&&"skip"!==h[0])for(u=(i?s.children.length:-1)+r,d=l.concat(s);u>-1&&u<s.children.length;){if(c=e(s.children[u],u,d)(),false===c[0])return c;u="number"==typeof c[1]?c[1]:u+r}return h}}(e,null,[])()};const Tt=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null),Mt(e,t,(function(e,t){const i=t[t.length-1];return n(e,i?i.children.indexOf(e):null,i)}),i)};var Nt=function(e){var t,n;if("element"===e.type){var i=null!==(n=null===(t=e.position)||void 0===t?void 0:t.start.line)&&void 0!==n?n:"null";void 0===e.properties&&(e.properties={}),e.properties["data-line"]=i}},Pt=function(e){Tt(e,"element",Nt)};function Ot(e,t,n,i){const o=e.length;let r,s=0;if(t=t<0?-t>o?0:o+t:t>o?o:t,n=n>0?n:0,i.length<1e4)r=Array.from(i),r.unshift(t,n),[].splice.apply(e,r);else for(n&&[].splice.apply(e,[t,n]);s<i.length;)r=i.slice(s,s+1e4),r.unshift(t,0),[].splice.apply(e,r),s+=1e4,t+=1e4}function Ft(e,t){return e.length>0?(Ot(e,e.length,0,t),e):t}const zt={}.hasOwnProperty;function Bt(e){const t={};let n=-1;for(;++n<e.length;)Ht(t,e[n]);return t}function Ht(e,t){let n;for(n in t){const i=(zt.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let r;for(r in o){zt.call(i,r)||(i[r]=[]);const e=o[r];Wt(i[r],Array.isArray(e)?e:e?[e]:[])}}}function Wt(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);Ot(e,0,0,i)}const jt=en(/[A-Za-z]/),Vt=en(/\d/),Kt=en(/[\dA-Fa-f]/),Ut=en(/[\dA-Za-z]/),qt=en(/[!-/:-@[-`{-~]/),$t=en(/[#-'*+\--9=?A-Z^-~]/);function Gt(e){return null!==e&&(e<32||127===e)}function Qt(e){return null!==e&&(e<0||32===e)}function Xt(e){return null!==e&&e<-2}function Zt(e){return-2===e||-1===e||32===e}const Jt=en(/\s/),Yt=en(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function en(e){return function(t){return null!==t&&e.test(String.fromCharCode(t))}}const tn={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(t){return 87===t||119===t?(e.consume(t),o):n(t)}function o(t){return 87===t||119===t?(e.consume(t),r):n(t)}function r(t){return 46===t?(e.consume(t),s):n(t)}function s(e){return null===e||Xt(e)?n(e):t(e)}},partial:!0},nn={tokenize:function(e,t,n){let i,o;return r;function r(t){return 38===t?e.check(sn,a,s)(t):46===t||95===t?e.check(rn,a,s)(t):null===t||Gt(t)||Jt(t)||45!==t&&Yt(t)?a(t):(e.consume(t),r)}function s(t){return 46===t?(o=i,i=void 0,e.consume(t),r):(95===t&&(i=!0),e.consume(t),r)}function a(e){return o||i?n(e):t(e)}},partial:!0},on={tokenize:function(e,t){let n=0;return i;function i(s){return 38===s?e.check(sn,t,o)(s):(40===s&&n++,41===s?e.check(rn,r,o)(s):gn(s)?t(s):pn(s)?e.check(rn,t,o)(s):(e.consume(s),i))}function o(t){return e.consume(t),i}function r(e){return n--,n<0?t(e):o(e)}},partial:!0},rn={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(o){return pn(o)?(e.consume(o),i):gn(o)?t(o):n(o)}},partial:!0},sn={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(t){return jt(t)?(e.consume(t),i):59===t?(e.consume(t),o):n(t)}function o(e){return gn(e)?t(e):n(e)}},partial:!0},an={tokenize:function(e,t,n){const i=this;return function(t){if(87!==t&&119!==t||!mn(i.previous)||yn(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(tn,e.attempt(nn,e.attempt(on,o),n),n)(t)};function o(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:mn},ln={tokenize:function(e,t,n){const i=this;return function(t){if(72!==t&&104!==t||!vn(i.previous)||yn(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),e.consume(t),o};function o(t){return 84===t||116===t?(e.consume(t),r):n(t)}function r(t){return 84===t||116===t?(e.consume(t),s):n(t)}function s(t){return 80===t||112===t?(e.consume(t),a):n(t)}function a(t){return 83===t||115===t?(e.consume(t),l):l(t)}function l(t){return 58===t?(e.consume(t),c):n(t)}function c(t){return 47===t?(e.consume(t),u):n(t)}function u(t){return 47===t?(e.consume(t),d):n(t)}function d(t){return null===t||Gt(t)||Jt(t)||Yt(t)?n(t):e.attempt(nn,e.attempt(on,h),n)(t)}function h(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:vn},cn={tokenize:function(e,t,n){const i=this;let o,r;return function(t){if(!fn(t)||!bn(i.previous)||yn(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(t)};function s(t){return fn(t)?(e.consume(t),s):64===t?(e.consume(t),a):n(t)}function a(t){return 46===t?e.check(rn,d,l)(t):45===t||95===t?e.check(rn,n,c)(t):Ut(t)?(!r&&Vt(t)&&(r=!0),e.consume(t),a):d(t)}function l(t){return e.consume(t),o=!0,r=void 0,a}function c(t){return e.consume(t),u}function u(t){return 46===t?e.check(rn,n,l)(t):a(t)}function d(i){return o&&!r?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(i)):n(i)}},previous:bn},un={},dn={text:un};let hn=48;for(;hn<123;)un[hn]=cn,hn++,58===hn?hn=65:91===hn&&(hn=97);function pn(e){return 33===e||34===e||39===e||41===e||42===e||44===e||46===e||58===e||59===e||60===e||63===e||95===e||126===e}function gn(e){return null===e||60===e||Qt(e)}function fn(e){return 43===e||45===e||46===e||95===e||Ut(e)}function mn(e){return null===e||40===e||42===e||95===e||126===e||Qt(e)}function vn(e){return null===e||!jt(e)}function bn(e){return 47!==e&&vn(e)}function yn(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}un[43]=cn,un[45]=cn,un[46]=cn,un[95]=cn,un[72]=[cn,ln],un[104]=[cn,ln],un[87]=[cn,an],un[119]=[cn,an];const _n={'"':"quot","&":"amp","<":"lt",">":"gt"};function Cn(e,t){const n=function(e){const t=[];let n=-1,i=0,o=0;for(;++n<e.length;){const r=e.charCodeAt(n);let s="";if(37===r&&Ut(e.charCodeAt(n+1))&&Ut(e.charCodeAt(n+2)))o=2;else if(r<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(r))||(s=String.fromCharCode(r));else if(r>55295&&r<57344){const t=e.charCodeAt(n+1);r<56320&&t>56319&&t<57344?(s=String.fromCharCode(r,t),o=1):s=""}else s=String.fromCharCode(r);s&&(t.push(e.slice(i,n),encodeURIComponent(s)),i=n+o+1,s=""),o&&(n+=o,o=0)}return t.join("")+e.slice(i)}(e||"").replace(/["&<>]/g,(function(e){return"&"+_n[e]+";"}));if(!t)return n;const i=n.indexOf(":"),o=n.indexOf("?"),r=n.indexOf("#"),s=n.indexOf("/");return i<0||s>-1&&i>s||o>-1&&i>o||r>-1&&i>r||t.test(n.slice(0,i))?n:""}function xn(e,t,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let r=0;return function(i){if(Zt(i))return e.enter(n),s(i);return t(i)};function s(i){return Zt(i)&&r++<o?(e.consume(i),s):(e.exit(n),t(i))}}const Sn={tokenize:function(e,t,n){return xn(e,(function(e){return null===e||Xt(e)?t(e):n(e)}),"linePrefix")},partial:!0};function wn(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const kn={tokenize:function(e,t,n){const i=this;return xn(e,(function(e){const o=i.events[i.events.length-1];return o&&"gfmFootnoteDefinitionIndent"===o[1].type&&4===o[2].sliceSerialize(o[1],!0).length?t(e):n(e)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function En(e,t,n){const i=this;let o=i.events.length;const r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s;for(;o--;){const e=i.events[o][1];if("labelImage"===e.type){s=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(o){if(!s||!s._balanced)return n(o);const a=wn(i.sliceSerialize({start:s.end,end:i.now()}));if(94!==a.charCodeAt(0)||!r.includes(a.slice(1)))return n(o);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o)}}function Dn(e,t){let n,i=e.length;for(;i--;)if("labelImage"===e[i][1].type&&"enter"===e[i][0]){n=e[i][1];break}e[i+1][1].type="data",e[i+3][1].type="gfmFootnoteCallLabelMarker";const o={type:"gfmFootnoteCall",start:Object.assign({},e[i+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[i+3][1].end),end:Object.assign({},e[i+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[i+1],e[i+2],["enter",o,t],e[i+3],e[i+4],["enter",r,t],["exit",r,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",o,t]];return e.splice(i,e.length-i+1,...l),e}function In(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let r,s=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),a};function a(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(a){let u;return null===a||91===a||s++>999?n(a):93===a?r?(e.exit("chunkString"),u=e.exit("gfmFootnoteCallString"),o.includes(wn(i.sliceSerialize(u)))?function(n){return e.enter("gfmFootnoteCallLabelMarker"),e.consume(n),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t}(a):n(a)):n(a):(e.consume(a),Qt(a)||(r=!0),92===a?c:l)}function c(t){return 91===t||92===t||93===t?(e.consume(t),s++,l):l(t)}}function An(e,t,n){const i=this,o=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let r,s,a=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),c):n(t)}function c(t){let o;return null===t||91===t||a>999?n(t):93===t?s?(o=e.exit("gfmFootnoteDefinitionLabelString"),r=wn(i.sliceSerialize(o)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h):n(t):Xt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a++,c):(e.enter("chunkString").contentType="string",u(t))}function u(t){return null===t||Xt(t)||91===t||93===t||a>999?(e.exit("chunkString"),c(t)):(Qt(t)||(s=!0),a++,e.consume(t),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),a++,u):u(t)}function h(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),xn(e,p,"gfmFootnoteDefinitionWhitespace")):n(t)}function p(e){return o.includes(r)||o.push(r),t(e)}}function Rn(e,t,n){return e.check(Sn,t,e.attempt(kn,t,n))}function Ln(e){e.exit("gfmFootnoteDefinition")}function Mn(e){return null===e||Qt(e)||Jt(e)?1:Yt(e)?2:void 0}function Tn(e,t,n){const i=[];let o=-1;for(;++o<e.length;){const r=e[o].resolveAll;r&&!i.includes(r)&&(t=r(t,n),i.push(r))}return t}function Nn(e={}){let t=e.singleTilde;const n={tokenize:function(e,n,i){const o=this.previous,r=this.events;let s=0;return function(t){if(126!==t||126===o&&"characterEscape"!==r[r.length-1][1].type)return i(t);return e.enter("strikethroughSequenceTemporary"),a(t)};function a(r){const l=Mn(o);if(126===r)return s>1?i(r):(e.consume(r),s++,a);if(s<2&&!t)return i(r);const c=e.exit("strikethroughSequenceTemporary"),u=Mn(r);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(r)}},resolveAll:function(e,t){let n,i,o,r,s=-1;for(;++s<e.length;)if("enter"===e[s][0]&&"strikethroughSequenceTemporary"===e[s][1].type&&e[s][1]._close)for(o=s;o--;)if("exit"===e[o][0]&&"strikethroughSequenceTemporary"===e[o][1].type&&e[o][1]._open&&e[s][1].end.offset-e[s][1].start.offset==e[o][1].end.offset-e[o][1].start.offset){e[s][1].type="strikethroughSequence",e[o][1].type="strikethroughSequence",n={type:"strikethrough",start:Object.assign({},e[o][1].start),end:Object.assign({},e[s][1].end)},i={type:"strikethroughText",start:Object.assign({},e[o][1].end),end:Object.assign({},e[s][1].start)},r=[["enter",n,t],["enter",e[o][1],t],["exit",e[o][1],t],["enter",i,t]],Ot(r,r.length,0,Tn(t.parser.constructs.insideSpan.null,e.slice(o+1,s),t)),Ot(r,r.length,0,[["exit",i,t],["enter",e[s][1],t],["exit",e[s][1],t],["exit",n,t]]),Ot(e,o-1,s-o+3,r),s=o+r.length-2;break}s=-1;for(;++s<e.length;)"strikethroughSequenceTemporary"===e[s][1].type&&(e[s][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}const Pn={flow:{null:{tokenize:function(e,t,n){const i=this,o=[];let r,s,a=0;return function(t){if(e.enter("table")._align=o,e.enter("tableHead"),e.enter("tableRow"),124===t)return l(t);return a++,e.enter("temporaryTableCellContent"),d(t)};function l(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,c}function c(t){return null===t||Xt(t)?function(t){if(null===t)return n(t);return e.exit("tableRow"),e.exit("tableHead"),e.attempt({tokenize:R,partial:!0},p,n)(t)}(t):Zt(t)?(e.enter("whitespace"),e.consume(t),u):(r&&(r=void 0,a++),124===t?l(t):(e.enter("temporaryTableCellContent"),d(t)))}function u(t){return Zt(t)?(e.consume(t),u):(e.exit("whitespace"),c(t))}function d(t){return null===t||124===t||Qt(t)?(e.exit("temporaryTableCellContent"),c(t)):(e.consume(t),92===t?h:d)}function h(t){return 92===t||124===t?(e.consume(t),d):d(t)}function p(t){return e.check(On,n,xn(e,g,"linePrefix",4))(t)}function g(t){return null===t||Qt(t)?n(t):(e.enter("tableDelimiterRow"),f(t))}function f(t){return null===t||Xt(t)?_(t):Zt(t)?(e.enter("whitespace"),e.consume(t),m):45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,o.push(null),v):58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),o.push("left"),b):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):n(t)}function m(t){return Zt(t)?(e.consume(t),m):(e.exit("whitespace"),f(t))}function v(t){return 45===t?(e.consume(t),v):(e.exit("tableDelimiterFiller"),58===t?(e.enter("tableDelimiterAlignment"),e.consume(t),e.exit("tableDelimiterAlignment"),o[o.length-1]="left"===o[o.length-1]?"center":"right",y):f(t))}function b(t){return 45===t?(e.enter("tableDelimiterFiller"),e.consume(t),s=!0,v):n(t)}function y(t){return null===t||Xt(t)?_(t):Zt(t)?(e.enter("whitespace"),e.consume(t),m):124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),f):n(t)}function _(t){return e.exit("tableDelimiterRow"),s&&a===o.length?null===t?C(t):e.check(Fn,C,e.attempt({tokenize:R,partial:!0},xn(e,x,"linePrefix",4),C))(t):n(t)}function C(n){return e.exit("table"),t(n)}function x(t){return e.enter("tableBody"),S(t)}function S(t){return e.enter("tableRow"),124===t?w(t):(e.enter("temporaryTableCellContent"),D(t))}function w(t){return e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),k}function k(t){return null===t||Xt(t)?function(t){if(e.exit("tableRow"),null===t)return A(t);return e.check(Fn,A,e.attempt({tokenize:R,partial:!0},xn(e,S,"linePrefix",4),A))(t)}(t):Zt(t)?(e.enter("whitespace"),e.consume(t),E):124===t?w(t):(e.enter("temporaryTableCellContent"),D(t))}function E(t){return Zt(t)?(e.consume(t),E):(e.exit("whitespace"),k(t))}function D(t){return null===t||124===t||Qt(t)?(e.exit("temporaryTableCellContent"),k(t)):(e.consume(t),92===t?I:D)}function I(t){return 92===t||124===t?(e.consume(t),D):D(t)}function A(t){return e.exit("tableBody"),C(t)}function R(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},resolve:function(e,t){let n,i,o,r,s,a,l,c,u,d,h=-1;for(;++h<e.length;)n=e[h][1],r&&("temporaryTableCellContent"===n.type&&(c=c||h,u=h),"tableCellDivider"!==n.type&&"tableRow"!==n.type||!u||(a={type:"tableContent",start:e[c][1].start,end:e[u][1].end},l={type:"chunkText",start:a.start,end:a.end,contentType:"text"},e.splice(c,u-c+1,["enter",a,t],["enter",l,t],["exit",l,t],["exit",a,t]),h-=u-c-3,c=void 0,u=void 0)),"exit"===e[h][0]&&d&&d+1<h&&("tableCellDivider"===n.type||"tableRow"===n.type&&(d+3<h||"whitespace"!==e[d][1].type))&&(s={type:o?"tableDelimiter":i?"tableHeader":"tableData",start:e[d][1].start,end:e[h][1].end},e.splice(h+("tableCellDivider"===n.type?1:0),0,["exit",s,t]),e.splice(d,0,["enter",s,t]),h+=2,d=h+1),"tableRow"===n.type&&(r="enter"===e[h][0],r&&(d=h+1)),"tableDelimiterRow"===n.type&&(o="enter"===e[h][0],o&&(d=h+1)),"tableHead"===n.type&&(i="enter"===e[h][0]);return e}}}},On={tokenize:function(e,t,n){return function(t){if(45!==t)return n(t);return e.enter("setextUnderline"),i(t)};function i(t){return 45===t?(e.consume(t),i):o(t)}function o(i){return null===i||Xt(i)?t(i):Zt(i)?(e.consume(i),o):n(i)}},partial:!0},Fn={tokenize:function(e,t,n){let i=0;return function(t){return e.enter("check"),e.consume(t),o};function o(r){return-1===r||32===r?(e.consume(r),i++,4===i?t:o):null===r||Qt(r)?t(r):n(r)}},partial:!0};const zn=/<(\/?)(iframe|noembed|noframes|plaintext|script|style|title|textarea|xmp)(?=[\t\n\f\r />])/gi;new RegExp("^"+zn.source,"i");const Bn={text:{91:{tokenize:function(e,t,n){const i=this;return function(t){if(null!==i.previous||!i._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),o};function o(t){return Zt(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),r):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),r):n(t)}function r(i){return 93===i?(e.enter("taskListCheckMarker"),e.consume(i),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),e.check({tokenize:Hn},t,n)):n(i)}}}}};function Hn(e,t,n){const i=this;return xn(e,(function(e){const o=i.events[i.events.length-1];return o&&"whitespace"===o[1].type&&null!==e&&!Qt(e)?t(e):n(e)}),"whitespace")}function Wn(e){return Bt([dn,{document:{91:{tokenize:An,continuation:{tokenize:Rn},exit:Ln}},text:{91:{tokenize:In},93:{add:"after",tokenize:En,resolveTo:Dn}}},Nn(e),Pn,Bn])}function jn(e,t){var n,i=String(e),o=0;if("string"!=typeof t)throw new Error("Expected character");for(n=i.indexOf(t);-1!==n;)o++,n=i.indexOf(t,n+t.length);return o}function Vn(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}const Kn=function(e,t,n,i){"function"==typeof t&&"function"!=typeof n&&(i=n,n=t,t=null);var o=At(t),r=i?-1:1;!function e(s,a,l){var c,u="object"==typeof s&&null!==s?s:{};"string"==typeof u.type&&(c="string"==typeof u.tagName?u.tagName:"string"==typeof u.name?u.name:void 0,Object.defineProperty(d,"name",{value:"node ("+u.type+(c?"<"+c+">":"")+")"}));return d;function d(){var c,u,d,h=[];if((!t||o(s,a,l[l.length-1]||null))&&false===(h=function(e){return Array.isArray(e)?e:"number"==typeof e?[true,e]:[e]}(n(s,l)))[0])return h;if(s.children&&"skip"!==h[0])for(u=(i?s.children.length:-1)+r,d=l.concat(s);u>-1&&u<s.children.length;){if(false===(c=e(s.children[u],u,d)())[0])return c;u="number"==typeof c[1]?c[1]:u+r}return h}}(e,null,[])()};const Un={}.hasOwnProperty,qn=function(e,t,n,i){let o,r;"string"==typeof t||t instanceof RegExp?(r=[[t,n]],o=i):(r=t,o=n),o||(o={});const s=At(o.ignore||[]),a=function(e){const t=[];if("object"!=typeof e)throw new TypeError("Expected array or object as schema");if(Array.isArray(e)){let n=-1;for(;++n<e.length;)t.push([$n(e[n][0]),Gn(e[n][1])])}else{let n;for(n in e)Un.call(e,n)&&t.push([$n(n),Gn(e[n])])}return t}(r);let l=-1;for(;++l<a.length;)Kn(e,"text",c);return e;function c(e,t){let n,i=-1;for(;++i<t.length;){const e=t[i];if(s(e,n?n.children.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=a[l][0],i=a[l][1];let o,r=0,s=t.children.indexOf(e),c=[];n.lastIndex=0;let u=n.exec(e.value);for(;u;){o=u.index;let t=i(...u,{index:u.index,input:u.input});if("string"==typeof t&&(t=t.length>0?{type:"text",value:t}:void 0),!1!==t&&(r!==o&&c.push({type:"text",value:e.value.slice(r,o)}),Array.isArray(t)?c.push(...t):t&&c.push(t),r=o+u[0].length),!n.global)break;u=n.exec(e.value)}void 0===o?(c=[e],s--):(r<e.value.length&&c.push({type:"text",value:e.value.slice(r)}),t.children.splice(s,1,...c));return s+c.length+1}(e,n)}};function $n(e){return"string"==typeof e?new RegExp(Vn(e),"g"):e}function Gn(e){return"function"==typeof e?e:()=>e}const Qn=["autolink","link","image","label"],Xn={transforms:[function(e){qn(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Yn],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,ei]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(e){this.enter({type:"link",title:null,url:"",children:[]},e)},literalAutolinkEmail:Jn,literalAutolinkHttp:Jn,literalAutolinkWww:Jn},exit:{literalAutolink:function(e){this.exit(e)},literalAutolinkEmail:function(e){this.config.exit.autolinkEmail.call(this,e)},literalAutolinkHttp:function(e){this.config.exit.autolinkProtocol.call(this,e)},literalAutolinkWww:function(e){this.config.exit.data.call(this,e);this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(e)}}},Zn={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:"phrasing",notInConstruct:Qn},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:"phrasing",notInConstruct:Qn},{character:":",before:"[ps]",after:"\\/",inConstruct:"phrasing",notInConstruct:Qn}]};function Jn(e){this.config.enter.autolinkProtocol.call(this,e)}function Yn(e,t,n,i,o){let r="";if(!ti(o))return!1;if(/^w/i.test(t)&&(n=t+n,t="",r="http://"),!function(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}(n))return!1;const s=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);let n,i,o,r;if(t)for(e=e.slice(0,t.index),r=t[0],n=r.indexOf(")"),i=jn(e,"("),o=jn(e,")");-1!==n&&i>o;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),o++;return[e,r]}(n+i);if(!s[0])return!1;const a={type:"link",title:null,url:r+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function ei(e,t,n,i){return!(!ti(i,!0)||/[_-]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ti(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||Jt(n)||Yt(n))&&(!t||47!==n)}var ni={AEli:"",AElig:"",AM:"&",AMP:"&",Aacut:"",Aacute:"",Abreve:"",Acir:"",Acirc:"",Acy:"",Afr:"",Agrav:"",Agrave:"",Alpha:"",Amacr:"",And:"",Aogon:"",Aopf:"",ApplyFunction:"",Arin:"",Aring:"",Ascr:"",Assign:"",Atild:"",Atilde:"",Aum:"",Auml:"",Backslash:"",Barv:"",Barwed:"",Bcy:"",Because:"",Bernoullis:"",Beta:"",Bfr:"",Bopf:"",Breve:"",Bscr:"",Bumpeq:"",CHcy:"",COP:"",COPY:"",Cacute:"",Cap:"",CapitalDifferentialD:"",Cayleys:"",Ccaron:"",Ccedi:"",Ccedil:"",Ccirc:"",Cconint:"",Cdot:"",Cedilla:"",CenterDot:"",Cfr:"",Chi:"",CircleDot:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",Colon:"",Colone:"",Congruent:"",Conint:"",ContourIntegral:"",Copf:"",Coproduct:"",CounterClockwiseContourIntegral:"",Cross:"",Cscr:"",Cup:"",CupCap:"",DD:"",DDotrahd:"",DJcy:"",DScy:"",DZcy:"",Dagger:"",Darr:"",Dashv:"",Dcaron:"",Dcy:"",Del:"",Delta:"",Dfr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",Diamond:"",DifferentialD:"",Dopf:"",Dot:"",DotDot:"",DotEqual:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",Downarrow:"",Dscr:"",Dstrok:"",ENG:"",ET:"",ETH:"",Eacut:"",Eacute:"",Ecaron:"",Ecir:"",Ecirc:"",Ecy:"",Edot:"",Efr:"",Egrav:"",Egrave:"",Element:"",Emacr:"",EmptySmallSquare:"",EmptyVerySmallSquare:"",Eogon:"",Eopf:"",Epsilon:"",Equal:"",EqualTilde:"",Equilibrium:"",Escr:"",Esim:"",Eta:"",Eum:"",Euml:"",Exists:"",ExponentialE:"",Fcy:"",Ffr:"",FilledSmallSquare:"",FilledVerySmallSquare:"",Fopf:"",ForAll:"",Fouriertrf:"",Fscr:"",GJcy:"",G:">",GT:">",Gamma:"",Gammad:"",Gbreve:"",Gcedil:"",Gcirc:"",Gcy:"",Gdot:"",Gfr:"",Gg:"",Gopf:"",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",Gt:"",HARDcy:"",Hacek:"",Hat:"^",Hcirc:"",Hfr:"",HilbertSpace:"",Hopf:"",HorizontalLine:"",Hscr:"",Hstrok:"",HumpDownHump:"",HumpEqual:"",IEcy:"",IJlig:"",IOcy:"",Iacut:"",Iacute:"",Icir:"",Icirc:"",Icy:"",Idot:"",Ifr:"",Igrav:"",Igrave:"",Im:"",Imacr:"",ImaginaryI:"",Implies:"",Int:"",Integral:"",Intersection:"",InvisibleComma:"",InvisibleTimes:"",Iogon:"",Iopf:"",Iota:"",Iscr:"",Itilde:"",Iukcy:"",Ium:"",Iuml:"",Jcirc:"",Jcy:"",Jfr:"",Jopf:"",Jscr:"",Jsercy:"",Jukcy:"",KHcy:"",KJcy:"",Kappa:"",Kcedil:"",Kcy:"",Kfr:"",Kopf:"",Kscr:"",LJcy:"",L:"<",LT:"<",Lacute:"",Lambda:"",Lang:"",Laplacetrf:"",Larr:"",Lcaron:"",Lcedil:"",Lcy:"",LeftAngleBracket:"",LeftArrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",LeftRightArrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",Leftarrow:"",Leftrightarrow:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",LessLess:"",LessSlantEqual:"",LessTilde:"",Lfr:"",Ll:"",Lleftarrow:"",Lmidot:"",LongLeftArrow:"",LongLeftRightArrow:"",LongRightArrow:"",Longleftarrow:"",Longleftrightarrow:"",Longrightarrow:"",Lopf:"",LowerLeftArrow:"",LowerRightArrow:"",Lscr:"",Lsh:"",Lstrok:"",Lt:"",Map:"",Mcy:"",MediumSpace:"",Mellintrf:"",Mfr:"",MinusPlus:"",Mopf:"",Mscr:"",Mu:"",NJcy:"",Nacute:"",Ncaron:"",Ncedil:"",Ncy:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",Nfr:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",Not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",Nscr:"",Ntild:"",Ntilde:"",Nu:"",OElig:"",Oacut:"",Oacute:"",Ocir:"",Ocirc:"",Ocy:"",Odblac:"",Ofr:"",Ograv:"",Ograve:"",Omacr:"",Omega:"",Omicron:"",Oopf:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",Or:"",Oscr:"",Oslas:"",Oslash:"",Otild:"",Otilde:"",Otimes:"",Oum:"",Ouml:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",PartialD:"",Pcy:"",Pfr:"",Phi:"",Pi:"",PlusMinus:"",Poincareplane:"",Popf:"",Pr:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",Prime:"",Product:"",Proportion:"",Proportional:"",Pscr:"",Psi:"",QUO:'"',QUOT:'"',Qfr:"",Qopf:"",Qscr:"",RBarr:"",RE:"",REG:"",Racute:"",Rang:"",Rarr:"",Rarrtl:"",Rcaron:"",Rcedil:"",Rcy:"",Re:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",Rfr:"",Rho:"",RightAngleBracket:"",RightArrow:"",RightArrowBar:"",RightArrowLeftArrow:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",Rightarrow:"",Ropf:"",RoundImplies:"",Rrightarrow:"",Rscr:"",Rsh:"",RuleDelayed:"",SHCHcy:"",SHcy:"",SOFTcy:"",Sacute:"",Sc:"",Scaron:"",Scedil:"",Scirc:"",Scy:"",Sfr:"",ShortDownArrow:"",ShortLeftArrow:"",ShortRightArrow:"",ShortUpArrow:"",Sigma:"",SmallCircle:"",Sopf:"",Sqrt:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",Sscr:"",Star:"",Sub:"",Subset:"",SubsetEqual:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",SuchThat:"",Sum:"",Sup:"",Superset:"",SupersetEqual:"",Supset:"",THOR:"",THORN:"",TRADE:"",TSHcy:"",TScy:"",Tab:"\t",Tau:"",Tcaron:"",Tcedil:"",Tcy:"",Tfr:"",Therefore:"",Theta:"",ThickSpace:"",ThinSpace:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",Topf:"",TripleDot:"",Tscr:"",Tstrok:"",Uacut:"",Uacute:"",Uarr:"",Uarrocir:"",Ubrcy:"",Ubreve:"",Ucir:"",Ucirc:"",Ucy:"",Udblac:"",Ufr:"",Ugrav:"",Ugrave:"",Umacr:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",Uopf:"",UpArrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",UpEquilibrium:"",UpTee:"",UpTeeArrow:"",Uparrow:"",Updownarrow:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",Upsilon:"",Uring:"",Uscr:"",Utilde:"",Uum:"",Uuml:"",VDash:"",Vbar:"",Vcy:"",Vdash:"",Vdashl:"",Vee:"",Verbar:"",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",Vopf:"",Vscr:"",Vvdash:"",Wcirc:"",Wedge:"",Wfr:"",Wopf:"",Wscr:"",Xfr:"",Xi:"",Xopf:"",Xscr:"",YAcy:"",YIcy:"",YUcy:"",Yacut:"",Yacute:"",Ycirc:"",Ycy:"",Yfr:"",Yopf:"",Yscr:"",Yuml:"",ZHcy:"",Zacute:"",Zcaron:"",Zcy:"",Zdot:"",ZeroWidthSpace:"",Zeta:"",Zfr:"",Zopf:"",Zscr:"",aacut:"",aacute:"",abreve:"",ac:"",acE:"",acd:"",acir:"",acirc:"",acut:"",acute:"",acy:"",aeli:"",aelig:"",af:"",afr:"",agrav:"",agrave:"",alefsym:"",aleph:"",alpha:"",amacr:"",amalg:"",am:"&",amp:"&",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",aogon:"",aopf:"",ap:"",apE:"",apacir:"",ape:"",apid:"",apos:"'",approx:"",approxeq:"",arin:"",aring:"",ascr:"",ast:"*",asymp:"",asympeq:"",atild:"",atilde:"",aum:"",auml:"",awconint:"",awint:"",bNot:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",barvee:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",bcy:"",bdquo:"",becaus:"",because:"",bemptyv:"",bepsi:"",bernou:"",beta:"",beth:"",between:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bnot:"",bopf:"",bot:"",bottom:"",bowtie:"",boxDL:"",boxDR:"",boxDl:"",boxDr:"",boxH:"",boxHD:"",boxHU:"",boxHd:"",boxHu:"",boxUL:"",boxUR:"",boxUl:"",boxUr:"",boxV:"",boxVH:"",boxVL:"",boxVR:"",boxVh:"",boxVl:"",boxVr:"",boxbox:"",boxdL:"",boxdR:"",boxdl:"",boxdr:"",boxh:"",boxhD:"",boxhU:"",boxhd:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxuL:"",boxuR:"",boxul:"",boxur:"",boxv:"",boxvH:"",boxvL:"",boxvR:"",boxvh:"",boxvl:"",boxvr:"",bprime:"",breve:"",brvba:"",brvbar:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",bumpeq:"",cacute:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",caps:"",caret:"",caron:"",ccaps:"",ccaron:"",ccedi:"",ccedil:"",ccirc:"",ccups:"",ccupssm:"",cdot:"",cedi:"",cedil:"",cemptyv:"",cen:"",cent:"",centerdot:"",cfr:"",chcy:"",check:"",checkmark:"",chi:"",cir:"",cirE:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledR:"",circledS:"",circledast:"",circledcirc:"",circleddash:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",clubs:"",clubsuit:"",colon:":",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",conint:"",copf:"",coprod:"",cop:"",copy:"",copysr:"",crarr:"",cross:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cup:"",cupbrcap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curre:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dArr:"",dHar:"",dagger:"",daleth:"",darr:"",dash:"",dashv:"",dbkarow:"",dblac:"",dcaron:"",dcy:"",dd:"",ddagger:"",ddarr:"",ddotseq:"",de:"",deg:"",delta:"",demptyv:"",dfisht:"",dfr:"",dharl:"",dharr:"",diam:"",diamond:"",diamondsuit:"",diams:"",die:"",digamma:"",disin:"",div:"",divid:"",divide:"",divideontimes:"",divonx:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",dopf:"",dot:"",doteq:"",doteqdot:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",downarrow:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",drbkarow:"",drcorn:"",drcrop:"",dscr:"",dscy:"",dsol:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",dzcy:"",dzigrarr:"",eDDot:"",eDot:"",eacut:"",eacute:"",easter:"",ecaron:"",ecir:"",ecirc:"",ecolon:"",ecy:"",edot:"",ee:"",efDot:"",efr:"",eg:"",egrav:"",egrave:"",egs:"",egsdot:"",el:"",elinters:"",ell:"",els:"",elsdot:"",emacr:"",empty:"",emptyset:"",emptyv:"",emsp13:"",emsp14:"",emsp:"",eng:"",ensp:"",eogon:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",equals:"=",equest:"",equiv:"",equivDD:"",eqvparsl:"",erDot:"",erarr:"",escr:"",esdot:"",esim:"",eta:"",et:"",eth:"",eum:"",euml:"",euro:"",excl:"!",exist:"",expectation:"",exponentiale:"",fallingdotseq:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",ffr:"",filig:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",fopf:"",forall:"",fork:"",forkv:"",fpartint:"",frac1:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac3:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",gE:"",gEl:"",gacute:"",gamma:"",gammad:"",gap:"",gbreve:"",gcirc:"",gcy:"",gdot:"",ge:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",gfr:"",gg:"",ggg:"",gimel:"",gjcy:"",gl:"",glE:"",gla:"",glj:"",gnE:"",gnap:"",gnapprox:"",gne:"",gneq:"",gneqq:"",gnsim:"",gopf:"",grave:"`",gscr:"",gsim:"",gsime:"",gsiml:"",g:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",hArr:"",hairsp:"",half:"",hamilt:"",hardcy:"",harr:"",harrcir:"",harrw:"",hbar:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",horbar:"",hscr:"",hslash:"",hstrok:"",hybull:"",hyphen:"",iacut:"",iacute:"",ic:"",icir:"",icirc:"",icy:"",iecy:"",iexc:"",iexcl:"",iff:"",ifr:"",igrav:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",ijlig:"",imacr:"",image:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",in:"",incare:"",infin:"",infintie:"",inodot:"",int:"",intcal:"",integers:"",intercal:"",intlarhk:"",intprod:"",iocy:"",iogon:"",iopf:"",iota:"",iprod:"",iques:"",iquest:"",iscr:"",isin:"",isinE:"",isindot:"",isins:"",isinsv:"",isinv:"",it:"",itilde:"",iukcy:"",ium:"",iuml:"",jcirc:"",jcy:"",jfr:"",jmath:"",jopf:"",jscr:"",jsercy:"",jukcy:"",kappa:"",kappav:"",kcedil:"",kcy:"",kfr:"",kgreen:"",khcy:"",kjcy:"",kopf:"",kscr:"",lAarr:"",lArr:"",lAtail:"",lBarr:"",lE:"",lEg:"",lHar:"",lacute:"",laemptyv:"",lagran:"",lambda:"",lang:"",langd:"",langle:"",lap:"",laqu:"",laquo:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",latail:"",late:"",lates:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",lcaron:"",lcedil:"",lceil:"",lcub:"{",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",leftarrow:"",leftarrowtail:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",leftthreetimes:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",lessgtr:"",lesssim:"",lfisht:"",lfloor:"",lfr:"",lg:"",lgE:"",lhard:"",lharu:"",lharul:"",lhblk:"",ljcy:"",ll:"",llarr:"",llcorner:"",llhard:"",lltri:"",lmidot:"",lmoust:"",lmoustache:"",lnE:"",lnap:"",lnapprox:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",longleftrightarrow:"",longmapsto:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",lstrok:"",l:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltrPar:"",ltri:"",ltrie:"",ltrif:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",mDDot:"",mac:"",macr:"",male:"",malt:"",maltese:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",mcy:"",mdash:"",measuredangle:"",mfr:"",mho:"",micr:"",micro:"",mid:"",midast:"*",midcir:"",middo:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",mlcp:"",mldr:"",mnplus:"",models:"",mopf:"",mp:"",mscr:"",mstpos:"",mu:"",multimap:"",mumap:"",nGg:"",nGt:"",nGtv:"",nLeftarrow:"",nLeftrightarrow:"",nLl:"",nLt:"",nLtv:"",nRightarrow:"",nVDash:"",nVdash:"",nabla:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbs:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",ncaron:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",ncy:"",ndash:"",ne:"",neArr:"",nearhk:"",nearr:"",nearrow:"",nedot:"",nequiv:"",nesear:"",nesim:"",nexist:"",nexists:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",ngsim:"",ngt:"",ngtr:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",njcy:"",nlArr:"",nlE:"",nlarr:"",nldr:"",nle:"",nleftarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nlsim:"",nlt:"",nltri:"",nltrie:"",nmid:"",nopf:"",no:"",not:"",notin:"",notinE:"",notindot:"",notinva:"",notinvb:"",notinvc:"",notni:"",notniva:"",notnivb:"",notnivc:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",ntild:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",nu:"",num:"#",numero:"",numsp:"",nvDash:"",nvHarr:"",nvap:"",nvdash:"",nvge:"",nvgt:">",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwArr:"",nwarhk:"",nwarr:"",nwarrow:"",nwnear:"",oS:"",oacut:"",oacute:"",oast:"",ocir:"",ocirc:"",ocy:"",odash:"",odblac:"",odiv:"",odot:"",odsold:"",oelig:"",ofcir:"",ofr:"",ogon:"",ograv:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",omacr:"",omega:"",omicron:"",omid:"",ominus:"",oopf:"",opar:"",operp:"",oplus:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oscr:"",oslas:"",oslash:"",osol:"",otild:"",otilde:"",otimes:"",otimesas:"",oum:"",ouml:"",ovbar:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",pfr:"",phi:"",phiv:"",phmmat:"",phone:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",plusm:"",plusmn:"",plussim:"",plustwo:"",pm:"",pointint:"",popf:"",poun:"",pound:"",pr:"",prE:"",prap:"",prcue:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",prime:"",primes:"",prnE:"",prnap:"",prnsim:"",prod:"",profalar:"",profline:"",profsurf:"",prop:"",propto:"",prsim:"",prurel:"",pscr:"",psi:"",puncsp:"",qfr:"",qint:"",qopf:"",qprime:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quo:'"',quot:'"',rAarr:"",rArr:"",rAtail:"",rBarr:"",rHar:"",race:"",racute:"",radic:"",raemptyv:"",rang:"",rangd:"",range:"",rangle:"",raqu:"",raquo:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",rarrtl:"",rarrw:"",ratail:"",ratio:"",rationals:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",rcaron:"",rcedil:"",rceil:"",rcub:"}",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",rect:"",re:"",reg:"",rfisht:"",rfloor:"",rfr:"",rhard:"",rharu:"",rharul:"",rho:"",rhov:"",rightarrow:"",rightarrowtail:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",rightthreetimes:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",roplus:"",rotimes:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",rsaquo:"",rscr:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",ruluhar:"",rx:"",sacute:"",sbquo:"",sc:"",scE:"",scap:"",scaron:"",sccue:"",sce:"",scedil:"",scirc:"",scnE:"",scnap:"",scnsim:"",scpolint:"",scsim:"",scy:"",sdot:"",sdotb:"",sdote:"",seArr:"",searhk:"",searr:"",searrow:"",sec:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",sfr:"",sfrown:"",sharp:"",shchcy:"",shcy:"",shortmid:"",shortparallel:"",sh:"",shy:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",softcy:"",sol:"/",solb:"",solbar:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",square:"",squarf:"",squf:"",srarr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",subE:"",subdot:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",subseteq:"",subseteqq:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",sum:"",sung:"",sup:"",sup1:"",sup2:"",sup3:"",supE:"",supdot:"",supdsub:"",supe:"",supedot:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swArr:"",swarhk:"",swarr:"",swarrow:"",swnwar:"",szli:"",szlig:"",target:"",tau:"",tbrk:"",tcaron:"",tcedil:"",tcy:"",tdot:"",telrec:"",tfr:"",there4:"",therefore:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",thinsp:"",thkap:"",thksim:"",thor:"",thorn:"",tilde:"",time:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",triplus:"",trisb:"",tritime:"",trpezium:"",tscr:"",tscy:"",tshcy:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",uArr:"",uHar:"",uacut:"",uacute:"",uarr:"",ubrcy:"",ubreve:"",ucir:"",ucirc:"",ucy:"",udarr:"",udblac:"",udhar:"",ufisht:"",ufr:"",ugrav:"",ugrave:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",umacr:"",um:"",uml:"",uogon:"",uopf:"",uparrow:"",updownarrow:"",upharpoonleft:"",upharpoonright:"",uplus:"",upsi:"",upsih:"",upsilon:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",uring:"",urtri:"",uscr:"",utdot:"",utilde:"",utri:"",utrif:"",uuarr:"",uum:"",uuml:"",uwangle:"",vArr:"",vBar:"",vBarv:"",vDash:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vcy:"",vdash:"",vee:"",veebar:"",veeeq:"",vellip:"",verbar:"|",vert:"|",vfr:"",vltri:"",vnsub:"",vnsup:"",vopf:"",vprop:"",vrtri:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",vzigzag:"",wcirc:"",wedbar:"",wedge:"",wedgeq:"",weierp:"",wfr:"",wopf:"",wp:"",wr:"",wreath:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",xfr:"",xhArr:"",xharr:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",yacut:"",yacute:"",yacy:"",ycirc:"",ycy:"",ye:"",yen:"",yfr:"",yicy:"",yopf:"",yscr:"",yucy:"",yum:"",yuml:"",zacute:"",zcaron:"",zcy:"",zdot:"",zeetrf:"",zeta:"",zfr:"",zhcy:"",zigrarr:"",zopf:"",zscr:"",zwj:"",zwnj:""};const ii={}.hasOwnProperty;function oi(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"":String.fromCharCode(n)}const ri=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function si(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return oi(n.slice(t?2:1),t?16:10)}return i=n,!!ii.call(ni,i)&&ni[i]||e;var i}function ai(e){return e.label||!e.identifier?e.label||"":e.identifier.replace(ri,si)}function li(e){const t=e||{},n=t.now||{};let i=t.lineShift||0,o=n.line||1,r=n.column||1;return{move:function(e=""){const t=e.split(/\r?\n|\r/g),n=t[t.length-1];return o+=t.length-1,r=1===t.length?r+n.length:1+n.length+i,e},current:function(){return{now:{line:o,column:r},lineShift:i}},shift:function(e){i+=e}}}function ci(e,t,n){const i=t.indexStack,o=e.children||[],r=li(n),s=[];let a=-1;for(i.push(-1);++a<o.length;){const n=o[a];i[i.length-1]=a,s.push(r.move(t.handle(n,e,t,{before:"\n",after:"\n",...r.current()}))),"list"!==n.type&&(t.bulletLastUsed=void 0),a<o.length-1&&s.push(r.move(l(n,o[a+1])))}return i.pop(),s.join("");function l(n,i){let o=t.join.length;for(;o--;){const r=t.join[o](n,i,e,t);if(!0===r||1===r)break;if("number"==typeof r)return"\n".repeat(1+r);if(!1===r)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}const ui=/\r?\n|\r/g;function di(e,t){const n=[];let i,o=0,r=0;for(;i=ui.exec(e);)s(e.slice(o,i.index)),n.push(i[0]),o=i.index+i[0].length,r++;return s(e.slice(o)),n.join("");function s(e){n.push(t(e,r,!e))}}function hi(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function pi(e,t){return gi(e,t.inConstruct,!0)&&!gi(e,t.notInConstruct,!1)}function gi(e,t,n){if(!t)return n;"string"==typeof t&&(t=[t]);let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function fi(e,t,n){const i=(n.before||"")+(t||"")+(n.after||""),o=[],r=[],s={};let a=-1;for(;++a<e.unsafe.length;){const t=e.unsafe[a];if(!pi(e.stack,t))continue;const n=hi(t);let r;for(;r=n.exec(i);){const e="before"in t||Boolean(t.atBreak),n="after"in t,i=r.index+(e?r[1].length:0);o.includes(i)?(s[i].before&&!e&&(s[i].before=!1),s[i].after&&!n&&(s[i].after=!1)):(o.push(i),s[i]={before:e,after:n})}}o.sort(mi);let l=n.before?n.before.length:0;const c=i.length-(n.after?n.after.length:0);for(a=-1;++a<o.length;){const e=o[a];e<l||e>=c||(e+1<c&&o[a+1]===e+1&&s[e].after&&!s[e+1].before&&!s[e+1].after||o[a-1]===e-1&&s[e].before&&!s[e-1].before&&!s[e-1].after||(l!==e&&r.push(vi(i.slice(l,e),"\\")),l=e,!/[!-/:-@[-`{-~]/.test(i.charAt(e))||n.encode&&n.encode.includes(i.charAt(e))?(r.push("&#x"+i.charCodeAt(e).toString(16).toUpperCase()+";"),l++):r.push("\\")))}return r.push(vi(i.slice(l,c),n.after)),r.join("")}function mi(e,t){return e-t}function vi(e,t){const n=/\\(?=[!-/:-@[-`{-~])/g,i=[],o=[],r=e+t;let s,a=-1,l=0;for(;s=n.exec(r);)i.push(s.index);for(;++a<i.length;)l!==i[a]&&o.push(e.slice(l,i[a])),o.push("\\"),l=i[a];return o.push(e.slice(l)),o.join("")}function bi(){return e.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(e,t,n,i){const o=li(i);let r=o.move("[^");const s=n.enter("footnoteDefinition"),a=n.enter("label");return r+=o.move(fi(n,ai(e),{...o.current(),before:r,after:"]"})),a(),r+=o.move("]:"+(e.children&&e.children.length>0?" ":"")),o.shift(4),r+=o.move(di(ci(e,n,o.current()),(function(e,t,n){if(t)return(n?"":"    ")+e;return e}))),s(),r},footnoteReference:e}};function e(e,t,n,i){const o=li(i);let r=o.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return r+=o.move(fi(n,ai(e),{...o.current(),before:r,after:"]"})),a(),s(),r+=o.move("]"),r}}function yi(e,t,n){const i=t.indexStack,o=e.children||[],r=[];let s=-1,a=n.before;for(i.push(-1);++s<o.length;){const l=o[s];let c;if(i[i.length-1]=s,s+1<o.length){let n=t.handle.handlers[o[s+1].type];n&&n.peek&&(n=n.peek),c=n?n(o[s+1],e,t,{before:"",after:""}).charAt(0):""}else c=n.after;r.length>0&&("\r"===a||"\n"===a)&&"html"===l.type&&(r[r.length-1]=r[r.length-1].replace(/(\r?\n|\r)$/," "),a=" "),r.push(t.handle(l,e,t,{before:a,after:c})),a=r[r.length-1].slice(-1)}return i.pop(),r.join("")}const _i={canContainEols:["delete"],enter:{strikethrough:function(e){this.enter({type:"delete",children:[]},e)}},exit:{strikethrough:function(e){this.exit(e)}}},Ci={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:xi}};function xi(e,t,n){const i=n.enter("emphasis"),o=yi(e,n,{before:"~",after:"~"});return i(),"~~"+o+"~~"}function Si(e){if(!e._compiled){const t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function wi(e,t,n){let i=e.value||"",o="`",r=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++r<n.unsafe.length;){const e=n.unsafe[r],t=Si(e);let o;if(e.atBreak)for(;o=t.exec(i);){let e=o.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(o.index+1)}}return o+i+o}function ki(e,t){const n=t||{},i=(n.align||[]).concat(),o=n.stringLength||Ei,r=[];let s=-1;const a=[],l=[],c=[];let u,d,h,p,g,f,m,v,b,y=0;for(;++s<e.length;){for(u=-1,d=[],h=[],e[s].length>y&&(y=e[s].length);++u<e[s].length;)g=null==(_=e[s][u])?"":String(_),!1!==n.alignDelimiters&&(p=o(g),h[u]=p,(void 0===c[u]||p>c[u])&&(c[u]=p)),d.push(g);a[s]=d,l[s]=h}var _;if(u=-1,"object"==typeof i&&"length"in i)for(;++u<y;)r[u]=Di(i[u]);else for(b=Di(i);++u<y;)r[u]=b;for(u=-1,d=[],h=[];++u<y;)b=r[u],m="",v="",99===b?(m=":",v=":"):108===b?m=":":114===b&&(v=":"),p=!1===n.alignDelimiters?1:Math.max(1,c[u]-m.length-v.length),g=m+"-".repeat(p)+v,!1!==n.alignDelimiters&&(p=m.length+p+v.length,p>c[u]&&(c[u]=p),h[u]=p),d[u]=g;a.splice(1,0,d),l.splice(1,0,h),s=-1;const C=[];for(;++s<a.length;){for(d=a[s],h=l[s],u=-1,f=[];++u<y;)g=d[u]||"",m="",v="",!1!==n.alignDelimiters&&(p=c[u]-(h[u]||0),b=r[u],114===b?m=" ".repeat(p):99===b?p%2?(m=" ".repeat(p/2+.5),v=" ".repeat(p/2-.5)):(m=" ".repeat(p/2),v=m):v=" ".repeat(p)),!1===n.delimiterStart||u||f.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===g||!1===n.delimiterStart&&!u||f.push(" "),!1!==n.alignDelimiters&&f.push(m),f.push(g),!1!==n.alignDelimiters&&f.push(v),!1!==n.padding&&f.push(" "),!1===n.delimiterEnd&&u===y-1||f.push("|");C.push(!1===n.delimiterEnd?f.join("").replace(/ +$/,""):f.join(""))}return C.join("\n")}function Ei(e){return e.length}function Di(e){const t="string"==typeof e?e.charCodeAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}xi.peek=function(){return"~"},wi.peek=function(){return"`"};const Ii={enter:{table:function(e){const t=e._align;this.enter({type:"table",align:t,children:[]},e),this.setData("inTable",!0)},tableData:Ri,tableHeader:Ri,tableRow:function(e){this.enter({type:"tableRow",children:[]},e)}},exit:{codeText:function(e){let t=this.resume();this.getData("inTable")&&(t=t.replace(/\\([\\|])/g,Li));this.stack[this.stack.length-1].value=t,this.exit(e)},table:function(e){this.exit(e),this.setData("inTable")},tableData:Ai,tableHeader:Ai,tableRow:Ai}};function Ai(e){this.exit(e)}function Ri(e){this.enter({type:"tableCell",children:[]},e)}function Li(e,t){return"|"===t?t:e}function Mi(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,o=t.stringLength,r=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(e,t,n){return a(function(e,t){const n=e.children;let i=-1;const o=[],r=t.enter("table");for(;++i<n.length;)o[i]=l(n[i],t);return r(),o}(e,n),e.align)},tableRow:function(e,t,n){const i=a([l(e,n)]);return i.slice(0,i.indexOf("\n"))},tableCell:s,inlineCode:function(e,t,n){let i=wi(e,0,n);n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&"));return i}}};function s(e,t,n){const i=n.enter("tableCell"),o=n.enter("phrasing"),s=yi(e,n,{before:r,after:r});return o(),i(),s}function a(e,t){return ki(e,{align:t,alignDelimiters:i,padding:n,stringLength:o})}function l(e,t){const n=e.children;let i=-1;const o=[],r=t.enter("tableRow");for(;++i<n.length;)o[i]=s(n[i],0,t);return r(),o}}function Ti(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Ni(e){const t=e.options.listItemIndent||"tab";if(1===t||"1"===t)return"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Pi(e,t){const n=t.indexStack,i=e.children||[],o=[];let r=-1;for(n.push(-1);++r<i.length;){const a=i[r];n[n.length-1]=r,o.push(t.handle(a,e,t,{before:"\n",after:"\n"})),"list"!==a.type&&(t.bulletLastUsed=void 0),r<i.length-1&&o.push(s(a,i[r+1]))}return n.pop(),o.join("");function s(n,i){let o=t.join.length;for(;o--;){const r=t.join[o](n,i,e,t);if(!0===r||1===r)break;if("number"==typeof r)return"\n".repeat(1+r);if(!1===r)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}const Oi=/\r?\n|\r/g;function Fi(e,t){const n=[];let i,o=0,r=0;for(;i=Oi.exec(e);)s(e.slice(o,i.index)),n.push(i[0]),o=i.index+i[0].length,r++;return s(e.slice(o)),n.join("");function s(e){n.push(t(e,r,!e))}}function zi(e,t,n){const i=Ni(n);let o=n.bulletCurrent||Ti(n);t&&"list"===t.type&&t.ordered&&(o=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+o);let r=o.length+1;("tab"===i||"mixed"===i&&(t&&"list"===t.type&&t.spread||e.spread))&&(r=4*Math.ceil(r/4));const s=n.enter("listItem"),a=Fi(Pi(e,n),(function(e,t,n){if(t)return(n?"":" ".repeat(r))+e;return(n?o:o+" ".repeat(r-o.length))+e}));return s(),a}const Bi={exit:{taskListCheckValueChecked:Wi,taskListCheckValueUnchecked:Wi,paragraph:function(e){const t=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],i=t.children,o=n.children[0];let r,s=-1;if(t&&"listItem"===t.type&&"boolean"==typeof t.checked&&o&&"text"===o.type){for(;++s<i.length;){const e=i[s];if("paragraph"===e.type){r=e;break}}r===n&&(o.value=o.value.slice(1),0===o.value.length?n.children.shift():(o.position.start.column++,o.position.start.offset++,n.position.start=Object.assign({},o.position.start)))}this.exit(e)}}},Hi={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(e,t,n){const i=e.children[0];let o=zi(e,t,n);"boolean"==typeof e.checked&&i&&"paragraph"===i.type&&(o=o.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+"["+(e.checked?"x":" ")+"] "})));return o}}};function Wi(e){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===e.type}function ji(e){return{extensions:[Zn,bi(),Ci,Mi(e),Hi]}}function Vi(e,t){var{includeImageAlt:n=!0}=t||{};return Ki(e,n)}function Ki(e,t){return e&&"object"==typeof e&&(e.value||(t?e.alt:"")||"children"in e&&Ui(e.children,t)||Array.isArray(e)&&Ui(e,t))||""}function Ui(e,t){for(var n=[],i=-1;++i<e.length;)n[i]=Ki(e[i],t);return n.join("")}const qi={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xn(e,t,"linePrefix")}),(function(t){return e.enter("paragraph"),i(t)}));let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,o(t)}function o(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):Xt(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),o)}}};const $i={tokenize:function(e){const t=this,n=[];let i,o,r,s=0;return a;function a(i){if(s<n.length){const o=n[s];return t.containerState=o[1],e.attempt(o[0].continuation,l,c)(i)}return c(i)}function l(e){if(s++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const n=t.events.length;let o,r=n;for(;r--;)if("exit"===t.events[r][0]&&"chunkFlow"===t.events[r][1].type){o=t.events[r][1].end;break}v(s);let a=n;for(;a<t.events.length;)t.events[a][1].end=Object.assign({},o),a++;return Ot(t.events,r+1,0,t.events.slice(n)),t.events.length=a,c(e)}return a(e)}function c(o){if(s===n.length){if(!i)return h(o);if(i.currentConstruct&&i.currentConstruct.concrete)return g(o);t.interrupt=Boolean(i.currentConstruct)}return t.containerState={},e.check(Gi,u,d)(o)}function u(e){return i&&b(),v(s),h(e)}function d(e){return t.parser.lazy[t.now().line]=s!==n.length,r=t.now().offset,g(e)}function h(n){return t.containerState={},e.attempt(Gi,p,g)(n)}function p(e){return s++,n.push([t.currentConstruct,t.containerState]),h(e)}function g(n){return null===n?(i&&b(),v(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),f(n))}function f(n){return null===n?(m(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):Xt(n)?(e.consume(n),m(e.exit("chunkFlow")),s=0,t.interrupt=void 0,a):(e.consume(n),f)}function m(e,n){const a=t.sliceStream(e);if(n&&a.push(null),e.previous=o,o&&(o.next=e),o=e,i.defineSkip(e.start),i.write(a),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<r&&(!i.events[e][1].end||i.events[e][1].end.offset>r))return;const n=t.events.length;let o,a,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(o){a=t.events[l][1].end;break}o=!0}for(v(s),e=n;e<t.events.length;)t.events[e][1].end=Object.assign({},a),e++;Ot(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(i){let o=n.length;for(;o-- >i;){const i=n[o];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function b(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}},Gi={tokenize:function(e,t,n){return xn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};const Qi={name:"attention",tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=Mn(i);let r;return function(t){return e.enter("attentionSequence"),r=t,s(t)};function s(a){if(a===r)return e.consume(a),s;const l=e.exit("attentionSequence"),c=Mn(a),u=!c||2===c&&o||n.includes(a),d=!o||2===o&&c||n.includes(i);return l._open=Boolean(42===r?u:u&&(o||!d)),l._close=Boolean(42===r?d:d&&(c||!u)),t(a)}},resolveAll:function(e,t){let n,i,o,r,s,a,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[u][1].start);Xi(d,-a),Xi(h,a),r={type:a>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},s={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[u][1].start),end:h},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[u][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},r.start),end:Object.assign({},s.end)},e[n][1].end=Object.assign({},r.start),e[u][1].start=Object.assign({},s.end),l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=Ft(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=Ft(l,[["enter",i,t],["enter",r,t],["exit",r,t],["enter",o,t]]),l=Ft(l,Tn(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=Ft(l,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=Ft(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,Ot(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e}};function Xi(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Zi={name:"autolink",tokenize:function(e,t,n){let i=1;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o};function o(t){return jt(t)?(e.consume(t),r):$t(t)?l(t):n(t)}function r(e){return 43===e||45===e||46===e||Ut(e)?s(e):l(e)}function s(t){return 58===t?(e.consume(t),a):(43===t||45===t||46===t||Ut(t))&&i++<32?(e.consume(t),s):l(t)}function a(t){return 62===t?(e.exit("autolinkProtocol"),h(t)):null===t||32===t||60===t||Gt(t)?n(t):(e.consume(t),a)}function l(t){return 64===t?(e.consume(t),i=0,c):$t(t)?(e.consume(t),l):n(t)}function c(e){return Ut(e)?u(e):n(e)}function u(t){return 46===t?(e.consume(t),i=0,c):62===t?(e.exit("autolinkProtocol").type="autolinkEmail",h(t)):d(t)}function d(t){return(45===t||Ut(t))&&i++<63?(e.consume(t),45===t?d:u):n(t)}function h(n){return e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t}}};const Ji={tokenize:function(e,t,n){return xn(e,(function(e){return null===e||Xt(e)?t(e):n(e)}),"linePrefix")},partial:!0};const Yi={name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),o}return n(t)};function o(n){return Zt(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}},continuation:{tokenize:function(e,t,n){return xn(e,e.attempt(Yi,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(e){e.exit("blockQuote")}};const eo={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return qt(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};var to;function no(e){var t,n="&"+e+";";return(to=to||document.createElement("i")).innerHTML=n,(59!==(t=to.textContent).charCodeAt(t.length-1)||"semi"===e)&&(t!==n&&t)}const io={name:"characterReference",tokenize:function(e,t,n){const i=this;let o,r,s=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),a};function a(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),o=31,r=Ut,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,r=Kt,c):(e.enter("characterReferenceValue"),o=7,r=Vt,c(t))}function c(a){let l;return 59===a&&s?(l=e.exit("characterReferenceValue"),r!==Ut||no(i.sliceSerialize(l))?(e.enter("characterReferenceMarker"),e.consume(a),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(a)):r(a)&&s++<o?(e.consume(a),c):n(a)}}};const oo={name:"codeFenced",tokenize:function(e,t,n){const i=this,o={tokenize:function(e,t,n){let i=0;return xn(e,o,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function o(t){return e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),r(t)}function r(t){return t===l?(e.consume(t),i++,r):i<c?n(t):(e.exit("codeFencedFenceSequence"),xn(e,s,"whitespace")(t))}function s(i){return null===i||Xt(i)?(e.exit("codeFencedFence"),t(i)):n(i)}},partial:!0},r={tokenize:function(e,t,n){const i=this;return o;function o(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r}function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}},partial:!0},s=this.events[this.events.length-1],a=s&&"linePrefix"===s[1].type?s[2].sliceSerialize(s[1],!0).length:0;let l,c=0;return function(t){return e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l=t,u(t)};function u(t){return t===l?(e.consume(t),c++,u):(e.exit("codeFencedFenceSequence"),c<3?n(t):xn(e,d,"whitespace")(t))}function d(t){return null===t||Xt(t)?f(t):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(t))}function h(t){return null===t||Qt(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),xn(e,p,"whitespace")(t)):96===t&&t===l?n(t):(e.consume(t),h)}function p(t){return null===t||Xt(t)?f(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(t))}function g(t){return null===t||Xt(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(t)):96===t&&t===l?n(t):(e.consume(t),g)}function f(n){return e.exit("codeFencedFence"),i.interrupt?t(n):m(n)}function m(t){return null===t?b(t):Xt(t)?e.attempt(r,e.attempt(o,b,a?xn(e,m,"linePrefix",a+1):m),b)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||Xt(t)?(e.exit("codeFlowValue"),m(t)):(e.consume(t),v)}function b(n){return e.exit("codeFenced"),t(n)}},concrete:!0};const ro={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),xn(e,o,"linePrefix",5)(t)};function o(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?r(e):n(e)}function r(t){return null===t?a(t):Xt(t)?e.attempt(so,r,a)(t):(e.enter("codeFlowValue"),s(t))}function s(t){return null===t||Xt(t)?(e.exit("codeFlowValue"),r(t)):(e.consume(t),s)}function a(n){return e.exit("codeIndented"),t(n)}}},so={tokenize:function(e,t,n){const i=this;return o;function o(t){return i.parser.lazy[i.now().line]?n(t):Xt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):xn(e,r,"linePrefix",5)(t)}function r(e){const r=i.events[i.events.length-1];return r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(e):Xt(e)?o(e):n(e)}},partial:!0};const ao={name:"codeText",tokenize:function(e,t,n){let i,o,r=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),s(t)};function s(t){return 96===t?(e.consume(t),r++,s):(e.exit("codeTextSequence"),a(t))}function a(t){return null===t?n(t):96===t?(o=e.enter("codeTextSequence"),i=0,c(t)):32===t?(e.enter("space"),e.consume(t),e.exit("space"),a):Xt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),a):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||Xt(t)?(e.exit("codeTextData"),a(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),i++,c):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(o.type="codeTextData",l(n))}},resolve:function(e){let t,n,i=e.length-4,o=3;if(!("lineEnding"!==e[o][1].type&&"space"!==e[o][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=o;++t<i;)if("codeTextData"===e[t][1].type){e[o][1].type="codeTextPadding",e[i][1].type="codeTextPadding",o+=2,i-=2;break}t=o-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type}};function lo(e){const t={};let n,i,o,r,s,a,l,c=-1;for(;++c<e.length;){for(;c in t;)c=t[c];if(n=e[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===e[c-1][1].type&&(a=n[1]._tokenizer.events,o=0,o<a.length&&"lineEndingBlank"===a[o][1].type&&(o+=2),o<a.length&&"content"===a[o][1].type))for(;++o<a.length&&"content"!==a[o][1].type;)"chunkText"===a[o][1].type&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,co(e,c)),c=t[c],l=!0);else if(n[1]._container){for(o=c,i=void 0;o--&&(r=e[o],"lineEnding"===r[1].type||"lineEndingBlank"===r[1].type);)"enter"===r[0]&&(i&&(e[i][1].type="lineEndingBlank"),r[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},e[i][1].start),s=e.slice(i,c),s.unshift(n),Ot(e,i,c-i+1,s))}}return!l}function co(e,t){const n=e[t][1],i=e[t][2];let o=t-1;const r=[],s=n._tokenizer||i.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,d,h=-1,p=n,g=0,f=0;const m=[f];for(;p;){for(;e[++o][1]!==p;);r.push(o),p._tokenizer||(u=i.sliceStream(p),p.next||u.push(null),d&&s.defineSkip(p.start),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),p._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<a.length;)"exit"===a[h][0]&&"enter"===a[h-1][0]&&a[h][1].type===a[h-1][1].type&&a[h][1].start.line!==a[h][1].end.line&&(f=h+1,m.push(f),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(s.events=[],p?(p._tokenizer=void 0,p.previous=void 0):m.pop(),h=m.length;h--;){const t=a.slice(m[h],m[h+1]),n=r.pop();l.unshift([n,n+t.length-1]),Ot(e,n,2,t)}for(h=-1;++h<l.length;)c[g+l[h][0]]=g+l[h][1],g+=l[h][1]-l[h][0]-1;return c}const uo={tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?o(t):Xt(t)?e.check(ho,r,o)(t):(e.consume(t),i)}function o(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function r(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}},resolve:function(e){return lo(e),e}},ho={tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xn(e,o,"linePrefix")};function o(o){if(null===o||Xt(o))return n(o);const r=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&r&&"linePrefix"===r[1].type&&r[2].sliceSerialize(r[1],!0).length>=4?t(o):e.interrupt(i.parser.constructs.flow,n,t)(o)}},partial:!0};function po(e,t,n,i,o,r,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(i),e.enter(o),e.enter(r),e.consume(t),e.exit(r),d;if(null===t||41===t||Gt(t))return n(t);return e.enter(i),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),g(t)};function d(n){return 62===n?(e.enter(r),e.consume(n),e.exit(r),e.exit(o),e.exit(i),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),h(n))}function h(t){return 62===t?(e.exit("chunkString"),e.exit(a),d(t)):null===t||60===t||Xt(t)?n(t):(e.consume(t),92===t?p:h)}function p(t){return 60===t||62===t||92===t?(e.consume(t),h):h(t)}function g(o){return 40===o?++u>c?n(o):(e.consume(o),g):41===o?u--?(e.consume(o),g):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(o)):null===o||Qt(o)?u?n(o):(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(i),t(o)):Gt(o)?n(o):(e.consume(o),92===o?f:g)}function f(t){return 40===t||41===t||92===t?(e.consume(t),g):g(t)}}function go(e,t,n,i,o,r){const s=this;let a,l=0;return function(t){return e.enter(i),e.enter(o),e.consume(t),e.exit(o),e.enter(r),c};function c(d){return null===d||91===d||93===d&&!a||94===d&&!l&&"_hiddenFootnoteSupport"in s.parser.constructs||l>999?n(d):93===d?(e.exit(r),e.enter(o),e.consume(d),e.exit(o),e.exit(i),t):Xt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||Xt(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),a=a||!Zt(t),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function fo(e,t,n,i,o,r){let s;return function(t){return e.enter(i),e.enter(o),e.consume(t),e.exit(o),s=40===t?41:t,a};function a(n){return n===s?(e.enter(o),e.consume(n),e.exit(o),e.exit(i),t):(e.enter(r),l(n))}function l(t){return t===s?(e.exit(r),a(s)):null===t?n(t):Xt(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xn(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===s||null===t||Xt(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===s||92===t?(e.consume(t),c):c(t)}}function mo(e,t){let n;return function i(o){if(Xt(o))return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,i;if(Zt(o))return xn(e,i,n?"linePrefix":"lineSuffix")(o);return t(o)}}const vo={name:"definition",tokenize:function(e,t,n){const i=this;let o;return function(t){return e.enter("definition"),go.call(i,e,r,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)};function r(t){return o=wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),mo(e,po(e,e.attempt(bo,xn(e,s,"whitespace"),xn(e,s,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(t)}function s(r){return null===r||Xt(r)?(e.exit("definition"),i.parser.defined.includes(o)||i.parser.defined.push(o),t(r)):n(r)}}},bo={tokenize:function(e,t,n){return function(t){return Qt(t)?mo(e,i)(t):n(t)};function i(t){return 34===t||39===t||40===t?fo(e,xn(e,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t):n(t)}function o(e){return null===e||Xt(e)?t(e):n(e)}},partial:!0};const yo={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.enter("escapeMarker"),e.consume(t),i};function i(i){return Xt(i)?(e.exit("escapeMarker"),e.exit("hardBreakEscape"),t(i)):n(i)}}};const _o={name:"headingAtx",tokenize:function(e,t,n){const i=this;let o=0;return function(t){return e.enter("atxHeading"),e.enter("atxHeadingSequence"),r(t)};function r(a){return 35===a&&o++<6?(e.consume(a),r):null===a||Qt(a)?(e.exit("atxHeadingSequence"),i.interrupt?t(a):s(a)):n(a)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||Xt(n)?(e.exit("atxHeading"),t(n)):Zt(n)?xn(e,s,"whitespace")(n):(e.enter("atxHeadingText"),l(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),s(t))}function l(t){return null===t||35===t||Qt(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),l)}},resolve:function(e,t){let n,i,o=e.length-2,r=3;"whitespace"===e[r][1].type&&(r+=2);o-2>r&&"whitespace"===e[o][1].type&&(o-=2);"atxHeadingSequence"===e[o][1].type&&(r===o-1||o-4>r&&"whitespace"===e[o-2][1].type)&&(o-=r+1===o?2:4);o>r&&(n={type:"atxHeadingText",start:e[r][1].start,end:e[o][1].end},i={type:"chunkText",start:e[r][1].start,end:e[o][1].end,contentType:"text"},Ot(e,r,o-r+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e}};const Co=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],xo=["pre","script","style","textarea"],So={name:"htmlFlow",tokenize:function(e,t,n){const i=this;let o,r,s,a,l;return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c};function c(a){return 33===a?(e.consume(a),u):47===a?(e.consume(a),p):63===a?(e.consume(a),o=3,i.interrupt?t:N):jt(a)?(e.consume(a),s=String.fromCharCode(a),r=!0,g):n(a)}function u(r){return 45===r?(e.consume(r),o=2,d):91===r?(e.consume(r),o=5,s="CDATA[",a=0,h):jt(r)?(e.consume(r),o=4,i.interrupt?t:N):n(r)}function d(o){return 45===o?(e.consume(o),i.interrupt?t:N):n(o)}function h(o){return o===s.charCodeAt(a++)?(e.consume(o),a===s.length?i.interrupt?t:E:h):n(o)}function p(t){return jt(t)?(e.consume(t),s=String.fromCharCode(t),g):n(t)}function g(a){return null===a||47===a||62===a||Qt(a)?47!==a&&r&&xo.includes(s.toLowerCase())?(o=1,i.interrupt?t(a):E(a)):Co.includes(s.toLowerCase())?(o=6,47===a?(e.consume(a),f):i.interrupt?t(a):E(a)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(a):r?v(a):m(a)):45===a||Ut(a)?(e.consume(a),s+=String.fromCharCode(a),g):n(a)}function f(o){return 62===o?(e.consume(o),i.interrupt?t:E):n(o)}function m(t){return Zt(t)?(e.consume(t),m):w(t)}function v(t){return 47===t?(e.consume(t),w):58===t||95===t||jt(t)?(e.consume(t),b):Zt(t)?(e.consume(t),v):w(t)}function b(t){return 45===t||46===t||58===t||95===t||Ut(t)?(e.consume(t),b):y(t)}function y(t){return 61===t?(e.consume(t),_):Zt(t)?(e.consume(t),y):v(t)}function _(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,C):Zt(t)?(e.consume(t),_):(l=null,x(t))}function C(t){return null===t||Xt(t)?n(t):t===l?(e.consume(t),S):(e.consume(t),C)}function x(t){return null===t||34===t||39===t||60===t||61===t||62===t||96===t||Qt(t)?y(t):(e.consume(t),x)}function S(e){return 47===e||62===e||Zt(e)?v(e):n(e)}function w(t){return 62===t?(e.consume(t),k):n(t)}function k(t){return Zt(t)?(e.consume(t),k):null===t||Xt(t)?E(t):n(t)}function E(t){return 45===t&&2===o?(e.consume(t),R):60===t&&1===o?(e.consume(t),L):62===t&&4===o?(e.consume(t),P):63===t&&3===o?(e.consume(t),N):93===t&&5===o?(e.consume(t),T):!Xt(t)||6!==o&&7!==o?null===t||Xt(t)?D(t):(e.consume(t),E):e.check(wo,P,D)(t)}function D(t){return e.exit("htmlFlowData"),I(t)}function I(t){return null===t?O(t):Xt(t)?e.attempt({tokenize:A,partial:!0},I,O)(t):(e.enter("htmlFlowData"),E(t))}function A(e,t,n){return function(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o};function o(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}function R(t){return 45===t?(e.consume(t),N):E(t)}function L(t){return 47===t?(e.consume(t),s="",M):E(t)}function M(t){return 62===t&&xo.includes(s.toLowerCase())?(e.consume(t),P):jt(t)&&s.length<8?(e.consume(t),s+=String.fromCharCode(t),M):E(t)}function T(t){return 93===t?(e.consume(t),N):E(t)}function N(t){return 62===t?(e.consume(t),P):E(t)}function P(t){return null===t||Xt(t)?(e.exit("htmlFlowData"),O(t)):(e.consume(t),P)}function O(n){return e.exit("htmlFlow"),t(n)}},resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},concrete:!0},wo={tokenize:function(e,t,n){return function(i){return e.exit("htmlFlowData"),e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),e.attempt(Ji,t,n)}},partial:!0};const ko={name:"htmlText",tokenize:function(e,t,n){const i=this;let o,r,s,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),l};function l(t){return 33===t?(e.consume(t),c):47===t?(e.consume(t),x):63===t?(e.consume(t),_):jt(t)?(e.consume(t),k):n(t)}function c(t){return 45===t?(e.consume(t),u):91===t?(e.consume(t),r="CDATA[",s=0,f):jt(t)?(e.consume(t),y):n(t)}function u(t){return 45===t?(e.consume(t),d):n(t)}function d(t){return null===t||62===t?n(t):45===t?(e.consume(t),h):p(t)}function h(e){return null===e||62===e?n(e):p(e)}function p(t){return null===t?n(t):45===t?(e.consume(t),g):Xt(t)?(a=p,T(t)):(e.consume(t),p)}function g(t){return 45===t?(e.consume(t),P):p(t)}function f(t){return t===r.charCodeAt(s++)?(e.consume(t),s===r.length?m:f):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),v):Xt(t)?(a=m,T(t)):(e.consume(t),m)}function v(t){return 93===t?(e.consume(t),b):m(t)}function b(t){return 62===t?P(t):93===t?(e.consume(t),b):m(t)}function y(t){return null===t||62===t?P(t):Xt(t)?(a=y,T(t)):(e.consume(t),y)}function _(t){return null===t?n(t):63===t?(e.consume(t),C):Xt(t)?(a=_,T(t)):(e.consume(t),_)}function C(e){return 62===e?P(e):_(e)}function x(t){return jt(t)?(e.consume(t),S):n(t)}function S(t){return 45===t||Ut(t)?(e.consume(t),S):w(t)}function w(t){return Xt(t)?(a=w,T(t)):Zt(t)?(e.consume(t),w):P(t)}function k(t){return 45===t||Ut(t)?(e.consume(t),k):47===t||62===t||Qt(t)?E(t):n(t)}function E(t){return 47===t?(e.consume(t),P):58===t||95===t||jt(t)?(e.consume(t),D):Xt(t)?(a=E,T(t)):Zt(t)?(e.consume(t),E):P(t)}function D(t){return 45===t||46===t||58===t||95===t||Ut(t)?(e.consume(t),D):I(t)}function I(t){return 61===t?(e.consume(t),A):Xt(t)?(a=I,T(t)):Zt(t)?(e.consume(t),I):E(t)}function A(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),o=t,R):Xt(t)?(a=A,T(t)):Zt(t)?(e.consume(t),A):(e.consume(t),o=void 0,M)}function R(t){return t===o?(e.consume(t),L):null===t?n(t):Xt(t)?(a=R,T(t)):(e.consume(t),R)}function L(e){return 62===e||47===e||Qt(e)?E(e):n(e)}function M(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):62===t||Qt(t)?E(t):(e.consume(t),M)}function T(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),xn(e,N,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function N(t){return e.enter("htmlTextData"),a(t)}function P(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}}};const Eo={name:"labelEnd",tokenize:function(e,t,n){const i=this;let o,r,s=i.events.length;for(;s--;)if(("labelImage"===i.events[s][1].type||"labelLink"===i.events[s][1].type)&&!i.events[s][1]._balanced){o=i.events[s][1];break}return function(t){if(!o)return n(t);return o._inactive?l(t):(r=i.parser.defined.includes(wn(i.sliceSerialize({start:o.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),a)};function a(n){return 40===n?e.attempt(Do,t,r?t:l)(n):91===n?e.attempt(Io,t,r?e.attempt(Ao,t,l):l)(n):r?t(n):l(n)}function l(e){return o._balanced=!0,n(e)}},resolveTo:function(e,t){let n,i,o,r,s=e.length,a=0;for(;s--;)if(n=e[s][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[s][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(o){if("enter"===e[s][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=s,"labelLink"!==n.type)){a=2;break}}else"labelEnd"===n.type&&(o=s);const l={type:"labelLink"===e[i][1].type?"link":"image",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[i][1].start),end:Object.assign({},e[o][1].end)},u={type:"labelText",start:Object.assign({},e[i+a+2][1].end),end:Object.assign({},e[o-2][1].start)};return r=[["enter",l,t],["enter",c,t]],r=Ft(r,e.slice(i+1,i+a+3)),r=Ft(r,[["enter",u,t]]),r=Ft(r,Tn(t.parser.constructs.insideSpan.null,e.slice(i+a+4,o-3),t)),r=Ft(r,[["exit",u,t],e[o-2],e[o-1],["exit",c,t]]),r=Ft(r,e.slice(o+1)),r=Ft(r,[["exit",l,t]]),Ot(e,i,e.length,r),e},resolveAll:function(e){let t,n=-1;for(;++n<e.length;)t=e[n][1],"labelImage"!==t.type&&"labelLink"!==t.type&&"labelEnd"!==t.type||(e.splice(n+1,"labelImage"===t.type?4:2),t.type="data",n++);return e}},Do={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),mo(e,i)};function i(t){return 41===t?s(t):po(e,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",3)(t)}function o(t){return Qt(t)?mo(e,r)(t):s(t)}function r(t){return 34===t||39===t||40===t?fo(e,mo(e,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):s(t)}function s(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},Io={tokenize:function(e,t,n){const i=this;return function(t){return go.call(i,e,o,n,"reference","referenceMarker","referenceString")(t)};function o(e){return i.parser.defined.includes(wn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}}},Ao={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const Ro={name:"labelStartImage",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),o};function o(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),r):n(t)}function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:Eo.resolveAll};const Lo={name:"labelStartLink",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),o};function o(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}},resolveAll:Eo.resolveAll};const Mo={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),xn(e,t,"linePrefix")}}};const To={name:"thematicBreak",tokenize:function(e,t,n){let i,o=0;return function(t){return e.enter("thematicBreak"),i=t,r(t)};function r(a){return a===i?(e.enter("thematicBreakSequence"),s(a)):Zt(a)?xn(e,r,"whitespace")(a):o<3||null!==a&&!Xt(a)?n(a):(e.exit("thematicBreak"),t(a))}function s(t){return t===i?(e.consume(t),o++,s):(e.exit("thematicBreakSequence"),r(t))}}};const No={name:"list",tokenize:function(e,t,n){const i=this,o=i.events[i.events.length-1];let r=o&&"linePrefix"===o[1].type?o[2].sliceSerialize(o[1],!0).length:0,s=0;return function(t){const o=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===o?!i.containerState.marker||t===i.containerState.marker:Vt(t)){if(i.containerState.type||(i.containerState.type=o,e.enter(o,{_container:!0})),"listUnordered"===o)return e.enter("listItemPrefix"),42===t||45===t?e.check(To,n,l)(t):l(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(t)}return n(t)};function a(t){return Vt(t)&&++s<10?(e.consume(t),a):(!i.interrupt||s<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(Ji,i.interrupt?n:c,e.attempt(Po,d,u))}function c(e){return i.containerState.initialBlankLine=!0,r++,d(e)}function u(t){return Zt(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=r+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}},continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(Ji,(function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,xn(e,t,"listItemIndent",i.containerState.size+1)(n)}),(function(n){if(i.containerState.furtherBlankLines||!Zt(n))return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(n);return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(Oo,t,o)(n)}));function o(o){return i.containerState._closeFlow=!0,i.interrupt=void 0,xn(e,e.attempt(No,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}},exit:function(e){e.exit(this.containerState.type)}},Po={tokenize:function(e,t,n){const i=this;return xn(e,(function(e){const o=i.events[i.events.length-1];return!Zt(e)&&o&&"listItemPrefixWhitespace"===o[1].type?t(e):n(e)}),"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},Oo={tokenize:function(e,t,n){const i=this;return xn(e,(function(e){const o=i.events[i.events.length-1];return o&&"listItemIndent"===o[1].type&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?t(e):n(e)}),"listItemIndent",i.containerState.size+1)},partial:!0};const Fo={name:"setextUnderline",tokenize:function(e,t,n){const i=this;let o,r,s=i.events.length;for(;s--;)if("lineEnding"!==i.events[s][1].type&&"linePrefix"!==i.events[s][1].type&&"content"!==i.events[s][1].type){r="paragraph"===i.events[s][1].type;break}return function(t){if(!i.parser.lazy[i.now().line]&&(i.interrupt||r))return e.enter("setextHeadingLine"),e.enter("setextHeadingLineSequence"),o=t,a(t);return n(t)};function a(t){return t===o?(e.consume(t),a):(e.exit("setextHeadingLineSequence"),xn(e,l,"lineSuffix")(t))}function l(i){return null===i||Xt(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}},resolveTo:function(e,t){let n,i,o,r=e.length;for(;r--;)if("enter"===e[r][0]){if("content"===e[r][1].type){n=r;break}"paragraph"===e[r][1].type&&(i=r)}else"content"===e[r][1].type&&e.splice(r,1),o||"definition"!==e[r][1].type||(o=r);const s={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=s;return e.push(["exit",s,t]),e}};const zo={tokenize:function(e){const t=this,n=e.attempt(Ji,(function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}),e.attempt(this.parser.constructs.flowInitial,i,xn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(uo,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const Bo={resolveAll:Vo()},Ho=jo("string"),Wo=jo("text");function jo(e){return{tokenize:function(t){const n=this,i=this.parser.constructs[e],o=t.attempt(i,r,s);return r;function r(e){return l(e)?o(e):s(e)}function s(e){if(null!==e)return t.enter("data"),t.consume(e),a;t.consume(e)}function a(e){return l(e)?(t.exit("data"),o(e)):(t.consume(e),a)}function l(e){if(null===e)return!0;const t=i[e];let o=-1;if(t)for(;++o<t.length;){const e=t[o];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}},resolveAll:Vo("text"===e?Ko:void 0)}}function Vo(e){return function(t,n){let i,o=-1;for(;++o<=t.length;)void 0===i?t[o]&&"data"===t[o][1].type&&(i=o,o++):t[o]&&"data"===t[o][1].type||(o!==i+2&&(t[i][1].end=t[o-1][1].end,t.splice(i+2,o-i-2),o=i+2),i=void 0);return e?e(t,n):t}}function Ko(e,t){let n=-1;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],o=t.sliceStream(i);let r,s=o.length,a=-1,l=0;for(;s--;){const e=o[s];if("string"==typeof e){for(a=e.length;32===e.charCodeAt(a-1);)l++,a--;if(a)break;a=-1}else if(-2===e)r=!0,l++;else if(-1!==e){s++;break}}if(l){const o={type:n===e.length||r||l<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-l,offset:i.end.offset-l,_index:i.start._index+s,_bufferIndex:s?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},o.start),i.start.offset===i.end.offset?Object.assign(i,o):(e.splice(n,0,["enter",o,t],["exit",o,t]),n+=2)}n++}return e}function Uo(e,t,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const o={},r=[];let s=[],a=[],l=!0;const c={consume:function(e){Xt(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,_()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===s[i._index].length&&(i._bufferIndex=-1,i._index++));u.previous=e,l=!0},enter:function(e,t){const n=t||{};return n.type=e,n.start=g(),u.events.push(["enter",n,u]),a.push(n),n},exit:function(e){const t=a.pop();return t.end=g(),u.events.push(["exit",t,u]),t},attempt:b((function(e,t){y(e,t.from)})),check:b(v),interrupt:b(v,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let o;for(;++n<e.length;){const r=e[n];let s;if("string"==typeof r)s=r;else switch(r){case-5:s="\r";break;case-4:s="\n";break;case-3:s="\r\n";break;case-2:s=t?" ":"\t";break;case-1:if(!t&&o)continue;s=" ";break;default:s=String.fromCharCode(r)}o=-2===r,i.push(s)}return i.join("")}(p(e),t)},now:g,defineSkip:function(e){o[e.line]=e.column,_()},write:function(e){if(s=Ft(s,e),f(),null!==s[s.length-1])return[];return y(t,0),u.events=Tn(r,u.events,u),u.events}};let d,h=t.tokenize.call(u,c);return t.resolveAll&&r.push(t),u;function p(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,o=t.end._index,r=t.end._bufferIndex;let s;n===o?s=[e[n].slice(i,r)]:(s=e.slice(n,o),i>-1&&(s[0]=s[0].slice(i)),r>0&&s.push(e[o].slice(0,r)));return s}(s,e)}function g(){return Object.assign({},i)}function f(){let e;for(;i._index<s.length;){const t=s[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)m(t.charCodeAt(i._bufferIndex));else m(t)}}function m(e){l=void 0,d=e,h=h(e)}function v(e,t){t.restore()}function b(e,t){return function(n,o,r){let s,d,h,p;return Array.isArray(n)?f(n):"tokenize"in n?f([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return f([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function f(e){return s=e,d=0,0===e.length?r:m(e[d])}function m(e){return function(n){p=function(){const e=g(),t=u.previous,n=u.currentConstruct,o=u.events.length,r=Array.from(a);return{restore:s,from:o};function s(){i=e,u.previous=t,u.currentConstruct=n,u.events.length=o,a=r,_()}}(),h=e,e.partial||(u.currentConstruct=e);if(e.name&&u.parser.constructs.disable.null.includes(e.name))return b(n);return e.tokenize.call(t?Object.assign(Object.create(u),t):u,c,v,b)(n)}}function v(t){return l=!0,e(h,p),o}function b(e){return l=!0,p.restore(),++d<s.length?m(s[d]):r}}}function y(e,t){e.resolveAll&&!r.includes(e)&&r.push(e),e.resolve&&Ot(u.events,t,u.events.length-t,e.resolve(u.events.slice(t),u)),e.resolveTo&&(u.events=e.resolveTo(u.events,u))}function _(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}}var qo={};e(qo,"document",(function(){return $o})),e(qo,"contentInitial",(function(){return Go})),e(qo,"flowInitial",(function(){return Qo})),e(qo,"flow",(function(){return Xo})),e(qo,"string",(function(){return Zo})),e(qo,"text",(function(){return Jo})),e(qo,"insideSpan",(function(){return Yo})),e(qo,"attentionMarkers",(function(){return er})),e(qo,"disable",(function(){return tr}));const $o={42:No,43:No,45:No,48:No,49:No,50:No,51:No,52:No,53:No,54:No,55:No,56:No,57:No,62:Yi},Go={91:vo},Qo={[-2]:ro,[-1]:ro,32:ro},Xo={35:_o,42:To,45:[Fo,To],60:So,61:Fo,95:To,96:oo,126:oo},Zo={38:io,92:eo},Jo={[-5]:Mo,[-4]:Mo,[-3]:Mo,33:Ro,38:io,42:Qi,60:[Zi,ko],91:Lo,92:[yo,eo],93:Eo,95:Qi,96:ao},Yo={null:[Qi,Bo]},er={null:[42,95]},tr={null:[]};function nr(e={}){const t={defined:[],lazy:{},constructs:Bt([qo].concat(e.extensions||[])),content:n(qi),document:n($i),flow:n(zo),string:n(Ho),text:n(Wo)};return t;function n(e){return function(n){return Uo(t,e,n)}}}const ir=/[\0\t\n\r]/g;function or(){let e,t=1,n="",i=!0;return function(o,r,s){const a=[];let l,c,u,d,h;o=n+o.toString(r),u=0,n="",i&&(65279===o.charCodeAt(0)&&u++,i=void 0);for(;u<o.length;){if(ir.lastIndex=u,l=ir.exec(o),d=l&&void 0!==l.index?l.index:o.length,h=o.charCodeAt(d),!l){n=o.slice(u);break}if(10===h&&u===d&&e)a.push(-3),e=void 0;else switch(e&&(a.push(-5),e=void 0),u<d&&(a.push(o.slice(u,d)),t+=d-u),h){case 0:a.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),a.push(-2);t++<c;)a.push(-1);break;case 10:a.push(-4),t=1;break;default:e=!0,t=1}u=d+1}s&&(e&&a.push(-5),n&&a.push(n),a.push(null));return a}}function rr(e){for(;!lo(e););return e}var sr={}.hasOwnProperty;function ar(e){return e&&"object"==typeof e?sr.call(e,"position")||sr.call(e,"type")?cr(e.position):sr.call(e,"start")||sr.call(e,"end")?cr(e):sr.call(e,"line")||sr.call(e,"column")?lr(e):"":""}function lr(e){return ur(e&&e.line)+":"+ur(e&&e.column)}function cr(e){return lr(e&&e.start)+"-"+lr(e&&e.end)}function ur(e){return e&&"number"==typeof e?e:1}const dr={}.hasOwnProperty,hr=function(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e={}){const t=pr({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(ie),autolinkProtocol:I,autolinkEmail:I,atxHeading:l(Y),blockQuote:l(G),characterEscape:I,characterReference:I,codeFenced:l(Q),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(Q,c),codeText:l(X,c),codeTextData:I,data:I,codeFlowValue:I,definition:l(Z),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(J),hardBreakEscape:l(ee),hardBreakTrailing:l(ee),htmlFlow:l(te,c),htmlFlowData:I,htmlText:l(te,c),htmlTextData:I,image:l(ne),label:c,link:l(ie),listItem:l(re),listItemValue:f,listOrdered:l(oe,g),listUnordered:l(oe),paragraph:l(se),reference:j,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Y),strong:l(ae),thematicBreak:l(ce)},exit:{atxHeading:d(),atxHeadingSequence:w,autolink:d(),autolinkEmail:$,autolinkProtocol:q,blockQuote:d(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:K,characterReferenceMarkerNumeric:K,characterReferenceValue:U,codeFenced:d(y),codeFencedFence:b,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:d(_),codeText:d(N),codeTextData:A,data:A,definition:d(),definitionDestinationString:S,definitionLabelString:C,definitionTitleString:x,emphasis:d(),hardBreakEscape:d(L),hardBreakTrailing:d(L),htmlFlow:d(M),htmlFlowData:A,htmlText:d(T),htmlTextData:A,image:d(O),label:z,labelText:F,lineEnding:R,link:d(P),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:V,resourceDestinationString:B,resourceTitleString:H,resource:W,setextHeading:d(D),setextHeadingLineSequence:E,setextHeadingText:k,strong:d(),thematicBreak:d()}},e.mdastExtensions||[]),n={};return i;function i(e){let n={type:"root",children:[]};const i=[],l=[],d={stack:[n],tokenStack:i,config:t,enter:u,exit:h,buffer:c,resume:p,setData:r,getData:s};let g=-1;for(;++g<e.length;)if("listOrdered"===e[g][1].type||"listUnordered"===e[g][1].type)if("enter"===e[g][0])l.push(g);else{g=o(e,l.pop(),g)}for(g=-1;++g<e.length;){const n=t[e[g][0]];dr.call(n,e[g][1].type)&&n[e[g][1].type].call(Object.assign({sliceSerialize:e[g][2].sliceSerialize},d),e[g][1])}if(i.length>0)throw new Error("Cannot close document, a token (`"+i[i.length-1].type+"`, "+ar({start:i[i.length-1].start,end:i[i.length-1].end})+") is still open");for(n.position={start:a(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:a(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},g=-1;++g<t.transforms.length;)n=t.transforms[g](n)||n;return n}function o(e,t,n){let i,o,r,s,a=t-1,l=-1,c=!1;for(;++a<=n;){const t=e[a];if("listUnordered"===t[1].type||"listOrdered"===t[1].type||"blockQuote"===t[1].type?("enter"===t[0]?l++:l--,s=void 0):"lineEndingBlank"===t[1].type?"enter"===t[0]&&(!i||s||l||r||(r=a),s=void 0):"linePrefix"===t[1].type||"listItemValue"===t[1].type||"listItemMarker"===t[1].type||"listItemPrefix"===t[1].type||"listItemPrefixWhitespace"===t[1].type||(s=void 0),!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let s=a;for(o=void 0;s--;){const t=e[s];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;o&&(e[o][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",o=s}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}r&&(!o||r<o)&&(i._spread=!0),i.end=Object.assign({},o?e[o][1].start:t[1].end),e.splice(o||a,0,["exit",i,t[2]]),a++,n++}"listItemPrefix"===t[1].type&&(i={type:"listItem",_spread:!1,start:Object.assign({},t[1].start)},e.splice(a,0,["enter",i,t[2]]),a++,n++,r=void 0,s=!0)}}return e[t][1]._spread=c,n}function r(e,t){n[e]=t}function s(e){return n[e]}function a(e){return{line:e.line,column:e.column,offset:e.offset}}function l(e,t){return n;function n(n){u.call(this,e(n),n),t&&t.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(e,t){return this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push(t),e.position={start:a(t.start)},e}function d(e){return t;function t(t){e&&e.call(this,t),h.call(this,t)}}function h(e){const t=this.stack.pop(),n=this.tokenStack.pop();if(!n)throw new Error("Cannot close `"+e.type+"` ("+ar({start:e.start,end:e.end})+"): its not open");if(n.type!==e.type)throw new Error("Cannot close `"+e.type+"` ("+ar({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+ar({start:n.start,end:n.end})+") is open");return t.position.end=a(e.end),t}function p(){return Vi(this.stack.pop())}function g(){r("expectingFirstListItemValue",!0)}function f(e){s("expectingFirstListItemValue")&&(this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),r("expectingFirstListItemValue"))}function m(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function v(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function b(){s("flowCodeInside")||(this.buffer(),r("flowCodeInside",!0))}function y(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),r("flowCodeInside")}function _(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function C(e){const t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=wn(this.sliceSerialize(e)).toLowerCase()}function x(){const e=this.resume();this.stack[this.stack.length-1].title=e}function S(){const e=this.resume();this.stack[this.stack.length-1].url=e}function w(e){this.stack[this.stack.length-1].depth||(this.stack[this.stack.length-1].depth=this.sliceSerialize(e).length)}function k(){r("setextHeadingSlurpLineEnding",!0)}function E(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).charCodeAt(0)?1:2}function D(){r("setextHeadingSlurpLineEnding")}function I(e){const t=this.stack[this.stack.length-1];let n=t.children[t.children.length-1];n&&"text"===n.type||(n=le(),n.position={start:a(e.start)},t.children.push(n)),this.stack.push(n)}function A(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=a(e.end)}function R(e){const n=this.stack[this.stack.length-1];if(s("atHardBreak")){return n.children[n.children.length-1].position.end=a(e.end),void r("atHardBreak")}!s("setextHeadingSlurpLineEnding")&&t.canContainEols.includes(n.type)&&(I.call(this,e),A.call(this,e))}function L(){r("atHardBreak",!0)}function M(){const e=this.resume();this.stack[this.stack.length-1].value=e}function T(){const e=this.resume();this.stack[this.stack.length-1].value=e}function N(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.stack[this.stack.length-1];s("inReference")?(e.type+="Reference",e.referenceType=s("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),r("referenceType")}function O(){const e=this.stack[this.stack.length-1];s("inReference")?(e.type+="Reference",e.referenceType=s("referenceType")||"shortcut",delete e.url,delete e.title):(delete e.identifier,delete e.label,delete e.referenceType),r("referenceType")}function F(e){this.stack[this.stack.length-2].identifier=wn(this.sliceSerialize(e)).toLowerCase()}function z(){const e=this.stack[this.stack.length-1],t=this.resume();this.stack[this.stack.length-1].label=t,r("inReference",!0),"link"===this.stack[this.stack.length-1].type?this.stack[this.stack.length-1].children=e.children:this.stack[this.stack.length-1].alt=t}function B(){const e=this.resume();this.stack[this.stack.length-1].url=e}function H(){const e=this.resume();this.stack[this.stack.length-1].title=e}function W(){r("inReference")}function j(){r("referenceType","collapsed")}function V(e){const t=this.resume();this.stack[this.stack.length-1].label=t,this.stack[this.stack.length-1].identifier=wn(this.sliceSerialize(e)).toLowerCase(),r("referenceType","full")}function K(e){r("characterReferenceType",e.type)}function U(e){const t=this.sliceSerialize(e),n=s("characterReferenceType");let i;n?(i=oi(t,"characterReferenceMarkerNumeric"===n?10:16),r("characterReferenceType")):i=no(t);const o=this.stack.pop();o.value+=i,o.position.end=a(e.end)}function q(e){A.call(this,e),this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function $(e){A.call(this,e),this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function G(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function X(){return{type:"inlineCode",value:""}}function Z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function J(){return{type:"emphasis",children:[]}}function Y(){return{type:"heading",depth:void 0,children:[]}}function ee(){return{type:"break"}}function te(){return{type:"html",value:""}}function ne(){return{type:"image",title:null,url:"",alt:null}}function ie(){return{type:"link",title:null,url:"",children:[]}}function oe(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function re(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function se(){return{type:"paragraph",children:[]}}function ae(){return{type:"strong",children:[]}}function le(){return{type:"text",value:""}}function ce(){return{type:"thematicBreak"}}}(n)(rr(nr(n).document().write(or()(e,t,!0))))};function pr(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?pr(e,i):gr(e,i)}return e}function gr(e,t){let n;for(n in t)if(dr.call(t,n)){const i="canContainEols"===n||"transforms"===n,o=(dr.call(e,n)?e[n]:void 0)||(e[n]=i?[]:{}),r=t[n];r&&(i?e[n]=[...o,...r]:Object.assign(o,r))}}var fr=function(e){Object.assign(this,{Parser:t=>{const n=this.data("settings");return hr(t,Object.assign({},n,e,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})},mr=function(e,t,n){var i={type:String(e)};return null!=n||"string"!=typeof t&&!Array.isArray(t)?Object.assign(i,t):n=t,Array.isArray(n)?i.children=n:null!=n&&(i.value=String(n)),i},vr=yr("start"),br=yr("end");function yr(e){return function(t){var n=t&&t.position&&t.position[e]||{};return{line:n.line||null,column:n.column||null,offset:n.offset>-1?n.offset:null}}}const _r={}.hasOwnProperty;function Cr(e){const t=Object.create(null);if(!e||!e.type)throw new Error("mdast-util-definitions expected node");var n,i,o;return i=function(e){const n=xr(e.identifier);n&&!_r.call(t,n)&&(t[n]=e)},"function"==typeof(n="definition")&&"function"!=typeof i&&(o=i,i=n,n=null),Kn(e,n,(function(e,t){var n=t[t.length-1];return i(e,n?n.children.indexOf(e):null,n)}),o),function(e){const n=xr(e);return n&&_r.call(t,n)?t[n]:null}}function xr(e){return String(e||"").toUpperCase()}const Sr={}.hasOwnProperty;function wr(e,t){const n=t.data||{};return"value"in t&&!(Sr.call(n,"hName")||Sr.call(n,"hProperties")||Sr.call(n,"hChildren"))?e.augment(t,mr("text",t.value)):e(t,"div",Dr(e,t))}function kr(e,t,n){const i=t&&t.type;let o;if(!i)throw new Error("Expected node, got `"+t+"`");return o=Sr.call(e.handlers,i)?e.handlers[i]:e.passThrough&&e.passThrough.includes(i)?Er:e.unknownHandler,("function"==typeof o?o:wr)(e,t,n)}function Er(e,t){return"children"in t?{...t,children:Dr(e,t)}:t}function Dr(e,t){const n=[];if("children"in t){const i=t.children;let o=-1;for(;++o<i.length;){const r=kr(e,i[o],t);if(r){if(o&&"break"===i[o-1].type&&(Array.isArray(r)||"text"!==r.type||(r.value=r.value.replace(/^\s+/,"")),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=e.value.replace(/^\s+/,""))}Array.isArray(r)?n.push(...r):n.push(r)}}}return n}function Ir(e,t){const n=[];let i=-1;for(t&&n.push(mr("text","\n"));++i<e.length;)i&&n.push(mr("text","\n")),n.push(e[i]);return t&&e.length>0&&n.push(mr("text","\n")),n}function Ar(e){let t=-1;const n=[];for(;++t<e.footnoteOrder.length;){const i=e.footnoteById[e.footnoteOrder[t].toUpperCase()];if(!i)continue;const o=Dr(e,i),r=String(i.identifier),s=Cn(r.toLowerCase());let a=0;const l=[];for(;++a<=e.footnoteCounts[r];){const t={type:"element",tagName:"a",properties:{href:"#"+e.clobberPrefix+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:e.footnoteBackLabel},children:[{type:"text",value:""}]};a>1&&t.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(a)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(t)}const c=o[o.length-1];if(c&&"element"===c.type&&"p"===c.tagName){const e=c.children[c.children.length-1];e&&"text"===e.type?e.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else o.push(...l);const u={type:"element",tagName:"li",properties:{id:e.clobberPrefix+"fn-"+s},children:Ir(o,!0)};i.position&&(u.position=i.position),n.push(u)}return 0===n.length?null:{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:"h2",properties:{id:"footnote-label",className:["sr-only"]},children:[mr("text",e.footnoteLabel)]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:Ir(n,!0)},{type:"text",value:"\n"}]}}function Rr(e,t){const n=String(t.identifier),i=Cn(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let r;-1===o?(e.footnoteOrder.push(n),e.footnoteCounts[n]=1,r=e.footnoteOrder.length):(e.footnoteCounts[n]++,r=o+1);const s=e.footnoteCounts[n];return e(t,"sup",[e(t.position,"a",{href:"#"+e.clobberPrefix+"fn-"+i,id:e.clobberPrefix+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:"footnote-label"},[mr("text",String(r))])])}var Lr,Mr={};function Tr(e,t,n){var i,o,r,s,a,l="";for("string"!=typeof t&&(n=t,t=Tr.defaultChars),void 0===n&&(n=!0),a=function(e){var t,n,i=Mr[e];if(i)return i;for(i=Mr[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?i.push(n):i.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)i[e.charCodeAt(t)]=e[t];return i}(t),i=0,o=e.length;i<o;i++)if(r=e.charCodeAt(i),n&&37===r&&i+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))l+=e.slice(i,i+3),i+=2;else if(r<128)l+=a[r];else if(r>=55296&&r<=57343){if(r>=55296&&r<=56319&&i+1<o&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){l+=encodeURIComponent(e[i]+e[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[i]);return l}function Nr(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return mr("text","!["+t.alt+i);const o=Dr(e,t),r=o[0];r&&"text"===r.type?r.value="["+r.value:o.unshift(mr("text","["));const s=o[o.length-1];return s&&"text"===s.type?s.value+=i:o.push(mr("text",i)),o}function Pr(e){const t=e.spread;return null==t?e.children.length>1:t}Tr.defaultChars=";/?:@&=+$,-_.!~*'()#",Tr.componentChars="-_.!~*'()",Lr=Tr;const Or={blockquote:function(e,t){return e(t,"blockquote",Ir(Dr(e,t),!0))},break:function(e,t){return[e(t,"br"),mr("text","\n")]},code:function(e,t){const n=t.value?t.value+"\n":"",i=t.lang&&t.lang.match(/^[^ \t]+(?=[ \t]|$)/),o={};i&&(o.className=["language-"+i]);const r=e(t,"code",o,[mr("text",n)]);return t.meta&&(r.data={meta:t.meta}),e(t.position,"pre",[r])},delete:function(e,t){return e(t,"del",Dr(e,t))},emphasis:function(e,t){return e(t,"em",Dr(e,t))},footnoteReference:Rr,footnote:function(e,t){const n=e.footnoteById;let i=1;for(;i in n;)i++;const o=String(i);return n[o]={type:"footnoteDefinition",identifier:o,children:[{type:"paragraph",children:t.children}],position:t.position},Rr(e,{type:"footnoteReference",identifier:o,position:t.position})},heading:function(e,t){return e(t,"h"+t.depth,Dr(e,t))},html:function(e,t){return e.dangerous?e.augment(t,mr("raw",t.value)):null},imageReference:function(e,t){const i=e.definition(t.identifier);if(!i)return Nr(e,t);const o={src:n(Lr)(i.url||""),alt:t.alt};return null!==i.title&&void 0!==i.title&&(o.title=i.title),e(t,"img",o)},image:function(e,t){const i={src:n(Lr)(t.url),alt:t.alt};return null!==t.title&&void 0!==t.title&&(i.title=t.title),e(t,"img",i)},inlineCode:function(e,t){return e(t,"code",[mr("text",t.value.replace(/\r?\n|\r/g," "))])},linkReference:function(e,t){const i=e.definition(t.identifier);if(!i)return Nr(e,t);const o={href:n(Lr)(i.url||"")};return null!==i.title&&void 0!==i.title&&(o.title=i.title),e(t,"a",o,Dr(e,t))},link:function(e,t){const i={href:n(Lr)(t.url)};return null!==t.title&&void 0!==t.title&&(i.title=t.title),e(t,"a",i,Dr(e,t))},listItem:function(e,t,n){const i=Dr(e,t),o=n?function(e){let t=e.spread;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=Pr(n[i]);return Boolean(t)}(n):Pr(t),r={},s=[];if("boolean"==typeof t.checked){let n;i[0]&&"element"===i[0].type&&"p"===i[0].tagName?n=i[0]:(n=e(null,"p",[]),i.unshift(n)),n.children.length>0&&n.children.unshift(mr("text"," ")),n.children.unshift(e(null,"input",{type:"checkbox",checked:t.checked,disabled:!0})),r.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const e=i[a];(o||0!==a||"element"!==e.type||"p"!==e.tagName)&&s.push(mr("text","\n")),"element"!==e.type||"p"!==e.tagName||o?s.push(e):s.push(...e.children)}const l=i[i.length-1];return!l||!o&&"tagName"in l&&"p"===l.tagName||s.push(mr("text","\n")),e(t,"li",r,s)},list:function(e,t){const n={},i=t.ordered?"ol":"ul",o=Dr(e,t);let r=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++r<o.length;){const e=o[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}return e(t,i,n,Ir(o,!0))},paragraph:function(e,t){return e(t,"p",Dr(e,t))},root:function(e,t){return e.augment(t,mr("root",Ir(Dr(e,t))))},strong:function(e,t){return e(t,"strong",Dr(e,t))},table:function(e,t){const n=t.children;let i=-1;const o=t.align||[],r=[];for(;++i<n.length;){const s=n[i].children,a=0===i?"th":"td",l=[];let c=-1;const u=t.align?o.length:s.length;for(;++c<u;){const t=s[c];l.push(e(t,a,{align:o[c]},t?Dr(e,t):[]))}r[i]=e(n[i],"tr",Ir(l,!0))}return e(t,"table",Ir([e(r[0].position,"thead",Ir([r[0]],!0))].concat(r[1]?e({start:vr(r[1]),end:br(r[r.length-1])},"tbody",Ir(r.slice(1),!0)):[]),!0))},text:function(e,t){return e.augment(t,mr("text",String(t.value).replace(/[ \t]*(\r?\n|\r)[ \t]*/g,"$1")))},thematicBreak:function(e,t){return e(t,"hr")},toml:Fr,yaml:Fr,definition:Fr,footnoteDefinition:Fr};function Fr(){return null}const zr={}.hasOwnProperty;function Br(e,t){const n=function(e,t){const n=t||{},i=n.allowDangerousHtml||!1,o={};return s.dangerous=i,s.clobberPrefix=void 0===n.clobberPrefix||null===n.clobberPrefix?"user-content-":n.clobberPrefix,s.footnoteLabel=n.footnoteLabel||"Footnotes",s.footnoteBackLabel=n.footnoteBackLabel||"Back to content",s.definition=Cr(e),s.footnoteById=o,s.footnoteOrder=[],s.footnoteCounts={},s.augment=r,s.handlers={...Or,...n.handlers},s.unknownHandler=n.unknownHandler,s.passThrough=n.passThrough,Tt(e,"footnoteDefinition",(e=>{const t=String(e.identifier).toUpperCase();zr.call(o,t)||(o[t]=e)})),s;function r(e,t){if(e&&"data"in e&&e.data){const n=e.data;n.hName&&("element"!==t.type&&(t={type:"element",tagName:"",properties:{},children:[]}),t.tagName=n.hName),"element"===t.type&&n.hProperties&&(t.properties={...t.properties,...n.hProperties}),"children"in t&&t.children&&n.hChildren&&(t.children=n.hChildren)}if(e){const i="type"in e?e:{position:e};(n=i)&&n.position&&n.position.start&&n.position.start.line&&n.position.start.column&&n.position.end&&n.position.end.line&&n.position.end.column&&(t.position={start:vr(i),end:br(i)})}var n;return t}function s(e,t,n,i){return Array.isArray(n)&&(i=n,n={}),r(e,{type:"element",tagName:t,properties:n||{},children:i||[]})}}(e,t),i=kr(n,e,null),o=Ar(n);return o&&i.children.push(mr("text","\n"),o),Array.isArray(i)?{type:"root",children:i}:i}var Hr=function(e,t){return e&&"run"in e?function(e,t){return(n,i,o)=>{e.run(Br(n,t),i,(e=>{o(e)}))}}(e,t):function(e){return t=>Br(t,e)}(e||t)};function Wr(e){if(e)throw e}var jr;
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */jr=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)};var Vr,Kr=Object.prototype.hasOwnProperty,Ur=Object.prototype.toString,qr=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,Gr=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===Ur.call(e)},Qr=function(e){if(!e||"[object Object]"!==Ur.call(e))return!1;var t,n=Kr.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Kr.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;for(t in e);return void 0===t||Kr.call(e,t)},Xr=function(e,t){qr&&"__proto__"===t.name?qr(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Zr=function(e,t){if("__proto__"===t){if(!Kr.call(e,t))return;if($r)return $r(e,t).value}return e[t]};function Jr(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function Yr(){const e=[],t={run:function(...t){let n=-1;const i=t.pop();if("function"!=typeof i)throw new TypeError("Expected function as last argument, not "+i);!function o(r,...s){const a=e[++n];let l=-1;if(r)i(r);else{for(;++l<t.length;)null!==s[l]&&void 0!==s[l]||(s[l]=t[l]);t=s,a?function(e,t){let n;return i;function i(...t){const i=e.length>t.length;let s;i&&t.push(o);try{s=e(...t)}catch(e){const t=e;if(i&&n)throw t;return o(t)}i||(s instanceof Promise?s.then(r,o):s instanceof Error?o(s):r(s))}function o(e,...i){n||(n=!0,t(e,...i))}function r(e){o(null,e)}}(a,o)(...s):i(null,...s)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}Vr=function e(){var t,n,i,o,r,s,a=arguments[0],l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),(null==a||"object"!=typeof a&&"function"!=typeof a)&&(a={});l<c;++l)if(null!=(t=arguments[l]))for(n in t)i=Zr(a,n),a!==(o=Zr(t,n))&&(u&&o&&(Qr(o)||(r=Gr(o)))?(r?(r=!1,s=i&&Gr(i)?i:[]):s=i&&Qr(i)?i:{},Xr(a,{name:n,newValue:e(u,s,o)})):void 0!==o&&Xr(a,{name:n,newValue:o}));return a};class es extends Error{constructor(e,t,n){var i,o=[null,null],r={start:{line:null,column:null},end:{line:null,column:null}};super(),"string"==typeof t&&(n=t,t=null),"string"==typeof n&&(-1===(i=n.indexOf(":"))?o[1]=n:(o[0]=n.slice(0,i),o[1]=n.slice(i+1))),t&&("type"in t||"position"in t?t.position&&(r=t.position):"start"in t||"end"in t?r=t:("line"in t||"column"in t)&&(r.start=t)),this.name=ar(t)||"1:1",this.message="object"==typeof e?e.message:e,this.stack="object"==typeof e?e.stack:"",this.reason=this.message,this.line=r.start.line,this.column=r.start.column,this.source=o[0],this.ruleId=o[1],this.position=r,this.file,this.fatal,this.url,this.note}}es.prototype.file="",es.prototype.name="",es.prototype.reason="",es.prototype.message="",es.prototype.stack="",es.prototype.fatal=null,es.prototype.column=null,es.prototype.line=null,es.prototype.source=null,es.prototype.ruleId=null,es.prototype.position=null;const ts={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');ns(e);let n,i=0,o=-1,r=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;r--;)if(47===e.charCodeAt(r)){if(n){i=r+1;break}}else o<0&&(n=!0,o=r+1);return o<0?"":e.slice(i,o)}if(t===e)return"";let s=-1,a=t.length-1;for(;r--;)if(47===e.charCodeAt(r)){if(n){i=r+1;break}}else s<0&&(n=!0,s=r+1),a>-1&&(e.charCodeAt(r)===t.charCodeAt(a--)?a<0&&(o=r):(a=-1,o=s));i===o?o=s:o<0&&(o=e.length);return e.slice(i,o)},dirname:function(e){if(ns(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.charCodeAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.charCodeAt(0)?"/":".":1===n&&47===e.charCodeAt(0)?"//":e.slice(0,n)},extname:function(e){ns(e);let t,n=e.length,i=-1,o=0,r=-1,s=0;for(;n--;){const a=e.charCodeAt(n);if(47!==a)i<0&&(t=!0,i=n+1),46===a?r<0?r=n:1!==s&&(s=1):r>-1&&(s=-1);else if(t){o=n+1;break}}return r<0||i<0||0===s||1===s&&r===i-1&&r===o+1?"":e.slice(r,i)},join:function(...e){let t,n=-1;for(;++n<e.length;)ns(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){ns(e);const t=47===e.charCodeAt(0);let n=function(e,t){let n,i,o="",r=0,s=-1,a=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(s===l-1||1===a);else if(s!==l-1&&2===a){if(o.length<2||2!==r||46!==o.charCodeAt(o.length-1)||46!==o.charCodeAt(o.length-2))if(o.length>2){if(i=o.lastIndexOf("/"),i!==o.length-1){i<0?(o="",r=0):(o=o.slice(0,i),r=o.length-1-o.lastIndexOf("/")),s=l,a=0;continue}}else if(o.length>0){o="",r=0,s=l,a=0;continue}t&&(o=o.length>0?o+"/..":"..",r=2)}else o.length>0?o+="/"+e.slice(s+1,l):o=e.slice(s+1,l),r=l-s-1;s=l,a=0}else 46===n&&a>-1?a++:a=-1}return o}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.charCodeAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function ns(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const is={cwd:function(){return"/"}};function os(e){return null!==e&&"object"==typeof e&&e.href&&e.origin}function rs(e){if("string"==typeof e)e=new URL(e);else if(!os(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.charCodeAt(n)&&50===t.charCodeAt(n+1)){const e=t.charCodeAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const ss=["history","path","basename","stem","extname","dirname"];class as{get path(){return this.history[this.history.length-1]}set path(e){os(e)&&(e=rs(e)),cs(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return"string"==typeof this.path?ts.dirname(this.path):void 0}set dirname(e){us(this.basename,"dirname"),this.path=ts.join(e||"",this.basename)}get basename(){return"string"==typeof this.path?ts.basename(this.path):void 0}set basename(e){cs(e,"basename"),ls(e,"basename"),this.path=ts.join(this.dirname||"",e)}get extname(){return"string"==typeof this.path?ts.extname(this.path):void 0}set extname(e){if(ls(e,"extname"),us(this.dirname,"extname"),e){if(46!==e.charCodeAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ts.join(this.dirname,this.stem+(e||""))}get stem(){return"string"==typeof this.path?ts.basename(this.path,this.extname):void 0}set stem(e){cs(e,"stem"),ls(e,"stem"),this.path=ts.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e)}message(e,t,n){const i=new es(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=null,i}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}constructor(e){let t;t=e?"string"==typeof e||n(jr)(e)?{value:e}:os(e)?{path:e}:e:{},this.data={},this.messages=[],this.history=[],this.cwd=is.cwd(),this.value,this.stored,this.result,this.map;let i,o=-1;for(;++o<ss.length;){const e=ss[o];e in t&&void 0!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(i in t)ss.includes(i)||(this[i]=t[i])}}function ls(e,t){if(e&&e.includes(ts.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ts.sep+"`")}function cs(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function us(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const ds=function e(){const t=Yr(),i=[];let o,r={},s=-1;return a.data=function(e,t){if("string"==typeof e)return 2===arguments.length?(ms("data",o),r[e]=t,a):hs.call(r,e)&&r[e]||null;if(e)return ms("data",o),r=e,a;return r},a.Parser=void 0,a.Compiler=void 0,a.freeze=function(){if(o)return a;for(;++s<i.length;){const[e,...n]=i[s];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const o=e.call(a,...n);"function"==typeof o&&t.use(o)}return o=!0,s=Number.POSITIVE_INFINITY,a},a.attachers=i,a.use=function(e,...t){let s;if(ms("use",o),null==e);else if("function"==typeof e)d(e,...t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?u(e):c(e)}s&&(r.settings=Object.assign(r.settings||{},s));return a;function l(e){if("function"==typeof e)d(e);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;d(t,...n)}else c(e)}}function c(e){u(e.plugins),e.settings&&(s=Object.assign(s||{},e.settings))}function u(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){l(e[t])}}}function d(e,t){let o,r=-1;for(;++r<i.length;)if(i[r][0]===e){o=i[r];break}o?(Jr(o[1])&&Jr(t)&&(t=n(Vr)(!0,o[1],t)),o[1]=t):i.push([...arguments])}},a.parse=function(e){a.freeze();const t=ys(e),n=a.Parser;if(gs("parse",n),ps(n,"parse"))return new n(String(t),t).parse();return n(String(t),t)},a.stringify=function(e,t){a.freeze();const n=ys(t),i=a.Compiler;if(fs("stringify",i),vs(e),ps(i,"compile"))return new i(e,n).compile();return i(e,n)},a.run=function(e,n,i){vs(e),a.freeze(),i||"function"!=typeof n||(i=n,n=void 0);if(!i)return new Promise(o);function o(o,r){function s(t,n,s){n=n||e,t?r(t):o?o(n):i(null,n,s)}t.run(e,ys(n),s)}o(null,i)},a.runSync=function(e,t){let n,i;return a.run(e,t,o),bs("runSync","run",i),n;function o(e,t){Wr(e),n=t,i=!0}},a.process=function(e,t){if(a.freeze(),gs("process",a.Parser),fs("process",a.Compiler),!t)return new Promise(i);function i(i,o){const r=ys(e);function s(e,n){e||!n?o(e):i?i(n):t(null,n)}a.run(a.parse(r),r,((e,t,i)=>{if(!e&&t&&i){const r=a.stringify(t,i);null==r||("string"==typeof(o=r)||n(jr)(o)?i.value=r:i.result=r),s(e,i)}else s(e);var o}))}i(null,t)},a.processSync=function(e){let t;a.freeze(),gs("processSync",a.Parser),fs("processSync",a.Compiler);const n=ys(e);return a.process(n,i),bs("processSync","process",t),n;function i(e){t=!0,Wr(e)}},a;function a(){const t=e();let o=-1;for(;++o<i.length;)t.use(...i[o]);return t.data(n(Vr)(!0,{},r)),t}}().freeze(),hs={}.hasOwnProperty;function ps(e,t){return"function"==typeof e&&e.prototype&&(function(e){let t;for(t in e)if(hs.call(e,t))return!0;return!1}(e.prototype)||t in e.prototype)}function gs(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Parser`")}function fs(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `Compiler`")}function ms(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vs(e){if(!Jr(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function bs(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function ys(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new as(e)}const _s=ds().use(fr).use((function(e={}){const t=this.data();function n(e,n){(t[e]?t[e]:t[e]=[]).push(n)}n("micromarkExtensions",Wn(e)),n("fromMarkdownExtensions",[Xn,{enter:{gfmFootnoteDefinition:function(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(e){this.exit(e)},gfmFootnoteDefinitionLabelString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=wn(this.sliceSerialize(e)).toLowerCase()},gfmFootnoteCall:function(e){this.exit(e)},gfmFootnoteCallString:function(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=wn(this.sliceSerialize(e)).toLowerCase()}}},_i,Ii,Bi]),n("toMarkdownExtensions",ji(e))})).use(Hr).use((function(e){const t={...e,...this.data("settings")};null!==t.fragment&&void 0!==t.fragment||(t.fragment=!0),Object.assign(this,{Compiler:function(e){const n=Dt(e,t);return(new XMLSerializer).serializeToString(n).replace(It,"")}})})).use((function(){return Pt})),Cs=async e=>(await _s.process(e.getValue())).toString(),xs=e=>{const{editor:t}=e,[n,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{if(null===t)return;Cs(t).then((e=>i(e)));const e=async()=>{i(await Cs(t))},n=[t.onDidChangeModelContent(e),t.onDidChangeModel(e)];return()=>n.forEach((e=>e.dispose()))}),[t]),n};l=r("gQRSt");var Ss,ws=/^\s+|\s+$/g,ks=/^[-+]0x[0-9a-f]+$/i,Es=/^0b[01]+$/i,Ds=/^0o[0-7]+$/i,Is=parseInt,As="object"==typeof t&&t&&t.Object===Object&&t,Rs="object"==typeof self&&self&&self.Object===Object&&self,Ls=As||Rs||Function("return this")(),Ms=Object.prototype.toString,Ts=Math.max,Ns=Math.min,Ps=function(){return Ls.Date.now()};function Os(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Fs(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Ms.call(e)}(e))return NaN;if(Os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(ws,"");var n=Es.test(e);return n||Ds.test(e)?Is(e.slice(2),n?2:8):ks.test(e)?NaN:+e}Ss=function(e,t,n){var i,o,r,s,a,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function g(e){return c=e,a=setTimeout(m,t),u?p(e):s}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=r}function m(){var e=Ps();if(f(e))return v(e);a=setTimeout(m,function(e){var n=t-(e-l);return d?Ns(n,r-(e-c)):n}(e))}function v(e){return a=void 0,h&&i?p(e):(i=o=void 0,s)}function b(){var e=Ps(),n=f(e);if(i=arguments,o=this,l=e,n){if(void 0===a)return g(l);if(d)return a=setTimeout(m,t),p(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=Fs(t)||0,Os(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Ts(Fs(n.maxWait)||0,t):r,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=o=a=void 0},b.flush=function(){return void 0===a?s:v(Ps())},b};const zs=e=>{const{editor:t}=e,i=(0,l.useRef)(null),o=(0,l.useMemo)((()=>null===t?null:n(Ss)((()=>((e,t)=>{const[n]=e.getVisibleRanges(),i=n.startLineNumber;1===i?t.current?.parentElement?.scrollTo({top:0,behavior:"smooth"}):document.querySelector(`[data-line="${i}"]`)?.scrollIntoView({block:"start",behavior:"smooth"})})(t,i)),100)),[t]);return(0,l.useEffect)((()=>{if(null===t||null===o)return;const e=t.onDidScrollChange(o);return()=>e.dispose()}),[t,o]),i};l=r("gQRSt");const Bs=e=>{const{storageKey:t,defaultValue:n}=e,[i,o]=(0,l.useState)((()=>{const e=window.localStorage.getItem(t);return null===e?n:JSON.parse(e)}));return(0,l.useEffect)((()=>{window.localStorage.setItem(t,JSON.stringify(i))}),[i,t]),[i,o]};var Hs,Ws={};e(Ws,"container",(function(){return Hs}),(function(e){return Hs=e})),Hs="container_118647";var js,Vs={};e(Vs,"container",(function(){return js}),(function(e){return js=e})),js="container_8ba079";var Ks,Us={container:`${n(Ws).container} ${n(Vs).container}`},qs={};e(qs,"container",(function(){return Ks}),(function(e){return Ks=e})),Ks="container_1ca218";var $s,Gs={};e(Gs,"container",(function(){return $s}),(function(e){return $s=e})),$s="container_50be62";var Qs,Xs={container:`${n(Gs).container} ${n(qs).container}`},Zs={};e(Zs,"container",(function(){return Qs}),(function(e){return Qs=e})),Qs="container_4fc392";var Js,Ys={};e(Ys,"container",(function(){return Js}),(function(e){return Js=e})),Js="container_596e24";var ea={container:`${n(Zs).container} ${n(Ys).container}`};const ta=["tailwind","github","serif"],na={github:{name:"GitHub",className:Us.container},tailwind:{name:"Tailwind",className:ea.container},serif:{name:"Serif",className:Xs.container}},ia=()=>{const[e,t]=Bs({defaultValue:"github",storageKey:"preview-template"});return{previewTemplate:e,setPreviewTemplate:t}},oa=e=>({background:ve[e.prefs.theme].colors.bg.lighten(.15).hex()}),ra=e=>{const{editor:t}=e,i=zs({editor:t}),o=xs({editor:t}),r=na[e.prefs.previewTemplate];return(0,s.jsx)("div",{className:n(We).container,children:(0,s.jsx)("div",{className:[n(We).paper].join(" "),style:oa(e),children:(0,s.jsx)("div",{ref:i,className:[n(We).content,r.className].join(" "),dangerouslySetInnerHTML:{__html:o}})})})};var sa,aa,la,ca,ua,da={};e(da,"layout",(function(){return sa}),(function(e){return sa=e})),e(da,"editor",(function(){return aa}),(function(e){return aa=e})),e(da,"preview",(function(){return la}),(function(e){return la=e})),e(da,"previewView",(function(){return ca}),(function(e){return ca=e})),e(da,"splitView",(function(){return ua}),(function(e){return ua=e})),sa="layout_b11c73",aa="editor_b11c73",la="preview_b11c73",ca="previewView_b11c73",ua="splitView_b11c73";const ha=e=>{const{previewVisible:t,previewSplit:i}=e.prefs;return!1===t?n(da).editorView:i?n(da).splitView:n(da).previewView},pa=e=>(0,s.jsxs)("div",{className:[n(da).layout,ha(e)].join(" "),children:[(0,s.jsx)("div",{className:n(da).editor,children:(0,s.jsx)(Fe,{file:e.file,prefs:e.prefs,editor:e.editor})}),e.prefs.previewVisible&&(0,s.jsx)("div",{className:n(da).preview,children:(0,s.jsx)(ra,{editor:e.editor.value,prefs:e.prefs})})]});function ga(e){return e?(e.nodeName||"").toLowerCase():null}function fa(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ma(e){return e instanceof fa(e).Element||e instanceof Element}function va(e){return e instanceof fa(e).HTMLElement||e instanceof HTMLElement}function ba(e){return"undefined"!=typeof ShadowRoot&&(e instanceof fa(e).ShadowRoot||e instanceof ShadowRoot)}var ya={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];va(o)&&ga(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});va(i)&&ga(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]},_a=Math.round;function Ca(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),i=1,o=1;return va(e)&&t&&(i=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1),{width:_a(n.width/i),height:_a(n.height/o),top:_a(n.top/o),right:_a(n.right/i),bottom:_a(n.bottom/o),left:_a(n.left/i),x:_a(n.left/i),y:_a(n.top/o)}}function xa(e){var t=fa(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Sa(e){return((ma(e)?e.ownerDocument:e.document)||window.document).documentElement}function wa(e){return Ca(Sa(e)).left+xa(e).scrollLeft}function ka(e){return fa(e).getComputedStyle(e)}function Ea(e){var t=ka(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function Da(e,t,n){void 0===n&&(n=!1);var i,o,r=va(t),s=va(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return 1!==n||1!==i}(t),a=Sa(t),l=Ca(e,s),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==ga(t)||Ea(a))&&(c=(i=t)!==fa(i)&&va(i)?{scrollLeft:(o=i).scrollLeft,scrollTop:o.scrollTop}:xa(i)),va(t)?((u=Ca(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=wa(a))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Ia(e){var t=Ca(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Aa(e){return"html"===ga(e)?e:e.assignedSlot||e.parentNode||(ba(e)?e.host:null)||Sa(e)}function Ra(e){return["html","body","#document"].indexOf(ga(e))>=0?e.ownerDocument.body:va(e)&&Ea(e)?e:Ra(Aa(e))}function La(e,t){var n;void 0===t&&(t=[]);var i=Ra(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=fa(i),s=o?[r].concat(r.visualViewport||[],Ea(i)?i:[]):i,a=t.concat(s);return o?a:a.concat(La(Aa(s)))}function Ma(e){return["table","td","th"].indexOf(ga(e))>=0}function Ta(e){return va(e)&&"fixed"!==ka(e).position?e.offsetParent:null}function Na(e){for(var t=fa(e),n=Ta(e);n&&Ma(n)&&"static"===ka(n).position;)n=Ta(n);return n&&("html"===ga(n)||"body"===ga(n)&&"static"===ka(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&va(e)&&"fixed"===ka(e).position)return null;for(var n=Aa(e);va(n)&&["html","body"].indexOf(ga(n))<0;){var i=ka(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var Pa=["top","bottom","right","left"],Oa=Pa.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),Fa=[].concat(Pa,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),za=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ba(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}function Ha(e){var t=Ba(e);return za.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}function Wa(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}var ja={placement:"bottom",modifiers:[],strategy:"absolute"};function Va(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Ka(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?ja:o;return function(e,t,n){void 0===n&&(n=r);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ja,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:a,setOptions:function(n){d(),a.options=Object.assign({},r,a.options,n),a.scrollParents={reference:ma(e)?La(e):e.contextElement?La(e.contextElement):[],popper:La(t)};var o=Ha(Wa([].concat(i,a.options.modifiers)));return a.orderedModifiers=o.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var r=o({state:a,name:t,instance:u,options:i}),s=function(){};l.push(r||s)}})),u.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,n=e.popper;if(Va(t,n)){a.rects={reference:Da(t,Na(n),"fixed"===a.options.strategy),popper:Ia(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<a.orderedModifiers.length;i++)if(!0!==a.reset){var o=a.orderedModifiers[i],r=o.fn,s=o.options,l=void 0===s?{}:s,d=o.name;"function"==typeof r&&(a=r({state:a,options:l,name:d,instance:u})||a)}else a.reset=!1,i=-1}}},update:(o=function(){return new Promise((function(e){u.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(o())}))}))),s}),destroy:function(){d(),c=!0}};if(!Va(e,t))return u;function d(){l.forEach((function(e){return e()})),l=[]}return u.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Ua={passive:!0};var qa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,s=i.resize,a=void 0===s||s,l=fa(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ua)})),a&&l.addEventListener("resize",n.update,Ua),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ua)})),a&&l.removeEventListener("resize",n.update,Ua)}},data:{}};function $a(e){return e.split("-")[0]}function Ga(e){return e.split("-")[1]}function Qa(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Xa(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?$a(o):null,s=o?Ga(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case"top":t={x:a,y:n.y-i.height};break;case"bottom":t={x:a,y:n.y+n.height};break;case"right":t={x:n.x+n.width,y:l};break;case"left":t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?Qa(r):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case"start":t[c]=t[c]-(n[u]/2-i[u]/2);break;case"end":t[c]=t[c]+(n[u]/2-i[u]/2)}}return t}var Za={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Xa({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},Ja=Math.max,Ya=Math.min,el=Math.round,tl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function nl(e){var t,n=e.popper,i=e.popperRect,o=e.placement,r=e.offsets,s=e.position,a=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,u=!0===c?function(e){var t=e.x,n=e.y,i=window.devicePixelRatio||1;return{x:el(el(t*i)/i)||0,y:el(el(n*i)/i)||0}}(r):"function"==typeof c?c(r):r,d=u.x,h=void 0===d?0:d,p=u.y,g=void 0===p?0:p,f=r.hasOwnProperty("x"),m=r.hasOwnProperty("y"),v="left",b="top",y=window;if(l){var _=Na(n),C="clientHeight",x="clientWidth";_===fa(n)&&"static"!==ka(_=Sa(n)).position&&(C="scrollHeight",x="scrollWidth"),"top"===o&&(b="bottom",g-=_[C]-i.height,g*=a?1:-1),"left"===o&&(v="right",h-=_[x]-i.width,h*=a?1:-1)}var S,w=Object.assign({position:s},l&&tl);return a?Object.assign({},w,((S={})[b]=m?"0":"",S[v]=f?"0":"",S.transform=(y.devicePixelRatio||1)<2?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",S)):Object.assign({},w,((t={})[b]=m?g+"px":"",t[v]=f?h+"px":"",t.transform="",t))}var il={left:"right",right:"left",bottom:"top",top:"bottom"};function ol(e){return e.replace(/left|right|bottom|top/g,(function(e){return il[e]}))}var rl={start:"end",end:"start"};function sl(e){return e.replace(/start|end/g,(function(e){return rl[e]}))}function al(e){var t=fa(e),n=Sa(e),i=t.visualViewport,o=n.clientWidth,r=n.clientHeight,s=0,a=0;return i&&(o=i.width,r=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=i.offsetLeft,a=i.offsetTop)),{width:o,height:r,x:s+wa(e),y:a}}function ll(e){var t,n=Sa(e),i=xa(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=Ja(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ja(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+wa(e),l=-i.scrollTop;return"rtl"===ka(o||n).direction&&(a+=Ja(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}function cl(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ba(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ul(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function dl(e,t){return"viewport"===t?ul(al(e)):va(t)?function(e){var t=Ca(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ul(ll(Sa(e)))}function hl(e,t,n){var i="clippingParents"===t?function(e){var t=La(Aa(e)),n=["absolute","fixed"].indexOf(ka(e).position)>=0&&va(e)?Na(e):e;return ma(n)?t.filter((function(e){return ma(e)&&cl(e,n)&&"body"!==ga(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),r=o[0],s=o.reduce((function(t,n){var i=dl(e,n);return t.top=Ja(i.top,t.top),t.right=Ya(i.right,t.right),t.bottom=Ya(i.bottom,t.bottom),t.left=Ja(i.left,t.left),t}),dl(e,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function pl(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function gl(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function fl(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,r=n.boundary,s=void 0===r?"clippingParents":r,a=n.rootBoundary,l=void 0===a?"viewport":a,c=n.elementContext,u=void 0===c?"popper":c,d=n.altBoundary,h=void 0!==d&&d,p=n.padding,g=void 0===p?0:p,f=pl("number"!=typeof g?g:gl(g,Pa)),m="popper"===u?"reference":"popper",v=e.elements.reference,b=e.rects.popper,y=e.elements[h?m:u],_=hl(ma(y)?y:y.contextElement||Sa(e.elements.popper),s,l),C=Ca(v),x=Xa({reference:C,element:b,strategy:"absolute",placement:o}),S=ul(Object.assign({},b,x)),w="popper"===u?S:C,k={top:_.top-w.top+f.top,bottom:w.bottom-_.bottom+f.bottom,left:_.left-w.left+f.left,right:w.right-_.right+f.right},E=e.modifiersData.offset;if("popper"===u&&E){var D=E[o];Object.keys(k).forEach((function(e){var t=["right","bottom"].indexOf(e)>=0?1:-1,n=["top","bottom"].indexOf(e)>=0?"y":"x";k[e]+=D[n]*t}))}return k}function ml(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Fa:l,u=Ga(i),d=u?a?Oa:Oa.filter((function(e){return Ga(e)===u})):Pa,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=fl(e,{placement:n,boundary:o,rootBoundary:r,padding:s})[$a(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}function vl(e,t,n){return Ja(e,Ya(t,n))}function bl(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function yl(e){return["top","right","bottom","left"].some((function(t){return e[t]>=0}))}var _l=Ka({defaultModifiers:[qa,Za,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,l=void 0===a||a,c={placement:$a(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,nl(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,nl(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},ya,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,s=Fa.reduce((function(e,n){return e[n]=function(e,t,n){var i=$a(e),o=["left","top"].indexOf(i)>=0?-1:1,r="function"==typeof n?n(Object.assign({},t,{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,["left","right"].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=void 0===p||p,f=n.allowedAutoPlacements,m=t.options.placement,v=$a(m),b=l||(v===m||!g?[ol(m)]:function(e){if("auto"===$a(e))return[];var t=ol(e);return[sl(e),t,sl(t)]}(m)),y=[m].concat(b).reduce((function(e,n){return e.concat("auto"===$a(n)?ml(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:g,allowedAutoPlacements:f}):n)}),[]),_=t.rects.reference,C=t.rects.popper,x=new Map,S=!0,w=y[0],k=0;k<y.length;k++){var E=y[k],D=$a(E),I="start"===Ga(E),A=["top","bottom"].indexOf(D)>=0,R=A?"width":"height",L=fl(t,{placement:E,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),M=A?I?"right":"left":I?"bottom":"top";_[R]>C[R]&&(M=ol(M));var T=ol(M),N=[];if(r&&N.push(L[D]<=0),a&&N.push(L[M]<=0,L[T]<=0),N.every((function(e){return e}))){w=E,S=!1;break}x.set(E,N)}if(S)for(var P=function(e){var t=y.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return w=t,"break"},O=g?3:1;O>0;O--){if("break"===P(O))break}t.placement!==w&&(t.modifiersData[i]._skip=!0,t.placement=w,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,g=n.tetherOffset,f=void 0===g?0:g,m=fl(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=$a(t.placement),b=Ga(t.placement),y=!b,_=Qa(v),C="x"===_?"y":"x",x=t.modifiersData.popperOffsets,S=t.rects.reference,w=t.rects.popper,k="function"==typeof f?f(Object.assign({},t.rects,{placement:t.placement})):f,E={x:0,y:0};if(x){if(r||a){var D="y"===_?"top":"left",I="y"===_?"bottom":"right",A="y"===_?"height":"width",R=x[_],L=x[_]+m[D],M=x[_]-m[I],T=p?-w[A]/2:0,N="start"===b?S[A]:w[A],P="start"===b?-w[A]:-S[A],O=t.elements.arrow,F=p&&O?Ia(O):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},B=z[D],H=z[I],W=vl(0,S[A],F[A]),j=y?S[A]/2-T-W-B-k:N-W-B-k,V=y?-S[A]/2+T+W+H+k:P+W+H+k,K=t.elements.arrow&&Na(t.elements.arrow),U=K?"y"===_?K.clientTop||0:K.clientLeft||0:0,q=t.modifiersData.offset?t.modifiersData.offset[t.placement][_]:0,$=x[_]+j-q-U,G=x[_]+V-q;if(r){var Q=vl(p?Ya(L,$):L,R,p?Ja(M,G):M);x[_]=Q,E[_]=Q-R}if(a){var X="x"===_?"top":"left",Z="x"===_?"bottom":"right",J=x[C],Y=J+m[X],ee=J-m[Z],te=vl(p?Ya(Y,$):Y,J,p?Ja(ee,G):ee);x[C]=te,E[C]=te-J}}t.modifiersData[i]=E}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=e.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=$a(n.placement),l=Qa(a),c=["left","right"].indexOf(a)>=0?"height":"width";if(r&&s){var u=function(e,t){return pl("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:gl(e,Pa))}(o.padding,n),d=Ia(r),h="y"===l?"top":"left",p="y"===l?"bottom":"right",g=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],f=s[l]-n.rects.reference[l],m=Na(r),v=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=g/2-f/2,y=u[h],_=v-d[c]-u[p],C=v/2-d[c]/2+b,x=vl(y,C,_),S=l;n.modifiersData[i]=((t={})[S]=x,t.centerOffset=x-C,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&cl(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=fl(t,{elementContext:"reference"}),a=fl(t,{altBoundary:!0}),l=bl(s,i),c=bl(a,o,r),u=yl(l),d=yl(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Cl={passive:!0,capture:!0};function xl(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function Sl(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function wl(e,t){return"function"==typeof e?e.apply(void 0,t):e}function kl(e,t){return 0===t?e:function(i){clearTimeout(n),n=setTimeout((function(){e(i)}),t)};var n}function El(e,t){var n=Object.assign({},e);return t.forEach((function(e){delete n[e]})),n}function Dl(e){return[].concat(e)}function Il(e,t){-1===e.indexOf(t)&&e.push(t)}function Al(e){return e.split("-")[0]}function Rl(e){return[].slice.call(e)}function Ll(){return document.createElement("div")}function Ml(e){return["Element","Fragment"].some((function(t){return Sl(e,t)}))}function Tl(e){return Sl(e,"MouseEvent")}function Nl(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function Pl(e){return Ml(e)?[e]:function(e){return Sl(e,"NodeList")}(e)?Rl(e):Array.isArray(e)?e:Rl(document.querySelectorAll(e))}function Ol(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function Fl(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function zl(e){var t,n=Dl(e)[0];return(null==n||null==(t=n.ownerDocument)?void 0:t.body)?n.ownerDocument:document}function Bl(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[i](t,n)}))}var Hl={isTouch:!1},Wl=0;function jl(){Hl.isTouch||(Hl.isTouch=!0,window.performance&&document.addEventListener("mousemove",Vl))}function Vl(){var e=performance.now();e-Wl<20&&(Hl.isTouch=!1,document.removeEventListener("mousemove",Vl)),Wl=e}function Kl(){var e=document.activeElement;if(Nl(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var Ul="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",ql=/MSIE |Trident\//.test(Ul);var $l={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Gl=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},$l,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),Ql=Object.keys(Gl);function Xl(e){var t=(e.plugins||[]).reduce((function(t,n){var i=n.name,o=n.defaultValue;return i&&(t[i]=void 0!==e[i]?e[i]:o),t}),{});return Object.assign({},e,{},t)}function Zl(e,t){var n=Object.assign({},t,{content:wl(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(Xl(Object.assign({},Gl,{plugins:t}))):Ql).reduce((function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t}),{})}(e,t.plugins));return n.aria=Object.assign({},Gl.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?t.interactive:n.aria.expanded,content:"auto"===n.aria.content?t.interactive?null:"describedby":n.aria.content},n}function Jl(e,t){e.innerHTML=t}function Yl(e){var t=Ll();return!0===e?t.className="tippy-arrow":(t.className="tippy-svg-arrow",Ml(e)?t.appendChild(e):Jl(t,e)),t}function ec(e,t){Ml(t.content)?(Jl(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?Jl(e,t.content):e.textContent=t.content)}function tc(e){var t=e.firstElementChild,n=Rl(t.children);return{box:t,content:n.find((function(e){return e.classList.contains("tippy-content")})),arrow:n.find((function(e){return e.classList.contains("tippy-arrow")||e.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(e){return e.classList.contains("tippy-backdrop")}))}}function nc(e){var t=Ll(),n=Ll();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Ll();function o(n,i){var o=tc(t),r=o.box,s=o.content,a=o.arrow;i.theme?r.setAttribute("data-theme",i.theme):r.removeAttribute("data-theme"),"string"==typeof i.animation?r.setAttribute("data-animation",i.animation):r.removeAttribute("data-animation"),i.inertia?r.setAttribute("data-inertia",""):r.removeAttribute("data-inertia"),r.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?r.setAttribute("role",i.role):r.removeAttribute("role"),n.content===i.content&&n.allowHTML===i.allowHTML||ec(s,e.props),i.arrow?a?n.arrow!==i.arrow&&(r.removeChild(a),r.appendChild(Yl(i.arrow))):r.appendChild(Yl(i.arrow)):a&&r.removeChild(a)}return i.className="tippy-content",i.setAttribute("data-state","hidden"),ec(i,e.props),t.appendChild(n),n.appendChild(i),o(e.props,e.props),{popper:t,onUpdate:o}}nc.$$tippy=!0;var ic=1,oc=[],rc=[];function sc(e,t){var n,i,o,r,s,a,l,c,u,d=Zl(e,Object.assign({},Gl,{},Xl((n=t,Object.keys(n).reduce((function(e,t){return void 0!==n[t]&&(e[t]=n[t]),e}),{}))))),h=!1,p=!1,g=!1,f=!1,m=[],v=kl(G,d.interactiveDebounce),b=ic++,y=(u=d.plugins).filter((function(e,t){return u.indexOf(e)===t})),_={id:b,reference:e,popper:Ll(),popperInstance:null,props:d,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:y,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(o),cancelAnimationFrame(r)},setProps:function(t){0;if(_.state.isDestroyed)return;N("onBeforeUpdate",[_,t]),q();var n=_.props,i=Zl(e,Object.assign({},_.props,{},t,{ignoreAttributes:!0}));_.props=i,U(),n.interactiveDebounce!==i.interactiveDebounce&&(F(),v=kl(G,i.interactiveDebounce));n.triggerTarget&&!i.triggerTarget?Dl(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):i.triggerTarget&&e.removeAttribute("aria-expanded");O(),T(),S&&S(n,i);_.popperInstance&&(J(),ee().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));N("onAfterUpdate",[_,t])},setContent:function(e){_.setProps({content:e})},show:function(){0;var e=_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=Hl.isTouch&&!_.props.touch,o=xl(_.props.duration,0,Gl.duration);if(e||t||n||i)return;if(A().hasAttribute("disabled"))return;if(N("onShow",[_],!1),!1===_.props.onShow(_))return;_.state.isVisible=!0,I()&&(x.style.visibility="visible");T(),W(),_.state.isMounted||(x.style.transition="none");if(I()){var r=L(),s=r.box,a=r.content;Ol([s,a],0)}l=function(){var e;if(_.state.isVisible&&!f){if(f=!0,x.offsetHeight,x.style.transition=_.props.moveTransition,I()&&_.props.animation){var t=L(),n=t.box,i=t.content;Ol([n,i],o),Fl([n,i],"visible")}P(),O(),Il(rc,_),null==(e=_.popperInstance)||e.forceUpdate(),_.state.isMounted=!0,N("onMount",[_]),_.props.animation&&I()&&function(e,t){V(e,t)}(o,(function(){_.state.isShown=!0,N("onShown",[_])}))}},function(){var e,t=_.props.appendTo,n=A();e=_.props.interactive&&t===Gl.appendTo||"parent"===t?n.parentNode:wl(t,[n]);e.contains(x)||e.appendChild(x);J(),!1}()},hide:function(){0;var e=!_.state.isVisible,t=_.state.isDestroyed,n=!_.state.isEnabled,i=xl(_.props.duration,1,Gl.duration);if(e||t||n)return;if(N("onHide",[_],!1),!1===_.props.onHide(_))return;_.state.isVisible=!1,_.state.isShown=!1,f=!1,h=!1,I()&&(x.style.visibility="hidden");if(F(),j(),T(),I()){var o=L(),r=o.box,s=o.content;_.props.animation&&(Ol([r,s],i),Fl([r,s],"hidden"))}P(),O(),_.props.animation?I()&&function(e,t){V(e,(function(){!_.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&t()}))}(i,_.unmount):_.unmount()},hideWithInteractivity:function(e){0;R().addEventListener("mousemove",v),Il(oc,v),v(e)},enable:function(){_.state.isEnabled=!0},disable:function(){_.hide(),_.state.isEnabled=!1},unmount:function(){0;_.state.isVisible&&_.hide();if(!_.state.isMounted)return;Y(),ee().forEach((function(e){e._tippy.unmount()})),x.parentNode&&x.parentNode.removeChild(x);rc=rc.filter((function(e){return e!==_})),_.state.isMounted=!1,N("onHidden",[_])},destroy:function(){0;if(_.state.isDestroyed)return;_.clearDelayTimeouts(),_.unmount(),q(),delete e._tippy,_.state.isDestroyed=!0,N("onDestroy",[_])}};if(!d.render)return _;var C=d.render(_),x=C.popper,S=C.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+_.id,_.popper=x,e._tippy=_,x._tippy=_;var w=y.map((function(e){return e.fn(_)})),k=e.hasAttribute("aria-expanded");return U(),O(),T(),N("onCreate",[_]),d.showOnCreate&&te(),x.addEventListener("mouseenter",(function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()})),x.addEventListener("mouseleave",(function(e){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&(R().addEventListener("mousemove",v),v(e))})),_;function E(){var e=_.props.touch;return Array.isArray(e)?e:[e,0]}function D(){return"hold"===E()[0]}function I(){var e;return!!(null==(e=_.props.render)?void 0:e.$$tippy)}function A(){return c||e}function R(){var e=A().parentNode;return e?zl(e):document}function L(){return tc(x)}function M(e){return _.state.isMounted&&!_.state.isVisible||Hl.isTouch||s&&"focus"===s.type?0:xl(_.props.delay,e?0:1,Gl.delay)}function T(){x.style.pointerEvents=_.props.interactive&&_.state.isVisible?"":"none",x.style.zIndex=""+_.props.zIndex}function N(e,t,n){var i;(void 0===n&&(n=!0),w.forEach((function(n){n[e]&&n[e].apply(void 0,t)})),n)&&(i=_.props)[e].apply(i,t)}function P(){var t=_.props.aria;if(t.content){var n="aria-"+t.content,i=x.id;Dl(_.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(_.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var o=t&&t.replace(i,"").trim();o?e.setAttribute(n,o):e.removeAttribute(n)}}))}}function O(){!k&&_.props.aria.expanded&&Dl(_.props.triggerTarget||e).forEach((function(e){_.props.interactive?e.setAttribute("aria-expanded",_.state.isVisible&&e===A()?"true":"false"):e.removeAttribute("aria-expanded")}))}function F(){R().removeEventListener("mousemove",v),oc=oc.filter((function(e){return e!==v}))}function z(e){if(!(Hl.isTouch&&(g||"mousedown"===e.type)||_.props.interactive&&x.contains(e.target))){if(A().contains(e.target)){if(Hl.isTouch)return;if(_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else N("onClickOutside",[_,e]);!0===_.props.hideOnClick&&(_.clearDelayTimeouts(),_.hide(),p=!0,setTimeout((function(){p=!1})),_.state.isMounted||j())}}function B(){g=!0}function H(){g=!1}function W(){var e=R();e.addEventListener("mousedown",z,!0),e.addEventListener("touchend",z,Cl),e.addEventListener("touchstart",H,Cl),e.addEventListener("touchmove",B,Cl)}function j(){var e=R();e.removeEventListener("mousedown",z,!0),e.removeEventListener("touchend",z,Cl),e.removeEventListener("touchstart",H,Cl),e.removeEventListener("touchmove",B,Cl)}function V(e,t){var n=L().box;function i(e){e.target===n&&(Bl(n,"remove",i),t())}if(0===e)return t();Bl(n,"remove",a),Bl(n,"add",i),a=i}function K(t,n,i){void 0===i&&(i=!1),Dl(_.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,i),m.push({node:e,eventType:t,handler:n,options:i})}))}function U(){var e;D()&&(K("touchstart",$,{passive:!0}),K("touchend",Q,{passive:!0})),(e=_.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(K(e,$),e){case"mouseenter":K("mouseleave",Q);break;case"focus":K(ql?"focusout":"blur",X);break;case"focusin":K("focusout",X)}}))}function q(){m.forEach((function(e){var t=e.node,n=e.eventType,i=e.handler,o=e.options;t.removeEventListener(n,i,o)})),m=[]}function $(e){var t,n=!1;if(_.state.isEnabled&&!Z(e)&&!p){var i="focus"===(null==(t=s)?void 0:t.type);s=e,c=e.currentTarget,O(),!_.state.isVisible&&Tl(e)&&oc.forEach((function(t){return t(e)})),"click"===e.type&&(_.props.trigger.indexOf("mouseenter")<0||h)&&!1!==_.props.hideOnClick&&_.state.isVisible?n=!0:te(e),"click"===e.type&&(h=!n),n&&!i&&ne(e)}}function G(e){var t=e.target,n=A().contains(t)||x.contains(t);"mousemove"===e.type&&n||function(e,t){var n=t.clientX,i=t.clientY;return e.every((function(e){var t=e.popperRect,o=e.popperState,r=e.props.interactiveBorder,s=Al(o.placement),a=o.modifiersData.offset;if(!a)return!0;var l="bottom"===s?a.top.y:0,c="top"===s?a.bottom.y:0,u="right"===s?a.left.x:0,d="left"===s?a.right.x:0,h=t.top-i+l>r,p=i-t.bottom-c>r,g=t.left-n+u>r,f=n-t.right-d>r;return h||p||g||f}))}(ee().concat(x).map((function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:d}:null})).filter(Boolean),e)&&(F(),ne(e))}function Q(e){Z(e)||_.props.trigger.indexOf("click")>=0&&h||(_.props.interactive?_.hideWithInteractivity(e):ne(e))}function X(e){_.props.trigger.indexOf("focusin")<0&&e.target!==A()||_.props.interactive&&e.relatedTarget&&x.contains(e.relatedTarget)||ne(e)}function Z(e){return!!Hl.isTouch&&D()!==e.type.indexOf("touch")>=0}function J(){Y();var t=_.props,n=t.popperOptions,i=t.placement,o=t.offset,r=t.getReferenceClientRect,s=t.moveTransition,a=I()?tc(x).arrow:null,c=r?{getBoundingClientRect:r,contextElement:r.contextElement||A()}:e,u=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(I()){var n=L().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)})),t.attributes.popper={}}}}];I()&&a&&u.push({name:"arrow",options:{element:a,padding:3}}),u.push.apply(u,(null==n?void 0:n.modifiers)||[]),_.popperInstance=_l(c,x,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:u}))}function Y(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function ee(){return Rl(x.querySelectorAll("[data-tippy-root]"))}function te(e){_.clearDelayTimeouts(),e&&N("onTrigger",[_,e]),W();var t=M(!0),n=E(),o=n[0],r=n[1];Hl.isTouch&&"hold"===o&&r&&(t=r),t?i=setTimeout((function(){_.show()}),t):_.show()}function ne(e){if(_.clearDelayTimeouts(),N("onUntrigger",[_,e]),_.state.isVisible){if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&h)){var t=M(!1);t?o=setTimeout((function(){_.state.isVisible&&_.hide()}),t):r=requestAnimationFrame((function(){_.hide()}))}}else j()}}function ac(e,t){void 0===t&&(t={});var n=Gl.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",jl,Cl),window.addEventListener("blur",Kl);var i=Object.assign({},t,{plugins:n}),o=Pl(e).reduce((function(e,t){var n=t&&sc(t,i);return n&&e.push(n),e}),[]);return Ml(e)?o[0]:o}ac.defaultProps=Gl,ac.setDefaultProps=function(e){Object.keys(e).forEach((function(t){Gl[t]=e[t]}))},ac.currentInput=Hl;var lc=Object.assign({},ya,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}});ac.setDefaultProps({render:nc});var cc=ac;l=r("gQRSt");function uc(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}var dc="undefined"!=typeof window&&"undefined"!=typeof document;function hc(e,t){e&&("function"==typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function pc(){return dc&&document.createElement("div")}function gc(e,t){if(e===t)return!0;if("object"==typeof e&&null!=e&&"object"==typeof t&&null!=t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!gc(e[n],t[n]))return!1}return!0}return!1}function fc(e){var t=[];return e.forEach((function(e){t.find((function(t){return gc(e,t)}))||t.push(e)})),t}function mc(e,t){var n,i;return Object.assign({},t,{popperOptions:Object.assign({},e.popperOptions,t.popperOptions,{modifiers:fc([].concat((null==(n=e.popperOptions)?void 0:n.modifiers)||[],(null==(i=t.popperOptions)?void 0:i.modifiers)||[]))})})}var vc=dc?l.useLayoutEffect:l.useEffect;function bc(e){var t=(0,l.useRef)();return t.current||(t.current="function"==typeof e?e():e),t.current}function yc(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var _c={name:"className",defaultValue:"",fn:function(e){var t=e.popper.firstElementChild,n=function(){var t;return!!(null==(t=e.props.render)?void 0:t.$$tippy)};function i(){e.props.className&&!n()||yc(t,"add",e.props.className)}return{onCreate:i,onBeforeUpdate:function(){n()&&yc(t,"remove",e.props.className)},onAfterUpdate:i}}};function Cc(e){return function(t){var i=t.children,o=t.content,r=t.visible,s=t.singleton,c=t.render,u=t.reference,d=t.disabled,h=void 0!==d&&d,p=t.ignoreAttributes,g=void 0===p||p,f=(t.__source,t.__self,uc(t,["children","content","visible","singleton","render","reference","disabled","ignoreAttributes","__source","__self"])),m=void 0!==r,v=void 0!==s,b=(0,l.useState)(!1),y=b[0],_=b[1],C=(0,l.useState)({}),x=C[0],S=C[1],w=(0,l.useState)(),k=w[0],E=w[1],D=bc((function(){return{container:pc(),renders:1}})),I=Object.assign({ignoreAttributes:g},f,{content:D.container});m&&(I.trigger="manual",I.hideOnClick=!1),v&&(h=!0);var A=I,R=I.plugins||[];c&&(A=Object.assign({},I,{plugins:v&&null!=s.data?[].concat(R,[{fn:function(){return{onTrigger:function(e,t){var n=s.data.children.find((function(e){return e.instance.reference===t.currentTarget}));e.state.$$activeSingletonInstance=n.instance,E(n.content)}}}}]):R,render:function(){return{popper:D.container}}}));var L=[u].concat(i?[i.type]:[]);return vc((function(){var t=u;u&&u.hasOwnProperty("current")&&(t=u.current);var n=e(t||D.ref||pc(),Object.assign({},A,{plugins:[_c].concat(I.plugins||[])}));return D.instance=n,h&&n.disable(),r&&n.show(),v&&s.hook({instance:n,content:o,props:A,setSingletonContent:E}),_(!0),function(){n.destroy(),null==s||s.cleanup(n)}}),L),vc((function(){var e;if(1!==D.renders){var t=D.instance;t.setProps(mc(t.props,A)),null==(e=t.popperInstance)||e.forceUpdate(),h?t.disable():t.enable(),m&&(r?t.show():t.hide()),v&&s.hook({instance:t,content:o,props:A,setSingletonContent:E})}else D.renders++})),vc((function(){var e;if(c){var t=D.instance;t.setProps({popperOptions:Object.assign({},t.props.popperOptions,{modifiers:[].concat(((null==(e=t.props.popperOptions)?void 0:e.modifiers)||[]).filter((function(e){return"$$tippyReact"!==e.name})),[{name:"$$tippyReact",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t,n=e.state,i=null==(t=n.modifiersData)?void 0:t.hide;x.placement===n.placement&&x.referenceHidden===(null==i?void 0:i.isReferenceHidden)&&x.escaped===(null==i?void 0:i.hasPopperEscaped)||S({placement:n.placement,referenceHidden:null==i?void 0:i.isReferenceHidden,escaped:null==i?void 0:i.hasPopperEscaped}),n.attributes.popper={}}}])})})}}),[x.placement,x.referenceHidden,x.escaped].concat(L)),n(l).createElement(n(l).Fragment,null,i?(0,l.cloneElement)(i,{ref:function(e){D.ref=e,hc(i.ref,e)}}):null,y&&(0,a.createPortal)(c?c(function(e){var t={"data-placement":e.placement};return e.referenceHidden&&(t["data-reference-hidden"]=""),e.escaped&&(t["data-escaped"]=""),t}(x),k,D.instance):o,D.container))}}function xc(e){return function(t){var n=void 0===t?{}:t,i=n.disabled,o=void 0!==i&&i,r=n.overrides,s=void 0===r?[]:r,a=(0,l.useState)(!1),c=a[0],u=a[1],d=bc({children:[],renders:1});return vc((function(){if(c){var t=d.children,n=d.sourceData;if(n){var i=e(t.map((function(e){return e.instance})),Object.assign({},n.props,{popperOptions:n.instance.props.popperOptions,overrides:s,plugins:[_c].concat(n.props.plugins||[])}));return d.instance=i,o&&i.disable(),function(){i.destroy(),d.children=t.filter((function(e){return!e.instance.state.isDestroyed}))}}}else u(!0)}),[c]),vc((function(){if(c)if(1!==d.renders){var e=d.children,t=d.instance,n=d.sourceData;if(t&&n){var i=n.props,r=(i.content,uc(i,["content"]));t.setProps(mc(t.props,Object.assign({},r,{overrides:s}))),t.setInstances(e.map((function(e){return e.instance}))),o?t.disable():t.enable()}}else d.renders++})),(0,l.useMemo)((function(){return[{data:d,hook:function(e){d.sourceData=e,d.setSingletonContent=e.setSingletonContent},cleanup:function(){d.sourceData=null}},{hook:function(e){var t,n;d.children=d.children.filter((function(t){var n=t.instance;return e.instance!==n})),d.children.push(e),(null==(t=d.instance)?void 0:t.state.isMounted)&&(null==(n=d.instance)?void 0:n.state.$$activeSingletonInstance)===e.instance&&(null==d.setSingletonContent||d.setSingletonContent(e.content)),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))},cleanup:function(e){d.children=d.children.filter((function(t){return t.instance!==e})),d.instance&&!d.instance.state.isDestroyed&&d.instance.setInstances(d.children.map((function(e){return e.instance})))}}]}),[])}}var Sc=function(e,t){return(0,l.forwardRef)((function(i,o){var r=i.children,s=uc(i,["children"]);return n(l).createElement(e,Object.assign({},t,s),r?(0,l.cloneElement)(r,{ref:function(e){hc(o,e),hc(r.ref,e)}}):null)}))},wc=xc((function(e,t){var n;void 0===t&&(t={});var i,o=e,r=[],s=t.overrides,a=[],l=!1;function c(){r=o.map((function(e){return e.reference}))}function u(e){o.forEach((function(t){e?t.enable():t.disable()}))}function d(e){return o.map((function(t){var n=t.setProps;return t.setProps=function(o){n(o),t.reference===i&&e.setProps(o)},function(){t.setProps=n}}))}function h(e,t){var n=r.indexOf(t);if(t!==i){i=t;var a=(s||[]).concat("content").reduce((function(e,t){return e[t]=o[n].props[t],e}),{});e.setProps(Object.assign({},a,{getReferenceClientRect:"function"==typeof a.getReferenceClientRect?a.getReferenceClientRect:function(){return t.getBoundingClientRect()}}))}}u(!1),c();var p={fn:function(){return{onDestroy:function(){u(!0)},onHidden:function(){i=null},onClickOutside:function(e){e.props.showOnCreate&&!l&&(l=!0,i=null)},onShow:function(e){e.props.showOnCreate&&!l&&(l=!0,h(e,r[0]))},onTrigger:function(e,t){h(e,t.currentTarget)}}}},g=ac(Ll(),Object.assign({},El(t,["overrides"]),{plugins:[p].concat(t.plugins||[]),triggerTarget:r,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(n=t.popperOptions)?void 0:n.modifiers)||[],[lc])})})),f=g.show;g.show=function(e){if(f(),!i&&null==e)return h(g,r[0]);if(!i||null!=e){if("number"==typeof e)return r[e]&&h(g,r[e]);if(o.includes(e)){var t=e.reference;return h(g,t)}return r.includes(e)?h(g,e):void 0}},g.showNext=function(){var e=r[0];if(!i)return g.show(0);var t=r.indexOf(i);g.show(r[t+1]||e)},g.showPrevious=function(){var e=r[r.length-1];if(!i)return g.show(e);var t=r.indexOf(i),n=r[t-1]||e;g.show(n)};var m=g.setProps;return g.setProps=function(e){s=e.overrides||s,m(e)},g.setInstances=function(e){u(!0),a.forEach((function(e){return e()})),o=e,u(!1),c(),d(g),g.setProps({triggerTarget:r})},a=d(g),g})),kc=Sc(Cc(cc)),Ec=(l=r("gQRSt"),l=r("gQRSt"),{});!function(e,t,n){if(e){for(var i,o={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},r={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l=1;l<20;++l)o[111+l]="f"+l;for(l=0;l<=9;++l)o[l+96]=l.toString();f.prototype.bind=function(e,t,n){var i=this;return e=e instanceof Array?e:[e],i._bindMultiple.call(i,e,t,n),i},f.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},f.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},f.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},f.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(g(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},f.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},f.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);i=null},f.init=function(){var e=f(t);for(var n in e)"_"!==n.charAt(0)&&(f[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n))},f.init(),e.Mousetrap=f,Ec&&(Ec=f),"function"==typeof define&&define.amd&&define((function(){return f}))}function c(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function u(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return o[e.which]?o[e.which]:r[e.which]?r[e.which]:String.fromCharCode(e.which).toLowerCase()}function d(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function h(e,t,n){return n||(n=function(){if(!i)for(var e in i={},o)e>95&&e<112||o.hasOwnProperty(e)&&(i[o[e]]=e);return i}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function p(e,t){var n,i,o,r=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)i=n[o],a[i]&&(i=a[i]),t&&"keypress"!=t&&s[i]&&(i=s[i],r.push("shift")),d(i)&&r.push(i);return{key:i,modifiers:r,action:t=h(i,r,t)}}function g(e,n){return null!==e&&e!==t&&(e===n||g(e.parentNode,n))}function f(e){var n=this;if(e=e||t,!(n instanceof f))return new f(e);n.target=e,n._callbacks={},n._directMap={};var i,o={},r=!1,s=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in o)e[t]?n=!0:o[t]=0;n||(a=!1)}function h(e,t,i,r,s,a){var l,c,u,h,p=[],g=i.type;if(!n._callbacks[e])return[];for("keyup"==g&&d(e)&&(t=[e]),l=0;l<n._callbacks[e].length;++l)if(c=n._callbacks[e][l],(r||!c.seq||o[c.seq]==c.level)&&g==c.action&&("keypress"==g&&!i.metaKey&&!i.ctrlKey||(u=t,h=c.modifiers,u.sort().join(",")===h.sort().join(",")))){var f=!r&&c.combo==s,m=r&&c.seq==r&&c.level==a;(f||m)&&n._callbacks[e].splice(l,1),p.push(c)}return p}function g(e,t,i,o){n.stopCallback(t,t.target||t.srcElement,i,o)||!1===e(t,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(t),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(t))}function m(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=u(e);t&&("keyup"!=e.type||r!==t?n.handleKey(t,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function v(e,t,n,s){function c(t){return function(){a=t,++o[e],clearTimeout(i),i=setTimeout(l,1e3)}}function d(t){g(n,t,e),"keyup"!==s&&(r=u(t)),setTimeout(l,10)}o[e]=0;for(var h=0;h<t.length;++h){var f=h+1===t.length?d:c(s||p(t[h+1]).action);b(t[h],f,s,e,h)}}function b(e,t,i,o,r){n._directMap[e+":"+i]=t;var s,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?v(e,a,t,i):(s=p(e,i),n._callbacks[s.key]=n._callbacks[s.key]||[],h(s.key,s.modifiers,{type:s.action},o,e,r),n._callbacks[s.key][o?"unshift":"push"]({callback:t,modifiers:s.modifiers,action:s.action,seq:o,level:r,combo:e}))}n._handleKey=function(e,t,n){var i,o=h(e,t,n),r={},c=0,u=!1;for(i=0;i<o.length;++i)o[i].seq&&(c=Math.max(c,o[i].level));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!=c)continue;u=!0,r[o[i].seq]=1,g(o[i].callback,n,o[i].combo,o[i].seq)}else u||g(o[i].callback,n,o[i].combo);var p="keypress"==n.type&&s;n.type!=a||d(e)||p||l(r),s=u&&"keydown"==n.type},n._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)b(e[i],t,n)},c(e,"keypress",m),c(e,"keydown",m),c(e,"keyup",m)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null),function(e){if(e){var t={},n=e.prototype.stopCallback;e.prototype.stopCallback=function(e,i,o,r){return!!this.paused||!t[o]&&!t[r]&&n.call(this,e,i,o)},e.prototype.bindGlobal=function(e,n,i){if(this.bind(e,n,i),e instanceof Array)for(var o=0;o<e.length;o++)t[e[o]]=!0;else t[e]=!0},e.init()}}("undefined"!=typeof Mousetrap?Mousetrap:void 0);const Dc=e=>{const{keys:t,callback:i}=e;(0,l.useEffect)((()=>(n(Ec).bindGlobal(t,(e=>{e.preventDefault(),i()})),()=>{n(Ec).unbind(t)})),[t,i])},Ic=document.getElementById("portal");if(null===Ic)throw Error("#portal is null");const Ac={delay:[500,500],duration:[100,300],moveTransition:"transform 500ms var(--ease-out-quint)",appendTo:Ic,trigger:"mouseenter focus",arrow:!1,offset:[0,8]},Rc=e=>(0,s.jsx)(kc,{...Ac,...e}),Lc=e=>(0,s.jsx)(kc,{...Ac,...e});l=r("gQRSt");var Mc={};e(Mc,"GenIcon",(function(){return zc}),(function(e){return zc=e}));l=r("gQRSt"),l=r("gQRSt");var Tc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Nc=n(l).createContext&&n(l).createContext(Tc),Pc=function(){return(Pc=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Oc=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n};function Fc(e){return e&&e.map((function(e,t){return n(l).createElement(e.tag,Pc({key:t},e.attr),Fc(e.child))}))}function zc(e){return function(t){return n(l).createElement(Bc,Pc({attr:Pc({},e.attr)},t),Fc(e.child))}}function Bc(e){var t=function(t){var i,o=e.attr,r=e.size,s=e.title,a=Oc(e,["attr","size","title"]),c=r||t.size||"1em";return t.className&&(i=t.className),e.className&&(i=(i?i+" ":"")+e.className),n(l).createElement("svg",Pc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,a,{className:i,style:Pc(Pc({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&n(l).createElement("title",null,s),e.children)};return void 0!==Nc?n(l).createElement(Nc.Consumer,null,(function(e){return t(e)})):t(Tc)}function Hc(e){return(0,Mc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 2H9l-.35.15-.65.64-.65-.64L7 2H1.5l-.5.5v10l.5.5h5.29l.86.85h.7l.86-.85h5.29l.5-.5v-10l-.5-.5zm-7 10.32l-.18-.17L7 12H2V3h4.79l.74.74-.03 8.58zM14 12H9l-.35.15-.14.13V3.7l.7-.7H14v9zM6 5H3v1h3V5zm0 4H3v1h3V9zM3 7h3v1H3V7zm10-2h-3v1h3V5zm-3 2h3v1h-3V7zm0 2h3v1h-3V9z"}}]})(e)}function Wc(e){return(0,Mc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.976 10.072l4.357-4.357.62.618L8.284 11h-.618L3 6.333l.619-.618 4.357 4.357z"}}]})(e)}function jc(e){return(0,Mc.GenIcon)({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2h-1v5h1V2zm6.1 5H6.4L6 6.45v-1L6.4 5h3.2l.4.5v1l-.4.5zm-5 3H1.4L1 9.5v-1l.4-.5h3.2l.4.5v1l-.4.5zm3.9-8h-1v2h1V2zm-1 6h1v6h-1V8zm-4 3h-1v3h1v-3zm7.9 0h3.19l.4-.5v-.95l-.4-.5H11.4l-.4.5v.95l.4.5zm2.1-9h-1v6h1V2zm-1 10h1v2h-1v-2z"}}]})(e)}const Vc={open:"mod+o",openNew:"mod+shift+alt+n",openRecent:"mod+shift+o",menu:"mod+.",prefs:"mod+,",compat:"f8",preview:"mod+p",print:"mod+shift+p",save:"mod+s",saveAs:"mod+shift+s",vim:"mod+m",toolbar:"mod+\\"};l=r("gQRSt");function Kc(e,t,...n){if(e in t){let i=t[e];return"function"==typeof i?i(...n):i}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,Kc),i}l=r("gQRSt");var Uc,qc,$c=((qc=$c||{})[qc.None=0]="None",qc[qc.RenderStrategy=1]="RenderStrategy",qc[qc.Static=2]="Static",qc),Gc=((Uc=Gc||{})[Uc.Unmount=0]="Unmount",Uc[Uc.Hidden=1]="Hidden",Uc);function Qc({ourProps:e,theirProps:t,slot:n,defaultTag:i,features:o,visible:r=!0,name:s}){let a=Zc(t,e);if(r)return Xc(a,n,i,s);let l=null!=o?o:0;if(2&l){let{static:e=!1,...t}=a;if(e)return Xc(t,n,i,s)}if(1&l){let{unmount:e=!0,...t}=a;return Kc(e?0:1,{0:()=>null,1:()=>Xc({...t,hidden:!0,style:{display:"none"}},n,i,s)})}return Xc(a,n,i,s)}function Xc(e,t={},n,i){let{as:o=n,children:r,refName:s="ref",...a}=eu(e,["unmount","static"]),c=void 0!==e.ref?{[s]:e.ref}:{},u="function"==typeof r?r(t):r;a.className&&"function"==typeof a.className&&(a.className=a.className(t));let d={};if(o===l.Fragment&&Object.keys(Yc(a)).length>0){if(!(0,l.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(a).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,l.cloneElement)(u,Object.assign({},Zc(u.props,Yc(eu(a,["ref"]))),d,c))}return(0,l.createElement)(o,Object.assign({},eu(a,["ref"]),o!==l.Fragment&&c,o!==l.Fragment&&d),u)}function Zc(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let i of e)for(let e in i)e.startsWith("on")&&"function"==typeof i[e]?(null!=n[e]||(n[e]=[]),n[e].push(i[e])):t[e]=i[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...i){let o=n[e];for(let e of o){if(t.defaultPrevented)return;e(t,...i)}}});return t}function Jc(e){var t;return Object.assign((0,l.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Yc(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function eu(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}function tu(){let e=[],t=[],n={enqueue(e){t.push(e)},addEventListener:(e,t,i,o)=>(e.addEventListener(t,i,o),n.add((()=>e.removeEventListener(t,i,o)))),requestAnimationFrame(...e){let t=requestAnimationFrame(...e);return n.add((()=>cancelAnimationFrame(t)))},nextFrame:(...e)=>n.requestAnimationFrame((()=>n.requestAnimationFrame(...e))),setTimeout(...e){let t=setTimeout(...e);return n.add((()=>clearTimeout(t)))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0){let[t]=e.splice(n,1);t()}}),dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}l=r("gQRSt");function nu(){let[e]=(0,l.useState)(tu);return(0,l.useEffect)((()=>()=>e.dispose()),[e]),e}l=r("gQRSt");let iu="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;l=r("gQRSt"),l=r("gQRSt"),l=r("gQRSt");function ou(e){let t=(0,l.useRef)(e);return iu((()=>{t.current=e}),[e]),t}let ru=function(e){let t=ou(e);return n(l).useCallback(((...e)=>t.current(...e)),[t])},su=Symbol();function au(e,t=!0){return Object.assign(e,{[su]:t})}function lu(...e){let t=(0,l.useRef)(e);(0,l.useEffect)((()=>{t.current=e}),[e]);let n=ru((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[su])))?void 0:n}l=r("gQRSt"),l=r("gQRSt");let cu={serverHandoffComplete:!1};function uu(){let[e,t]=(0,l.useState)(cu.serverHandoffComplete);return(0,l.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,l.useEffect)((()=>{!1===cu.serverHandoffComplete&&(cu.serverHandoffComplete=!0)}),[]),e}var du;let hu=0;function pu(){return++hu}let gu=null!=(du=n(l).useId)?du:function(){let e=uu(),[t,i]=n(l).useState(e?pu:null);return iu((()=>{null===t&&i(pu())}),[t]),null!=t?""+t:void 0};var fu,mu=((fu=mu||{}).Space=" ",fu.Enter="Enter",fu.Escape="Escape",fu.Backspace="Backspace",fu.Delete="Delete",fu.ArrowLeft="ArrowLeft",fu.ArrowUp="ArrowUp",fu.ArrowRight="ArrowRight",fu.ArrowDown="ArrowDown",fu.Home="Home",fu.End="End",fu.PageUp="PageUp",fu.PageDown="PageDown",fu.Tab="Tab",fu);var vu=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(vu||{});function bu(e,t){let n=t.resolveItems();if(n.length<=0)return null;let i=t.resolveActiveIndex(),o=null!=i?i:-1,r=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,i)=>!(-1!==o&&i.length-n-1>=o)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=o)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===r?i:r}function yu(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let i=""===(null==t?void 0:t.getAttribute("disabled"));return(!i||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&i}function _u(e){return"undefined"==typeof window?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Cu=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var xu,Su,wu=((Su=wu||{})[Su.First=1]="First",Su[Su.Previous=2]="Previous",Su[Su.Next=4]="Next",Su[Su.Last=8]="Last",Su[Su.WrapAround=16]="WrapAround",Su[Su.NoScroll=32]="NoScroll",Su),ku=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(ku||{}),Eu=((xu=Eu||{})[xu.Previous=-1]="Previous",xu[xu.Next=1]="Next",xu);function Du(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(Cu))}var Iu=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Iu||{});function Au(e,t=0){var n;return e!==(null==(n=_u(e))?void 0:n.body)&&Kc(t,{0:()=>e.matches(Cu),1(){let t=e;for(;null!==t;){if(t.matches(Cu))return!0;t=t.parentElement}return!1}})}let Ru=["textarea","input"].join(",");function Lu(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let i=t(e),o=t(n);if(null===i||null===o)return 0;let r=i.compareDocumentPosition(o);return r&Node.DOCUMENT_POSITION_FOLLOWING?-1:r&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}function Mu(e,t,n=!0){let i,o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,r=Array.isArray(e)?n?Lu(e):e:Du(e),s=o.activeElement,a=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,r.indexOf(s))-1;if(4&t)return Math.max(0,r.indexOf(s))+1;if(8&t)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},u=0,d=r.length;do{if(u>=d||u+d<=0)return 0;let e=l+u;if(16&t)e=(e+d)%d;else{if(e<0)return 3;if(e>=d)return 1}i=r[e],null==i||i.focus(c),u+=a}while(i!==o.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,Ru))&&n}(i)&&i.select(),i.hasAttribute("tabindex")||i.setAttribute("tabindex","0"),2}l=r("gQRSt");function Tu(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}l=r("gQRSt");function Nu(e,t,n){let i=ou(t);(0,l.useEffect)((()=>{function t(e){i.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}var Pu=(e=>(e[e.None=1]="None",e[e.IgnoreScrollbars=2]="IgnoreScrollbars",e))(Pu||{});function Ou(e,t,n=1){let i=(0,l.useRef)(!1),o=ru((o=>{if(i.current)return;i.current=!0,Tu((()=>{i.current=!1}));let r=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e),s=o.target;if(s.ownerDocument.documentElement.contains(s)){if(2==(2&n)){let e=20,t=s.ownerDocument.documentElement;if(o.clientX>t.clientWidth-e||o.clientX<e||o.clientY>t.clientHeight-e||o.clientY<e)return}for(let e of r){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(s))return}return t(o,s)}}));Nu("pointerdown",o),Nu("mousedown",o)}l=r("gQRSt");function Fu({container:e,accept:t,walk:n,enabled:i=!0}){let o=(0,l.useRef)(t),r=(0,l.useRef)(n);(0,l.useEffect)((()=>{o.current=t,r.current=n}),[t,n]),iu((()=>{if(!e||!i)return;let t=_u(e);if(!t)return;let n=o.current,s=r.current,a=Object.assign((e=>n(e)),{acceptNode:n}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)s(l.currentNode)}),[e,i,o,r])}let zu=(0,(l=r("gQRSt")).createContext)(null);zu.displayName="OpenClosedContext";var Bu=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Bu||{});function Hu(){return(0,l.useContext)(zu)}function Wu({value:e,children:t}){return n(l).createElement(zu.Provider,{value:e},t)}l=r("gQRSt");function ju(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function Vu(e,t){let[n,i]=(0,l.useState)((()=>ju(e)));return iu((()=>{i(ju(e))}),[e.type,e.as]),iu((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&i("button")}),[n,t]),n}l=r("gQRSt");function Ku(...e){return(0,l.useMemo)((()=>_u(...e)),[...e])}var Uu,qu=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qu||{}),$u=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))($u||{}),Gu=((Uu=Gu||{})[Uu.OpenMenu=0]="OpenMenu",Uu[Uu.CloseMenu=1]="CloseMenu",Uu[Uu.GoToItem=2]="GoToItem",Uu[Uu.Search=3]="Search",Uu[Uu.ClearSearch=4]="ClearSearch",Uu[Uu.RegisterItem=5]="RegisterItem",Uu[Uu.UnregisterItem=6]="UnregisterItem",Uu);function Qu(e,t=(e=>e)){let n=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,i=Lu(t(e.items.slice()),(e=>e.dataRef.current.domRef.current)),o=n?i.indexOf(n):null;return-1===o&&(o=null),{items:i,activeItemIndex:o}}let Xu={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{var n;let i=Qu(e),o=bu(t,{resolveItems:()=>i.items,resolveActiveIndex:()=>i.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...i,searchQuery:"",activeItemIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,i=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(i))&&!e.dataRef.current.disabled})),r=o?e.items.indexOf(o):-1;return-1===r||r===e.activeItemIndex?{...e,searchQuery:i}:{...e,searchQuery:i,activeItemIndex:r,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let n=Qu(e,(e=>[...e,{id:t.id,dataRef:t.dataRef}]));return{...e,...n}},6:(e,t)=>{let n=Qu(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}}},Zu=(0,l.createContext)(null);function Ju(e){let t=(0,l.useContext)(Zu);if(null===t){let t=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ju),t}return t}function Yu(e,t){return Kc(t.type,Xu,e,t)}Zu.displayName="MenuContext";let ed=l.Fragment,td=Jc((function(e,t){let i=(0,l.useReducer)(Yu,{menuState:1,buttonRef:(0,l.createRef)(),itemsRef:(0,l.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:o,itemsRef:r,buttonRef:s},a]=i,c=lu(t);Ou([s,r],((e,t)=>{var n;0===o&&(a({type:1}),Au(t,Iu.Loose)||(e.preventDefault(),null==(n=s.current)||n.focus()))}));let u=(0,l.useMemo)((()=>({open:0===o})),[o]),d=e,h={ref:c};return n(l).createElement(Zu.Provider,{value:i},n(l).createElement(Wu,{value:Kc(o,{0:Bu.Open,1:Bu.Closed})},Qc({ourProps:h,theirProps:d,slot:u,defaultTag:ed,name:"Menu"})))})),nd=Jc((function(e,t){var n;let[i,o]=Ju("Menu.Button"),r=lu(i.buttonRef,t),s=`headlessui-menu-button-${gu()}`,a=nu(),c=ru((e=>{switch(e.key){case mu.Space:case mu.Enter:case mu.ArrowDown:e.preventDefault(),e.stopPropagation(),o({type:0}),a.nextFrame((()=>o({type:2,focus:vu.First})));break;case mu.ArrowUp:e.preventDefault(),e.stopPropagation(),o({type:0}),a.nextFrame((()=>o({type:2,focus:vu.Last})))}})),u=ru((e=>{switch(e.key){case mu.Space:e.preventDefault()}})),d=ru((t=>{if(yu(t.currentTarget))return t.preventDefault();e.disabled||(0===i.menuState?(o({type:1}),a.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),o({type:0})))})),h=(0,l.useMemo)((()=>({open:0===i.menuState})),[i]),p=e;return Qc({ourProps:{ref:r,id:s,type:Vu(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===i.menuState,onKeyDown:c,onKeyUp:u,onClick:d},theirProps:p,slot:h,defaultTag:"button",name:"Menu.Button"})})),id=$c.RenderStrategy|$c.Static,od=Jc((function(e,t){var n,i;let[o,r]=Ju("Menu.Items"),s=lu(o.itemsRef,t),a=Ku(o.itemsRef),c=`headlessui-menu-items-${gu()}`,u=nu(),d=Hu(),h=null!==d?d===Bu.Open:0===o.menuState;(0,l.useEffect)((()=>{let e=o.itemsRef.current;!e||0===o.menuState&&e!==(null==a?void 0:a.activeElement)&&e.focus({preventScroll:!0})}),[o.menuState,o.itemsRef,a]),Fu({container:o.itemsRef.current,enabled:0===o.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let p=ru((e=>{var t,n;switch(u.dispose(),e.key){case mu.Space:if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),r({type:3,value:e.key});case mu.Enter:if(e.preventDefault(),e.stopPropagation(),r({type:1}),null!==o.activeItemIndex){let{dataRef:e}=o.items[o.activeItemIndex];null==(n=null==(t=e.current)?void 0:t.domRef.current)||n.click()}tu().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case mu.ArrowDown:return e.preventDefault(),e.stopPropagation(),r({type:2,focus:vu.Next});case mu.ArrowUp:return e.preventDefault(),e.stopPropagation(),r({type:2,focus:vu.Previous});case mu.Home:case mu.PageUp:return e.preventDefault(),e.stopPropagation(),r({type:2,focus:vu.First});case mu.End:case mu.PageDown:return e.preventDefault(),e.stopPropagation(),r({type:2,focus:vu.Last});case mu.Escape:e.preventDefault(),e.stopPropagation(),r({type:1}),tu().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case mu.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(r({type:3,value:e.key}),u.setTimeout((()=>r({type:4})),350))}})),g=ru((e=>{switch(e.key){case mu.Space:e.preventDefault()}})),f=(0,l.useMemo)((()=>({open:0===o.menuState})),[o]),m=e;return Qc({ourProps:{"aria-activedescendant":null===o.activeItemIndex||null==(n=o.items[o.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(i=o.buttonRef.current)?void 0:i.id,id:c,onKeyDown:p,onKeyUp:g,role:"menu",tabIndex:0,ref:s},theirProps:m,slot:f,defaultTag:"div",features:id,visible:h,name:"Menu.Items"})})),rd=l.Fragment,sd=Jc((function(e,t){let{disabled:n=!1,...i}=e,[o,r]=Ju("Menu.Item"),s=`headlessui-menu-item-${gu()}`,a=null!==o.activeItemIndex&&o.items[o.activeItemIndex].id===s,c=(0,l.useRef)(null),u=lu(t,c);iu((()=>{if(0!==o.menuState||!a||0===o.activationTrigger)return;let e=tu();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=c.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[c,a,o.menuState,o.activationTrigger,o.activeItemIndex]);let d=(0,l.useRef)({disabled:n,domRef:c});iu((()=>{d.current.disabled=n}),[d,n]),iu((()=>{var e,t;d.current.textValue=null==(t=null==(e=c.current)?void 0:e.textContent)?void 0:t.toLowerCase()}),[d,c]),iu((()=>(r({type:5,id:s,dataRef:d}),()=>r({type:6,id:s}))),[d,s]);let h=ru((e=>{if(n)return e.preventDefault();r({type:1}),tu().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))})),p=ru((()=>{if(n)return r({type:2,focus:vu.Nothing});r({type:2,focus:vu.Specific,id:s})})),g=ru((()=>{n||a||r({type:2,focus:vu.Specific,id:s,trigger:0})})),f=ru((()=>{n||!a||r({type:2,focus:vu.Nothing})})),m=(0,l.useMemo)((()=>({active:a,disabled:n})),[a,n]);return Qc({ourProps:{id:s,ref:u,role:"menuitem",tabIndex:!0===n?void 0:-1,"aria-disabled":!0===n||void 0,disabled:void 0,onClick:h,onFocus:p,onPointerMove:g,onMouseMove:g,onPointerLeave:f,onMouseLeave:f},theirProps:i,slot:m,defaultTag:rd,name:"Menu.Item"})})),ad=Object.assign(td,{Button:nd,Items:od,Item:sd});l=r("gQRSt"),l=r("gQRSt");function ld(e,t,n,i){let o=ou(n);(0,l.useEffect)((()=>{function n(e){o.current(e)}return(e=null!=e?e:window).addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}),[e,t,i])}var cd=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(cd||{});let ud=Jc((function(e,t){let{features:n=1,...i}=e;return Qc({ourProps:{ref:t,"aria-hidden":2==(2&n)||void 0,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4==(4&n)&&2!=(2&n)&&{display:"none"}}},theirProps:i,slot:{},defaultTag:"div",name:"Hidden"})}));l=r("gQRSt");var dd=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(dd||{});function hd(){let e=(0,l.useRef)(0);return Nu("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}var pd,gd=((pd=gd||{})[pd.Open=0]="Open",pd[pd.Closed=1]="Closed",pd),fd=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(fd||{});let md={0:e=>({...e,popoverState:Kc(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},vd=(0,l.createContext)(null);function bd(e){let t=(0,l.useContext)(vd);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,bd),t}return t}vd.displayName="PopoverContext";let yd=(0,l.createContext)(null);function _d(e){let t=(0,l.useContext)(yd);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,_d),t}return t}yd.displayName="PopoverAPIContext";let Cd=(0,l.createContext)(null);function xd(){return(0,l.useContext)(Cd)}Cd.displayName="PopoverGroupContext";let Sd=(0,l.createContext)(null);function wd(e,t){return Kc(t.type,md,e,t)}Sd.displayName="PopoverPanelContext";let kd=Jc((function(e,t){var i;let o=`headlessui-popover-button-${gu()}`,r=`headlessui-popover-panel-${gu()}`,s=(0,l.useRef)(null),a=lu(t,au((e=>{s.current=e}))),c=(0,l.useReducer)(wd,{popoverState:1,button:null,buttonId:o,panel:null,panelId:r,beforePanelSentinel:(0,l.createRef)(),afterPanelSentinel:(0,l.createRef)()}),[{popoverState:u,button:d,panel:h,beforePanelSentinel:p,afterPanelSentinel:g},f]=c,m=Ku(null!=(i=s.current)?i:d);(0,l.useEffect)((()=>f({type:3,buttonId:o})),[o,f]),(0,l.useEffect)((()=>f({type:5,panelId:r})),[r,f]);let v=(0,l.useMemo)((()=>{if(!d||!h)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(d))^Number(null==e?void 0:e.contains(h)))return!0;return!1}),[d,h]),b=(0,l.useMemo)((()=>({buttonId:o,panelId:r,close:()=>f({type:1})})),[o,r,f]),y=xd(),_=null==y?void 0:y.registerPopover,C=ru((()=>{var e;return null!=(e=null==y?void 0:y.isFocusWithinPopoverGroup())?e:(null==m?void 0:m.activeElement)&&((null==d?void 0:d.contains(m.activeElement))||(null==h?void 0:h.contains(m.activeElement)))}));(0,l.useEffect)((()=>null==_?void 0:_(b)),[_,b]),ld(null==m?void 0:m.defaultView,"focus",(e=>{var t,n,i,o;0===u&&(C()||!d||!h||null!=(n=null==(t=p.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(i=g.current)?void 0:i.contains)&&o.call(i,e.target)||f({type:1}))}),!0),Ou([d,h],((e,t)=>{0===u&&(f({type:1}),Au(t,Iu.Loose)||(e.preventDefault(),null==d||d.focus()))}));let x=ru((e=>{f({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:d:d;null==t||t.focus()})),S=(0,l.useMemo)((()=>({close:x,isPortalled:v})),[x,v]),w=(0,l.useMemo)((()=>({open:0===u,close:x})),[u,x]),k=e,E={ref:a};return n(l).createElement(vd.Provider,{value:c},n(l).createElement(yd.Provider,{value:S},n(l).createElement(Wu,{value:Kc(u,{0:Bu.Open,1:Bu.Closed})},Qc({ourProps:E,theirProps:k,slot:w,defaultTag:"div",name:"Popover"}))))})),Ed=Jc((function(e,t){let[i,o]=bd("Popover.Button"),{isPortalled:r}=_d("Popover.Button"),s=(0,l.useRef)(null),a=`headlessui-focus-sentinel-${gu()}`,c=xd(),u=null==c?void 0:c.closeOthers,d=(0,l.useContext)(Sd),h=null!==d&&d===i.panelId,p=lu(s,t,h?null:e=>o({type:2,button:e})),g=lu(s,t),f=Ku(s),m=ru((e=>{var t,n,r;if(h){if(1===i.popoverState)return;switch(e.key){case mu.Space:case mu.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),o({type:1}),null==(r=i.button)||r.focus()}}else switch(e.key){case mu.Space:case mu.Enter:e.preventDefault(),e.stopPropagation(),1===i.popoverState&&(null==u||u(i.buttonId)),o({type:0});break;case mu.Escape:if(0!==i.popoverState)return null==u?void 0:u(i.buttonId);if(!s.current||(null==f?void 0:f.activeElement)&&!s.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1})}})),v=ru((e=>{h||e.key===mu.Space&&e.preventDefault()})),b=ru((t=>{var n,r;yu(t.currentTarget)||e.disabled||(h?(o({type:1}),null==(n=i.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===i.popoverState&&(null==u||u(i.buttonId)),o({type:0}),null==(r=i.button)||r.focus()))})),y=ru((e=>{e.preventDefault(),e.stopPropagation()})),_=0===i.popoverState,C=(0,l.useMemo)((()=>({open:_})),[_]),x=Vu(e,s),S=e,w=h?{ref:g,type:x,onKeyDown:m,onClick:b}:{ref:p,id:i.buttonId,type:x,"aria-expanded":e.disabled?void 0:0===i.popoverState,"aria-controls":i.panel?i.panelId:void 0,onKeyDown:m,onKeyUp:v,onClick:b,onMouseDown:y},k=hd(),E=ru((()=>{let e=i.panel;e&&Kc(k.current,{[dd.Forwards]:()=>Mu(e,wu.First),[dd.Backwards]:()=>Mu(e,wu.Last)})}));return n(l).createElement(n(l).Fragment,null,Qc({ourProps:w,theirProps:S,slot:C,defaultTag:"button",name:"Popover.Button"}),_&&!h&&r&&n(l).createElement(ud,{id:a,features:cd.Focusable,as:"button",type:"button",onFocus:E}))})),Dd=$c.RenderStrategy|$c.Static,Id=Jc((function(e,t){let[{popoverState:n},i]=bd("Popover.Overlay"),o=lu(t),r=`headlessui-popover-overlay-${gu()}`,s=Hu(),a=null!==s?s===Bu.Open:0===n;return Qc({ourProps:{ref:o,id:r,"aria-hidden":!0,onClick:ru((e=>{if(yu(e.currentTarget))return e.preventDefault();i({type:1})}))},theirProps:e,slot:(0,l.useMemo)((()=>({open:0===n})),[n]),defaultTag:"div",features:Dd,visible:a,name:"Popover.Overlay"})})),Ad=$c.RenderStrategy|$c.Static,Rd=Jc((function(e,t){let{focus:i=!1,...o}=e,[r,s]=bd("Popover.Panel"),{close:a,isPortalled:c}=_d("Popover.Panel"),u=`headlessui-focus-sentinel-before-${gu()}`,d=`headlessui-focus-sentinel-after-${gu()}`,h=(0,l.useRef)(null),p=lu(h,t,(e=>{s({type:4,panel:e})})),g=Ku(h),f=Hu(),m=null!==f?f===Bu.Open:0===r.popoverState,v=ru((e=>{var t;switch(e.key){case mu.Escape:if(0!==r.popoverState||!h.current||(null==g?void 0:g.activeElement)&&!h.current.contains(g.activeElement))return;e.preventDefault(),e.stopPropagation(),s({type:1}),null==(t=r.button)||t.focus()}}));(0,l.useEffect)((()=>{var t;e.static||1===r.popoverState&&(null==(t=e.unmount)||t)&&s({type:4,panel:null})}),[r.popoverState,e.unmount,e.static,s]),(0,l.useEffect)((()=>{if(!i||0!==r.popoverState||!h.current)return;let e=null==g?void 0:g.activeElement;h.current.contains(e)||Mu(h.current,wu.First)}),[i,h,r.popoverState]);let b=(0,l.useMemo)((()=>({open:0===r.popoverState,close:a})),[r,a]),y={ref:p,id:r.panelId,onKeyDown:v,onBlur:i&&0===r.popoverState?e=>{var t,n,i,o,a;let l=e.relatedTarget;!l||!h.current||null!=(t=h.current)&&t.contains(l)||(s({type:1}),((null==(i=null==(n=r.beforePanelSentinel.current)?void 0:n.contains)?void 0:i.call(n,l))||(null==(a=null==(o=r.afterPanelSentinel.current)?void 0:o.contains)?void 0:a.call(o,l)))&&l.focus({preventScroll:!0}))}:void 0,tabIndex:-1},_=hd(),C=ru((()=>{let e=h.current;e&&Kc(_.current,{[dd.Forwards]:()=>{Mu(e,wu.First)},[dd.Backwards]:()=>{var e;null==(e=r.button)||e.focus({preventScroll:!0})}})})),x=ru((()=>{let e=h.current;e&&Kc(_.current,{[dd.Forwards]:()=>{var e,t,n;if(!r.button)return;let i=Du(),o=i.indexOf(r.button),s=i.slice(0,o+1),a=[...i.slice(o+1),...s];for(let i of a.slice())if((null==(t=null==(e=null==i?void 0:i.id)?void 0:e.startsWith)?void 0:t.call(e,"headlessui-focus-sentinel-"))||(null==(n=r.panel)?void 0:n.contains(i))){let e=a.indexOf(i);-1!==e&&a.splice(e,1)}Mu(a,wu.First,!1)},[dd.Backwards]:()=>Mu(e,wu.Last)})}));return n(l).createElement(Sd.Provider,{value:r.panelId},m&&c&&n(l).createElement(ud,{id:u,ref:r.beforePanelSentinel,features:cd.Focusable,as:"button",type:"button",onFocus:C}),Qc({ourProps:y,theirProps:o,slot:b,defaultTag:"div",features:Ad,visible:m,name:"Popover.Panel"}),m&&c&&n(l).createElement(ud,{id:d,ref:r.afterPanelSentinel,features:cd.Focusable,as:"button",type:"button",onFocus:x}))})),Ld=Jc((function(e,t){let i=(0,l.useRef)(null),o=lu(i,t),[r,s]=(0,l.useState)([]),a=ru((e=>{s((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),c=ru((e=>(s((t=>[...t,e])),()=>a(e)))),u=ru((()=>{var e;let t=_u(i);if(!t)return!1;let n=t.activeElement;return!(null==(e=i.current)||!e.contains(n))||r.some((e=>{var i,o;return(null==(i=t.getElementById(e.buttonId))?void 0:i.contains(n))||(null==(o=t.getElementById(e.panelId))?void 0:o.contains(n))}))})),d=ru((e=>{for(let t of r)t.buttonId!==e&&t.close()})),h=(0,l.useMemo)((()=>({registerPopover:c,unregisterPopover:a,isFocusWithinPopoverGroup:u,closeOthers:d})),[c,a,u,d]),p=(0,l.useMemo)((()=>({})),[]),g=e,f={ref:o};return n(l).createElement(Cd.Provider,{value:h},Qc({ourProps:f,theirProps:g,slot:p,defaultTag:"div",name:"Popover.Group"}))})),Md=Object.assign(kd,{Button:Ed,Overlay:Id,Panel:Rd,Group:Ld});l=r("gQRSt");let Td=(0,(l=r("gQRSt")).createContext)(!1);function Nd(e){let t=(0,l.useContext)(Td),n=(0,l.useContext)(zd),i=Ku(e),[o,r]=(0,l.useState)((()=>{if(!t&&null!==n||"undefined"==typeof window)return null;let e=null==i?void 0:i.getElementById("headlessui-portal-root");if(e)return e;if(null===i)return null;let o=i.createElement("div");return o.setAttribute("id","headlessui-portal-root"),i.body.appendChild(o)}));return(0,l.useEffect)((()=>{null!==o&&(null!=i&&i.body.contains(o)||null==i||i.body.appendChild(o))}),[o,i]),(0,l.useEffect)((()=>{t||null!==n&&r(n.current)}),[n,r,t]),o}let Pd=l.Fragment,Od=Jc((function(e,t){let n=e,i=(0,l.useRef)(null),o=lu(au((e=>{i.current=e})),t),r=Ku(i),s=Nd(i),[c]=(0,l.useState)((()=>{var e;return"undefined"==typeof window?null:null!=(e=null==r?void 0:r.createElement("div"))?e:null})),u=uu(),d=(0,l.useRef)(!1);return iu((()=>{if(d.current=!1,s&&c)return s.contains(c)||s.appendChild(c),()=>{d.current=!0,Tu((()=>{var e;!d.current||!s||!c||(s.removeChild(c),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))}))}}),[s,c]),u&&s&&c?(0,a.createPortal)(Qc({ourProps:{ref:o},theirProps:n,defaultTag:Pd,name:"Portal"}),c):null})),Fd=l.Fragment,zd=(0,l.createContext)(null),Bd=Jc((function(e,t){let{target:i,...o}=e,r={ref:lu(t)};return n(l).createElement(zd.Provider,{value:i},Qc({ourProps:r,theirProps:o,defaultTag:Fd,name:"Popover.Group"}))})),Hd=Object.assign(Od,{Group:Bd});l=r("gQRSt"),l=r("gQRSt");function Wd(){let e=(0,l.useRef)(!1);return iu((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function jd(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Vd(e,...t){e&&t.length>0&&e.classList.add(...t)}function Kd(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Ud=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(Ud||{});function qd(e,t,n,i){let o=n?"enter":"leave",r=tu(),s=void 0!==i?jd(i):()=>{},a=Kc(o,{enter:()=>t.enter,leave:()=>t.leave}),l=Kc(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=Kc(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Kd(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Vd(e,...a,...c),r.nextFrame((()=>{Kd(e,...c),Vd(e,...l),function(e,t){let n=tu();if(!e)return n.dispose;let{transitionDuration:i,transitionDelay:o}=getComputedStyle(e),[r,s]=[i,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));if(r+s!==0){let i=[];i.push(n.addEventListener(e,"transitionrun",(()=>{i.splice(0).forEach((e=>e())),i.push(n.addEventListener(e,"transitionend",(()=>{t("ended"),i.splice(0).forEach((e=>e()))}),{once:!0}),n.addEventListener(e,"transitioncancel",(()=>{t("cancelled"),i.splice(0).forEach((e=>e()))}),{once:!0}))}),{once:!0}))}else t("ended");n.add((()=>t("cancelled"))),n.dispose}(e,(n=>("ended"===n&&(Kd(e,...a),Vd(e,...t.entered)),s(n))))})),r.dispose}function $d({container:e,direction:t,classes:n,events:i,onStart:o,onStop:r}){let s=Wd(),a=nu(),l=ou(t),c=ru((()=>Kc(l.current,{enter:()=>i.current.beforeEnter(),leave:()=>i.current.beforeLeave(),idle:()=>{}}))),u=ru((()=>Kc(l.current,{enter:()=>i.current.afterEnter(),leave:()=>i.current.afterLeave(),idle:()=>{}})));iu((()=>{let t=tu();a.add(t.dispose);let i=e.current;if(i&&"idle"!==l.current&&s.current)return t.dispose(),c(),o.current(l.current),t.add(qd(i,n.current,"enter"===l.current,(e=>{t.dispose(),Kc(e,{[Ud.Ended](){u(),r.current(l.current)},[Ud.Cancelled]:()=>{}})}))),t.dispose}),[t])}function Gd(e=""){return e.split(" ").filter((e=>e.trim().length>1))}let Qd=(0,l.createContext)(null);Qd.displayName="TransitionContext";var Xd=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Xd||{});let Zd=(0,l.createContext)(null);function Jd(e){return"children"in e?Jd(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function Yd(e){let t=ou(e),n=(0,l.useRef)([]),i=Wd(),o=ru(((e,o=Gc.Hidden)=>{let r=n.current.findIndex((({id:t})=>t===e));-1!==r&&(Kc(o,{[Gc.Unmount](){n.current.splice(r,1)},[Gc.Hidden](){n.current[r].state="hidden"}}),Tu((()=>{var e;!Jd(n)&&i.current&&(null==(e=t.current)||e.call(t))})))})),r=ru((e=>{let t=n.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):n.current.push({id:e,state:"visible"}),()=>o(e,Gc.Unmount)}));return(0,l.useMemo)((()=>({children:n,register:r,unregister:o})),[r,o,n])}function eh(){}Zd.displayName="NestingContext";let th=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function nh(e){var t;let n={};for(let i of th)n[i]=null!=(t=e[i])?t:eh;return n}let ih=$c.RenderStrategy,oh=Jc((function(e,t){let{beforeEnter:i,afterEnter:o,beforeLeave:r,afterLeave:s,enter:a,enterFrom:c,enterTo:u,entered:d,leave:h,leaveFrom:p,leaveTo:g,...f}=e,m=(0,l.useRef)(null),v=lu(m,t),[b,y]=(0,l.useState)("visible"),_=f.unmount?Gc.Unmount:Gc.Hidden,{show:C,appear:x,initial:S}=function(){let e=(0,l.useContext)(Qd);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:w,unregister:k}=function(){let e=(0,l.useContext)(Zd);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),E=(0,l.useRef)(null),D=gu();(0,l.useEffect)((()=>{if(D)return w(D)}),[w,D]),(0,l.useEffect)((()=>{if(_===Gc.Hidden&&D){if(C&&"visible"!==b)return void y("visible");Kc(b,{hidden:()=>k(D),visible:()=>w(D)})}}),[b,D,w,k,C,_]);let I=ou({enter:Gd(a),enterFrom:Gd(c),enterTo:Gd(u),entered:Gd(d),leave:Gd(h),leaveFrom:Gd(p),leaveTo:Gd(g)}),A=function(e){let t=(0,l.useRef)(nh(e));return(0,l.useEffect)((()=>{t.current=nh(e)}),[e]),t}({beforeEnter:i,afterEnter:o,beforeLeave:r,afterLeave:s}),R=uu();(0,l.useEffect)((()=>{if(R&&"visible"===b&&null===m.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[m,b,R]);let L=S&&!x,M=!R||L||E.current===C?"idle":C?"enter":"leave",T=(0,l.useRef)(!1),N=Yd((()=>{T.current||(y("hidden"),k(D))}));$d({container:m,classes:I,events:A,direction:M,onStart:ou((()=>{T.current=!0})),onStop:ou((e=>{T.current=!1,"leave"===e&&!Jd(N)&&(y("hidden"),k(D))}))}),(0,l.useEffect)((()=>{!L||(_===Gc.Hidden?E.current=null:E.current=C)}),[C,L,b]);let P=f,O={ref:v};return n(l).createElement(Zd.Provider,{value:N},n(l).createElement(Wu,{value:Kc(b,{visible:Bu.Open,hidden:Bu.Closed})},Qc({ourProps:O,theirProps:P,defaultTag:"div",features:ih,visible:"visible"===b,name:"Transition.Child"})))})),rh=Jc((function(e,t){let{show:i,appear:o=!1,unmount:r,...s}=e,a=(0,l.useRef)(null),c=lu(a,t);uu();let u=Hu();if(void 0===i&&null!==u&&(i=Kc(u,{[Bu.Open]:!0,[Bu.Closed]:!1})),![!0,!1].includes(i))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,h]=(0,l.useState)(i?"visible":"hidden"),p=Yd((()=>{h("hidden")})),[g,f]=(0,l.useState)(!0),m=(0,l.useRef)([i]);iu((()=>{!1!==g&&m.current[m.current.length-1]!==i&&(m.current.push(i),f(!1))}),[m,i]);let v=(0,l.useMemo)((()=>({show:i,appear:o,initial:g})),[i,o,g]);(0,l.useEffect)((()=>{if(i)h("visible");else if(Jd(p)){let e=a.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&h("hidden")}else h("hidden")}),[i,p]);let b={unmount:r};return n(l).createElement(Zd.Provider,{value:p},n(l).createElement(Qd.Provider,{value:v},Qc({ourProps:{...b,as:l.Fragment,children:n(l).createElement(oh,{ref:c,...b,...s})},theirProps:{},defaultTag:l.Fragment,features:ih,visible:"visible"===d,name:"Transition"})))})),sh=Jc((function(e,t){let i=null!==(0,l.useContext)(Qd),o=null!==Hu();return n(l).createElement(n(l).Fragment,null,!i&&o?n(l).createElement(rh,{ref:t,...e}):n(l).createElement(oh,{ref:t,...e}))})),ah=Object.assign(rh,{Child:sh,Root:rh});l=r("gQRSt"),l=r("gQRSt"),l=r("gQRSt");var lh,ch={};e(ch,"key",(function(){return lh}),(function(e){return lh=e})),lh="key_a5941f";const uh=e=>(0,s.jsx)("span",{className:n(ch).key,children:e.children});var dh,hh,ph={};e(ph,"container",(function(){return dh}),(function(e){return dh=e})),e(ph,"help",(function(){return hh}),(function(e){return hh=e})),dh="container_a337d0",hh="help_a337d0";l=r("gQRSt"),l=r("gQRSt");var gh,fh="undefined"!=typeof Element,mh="function"==typeof Map,vh="function"==typeof Set,bh="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function yh(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){if(e.constructor!==t.constructor)return!1;var n,i,o,r;if(Array.isArray(e)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(!yh(e[i],t[i]))return!1;return!0}if(mh&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r=e.entries();!(i=r.next()).done;)if(!t.has(i.value[0]))return!1;for(r=e.entries();!(i=r.next()).done;)if(!yh(i.value[1],t.get(i.value[0])))return!1;return!0}if(vh&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r=e.entries();!(i=r.next()).done;)if(!t.has(i.value[0]))return!1;return!0}if(bh&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if((n=e.length)!=t.length)return!1;for(i=n;0!=i--;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;if(fh&&e instanceof Element)return!1;for(i=n;0!=i--;)if(("_owner"!==o[i]&&"__v"!==o[i]&&"__o"!==o[i]||!e.$$typeof)&&!yh(e[o[i]],t[o[i]]))return!1;return!0}return e!=e&&t!=t}gh=function(e,t){try{return yh(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}};l=r("gQRSt");var _h,Ch,xh,Sh,wh,kh=function(e){return e.reduce((function(e,t){var n=t[0],i=t[1];return e[n]=i,e}),{})},Eh="undefined"!=typeof window&&window.document&&window.document.createElement?l.useLayoutEffect:l.useEffect,Dh=[],Ih=function(e,t,i){void 0===i&&(i={});var o=l.useRef(null),r={onFirstUpdate:i.onFirstUpdate,placement:i.placement||"bottom",strategy:i.strategy||"absolute",modifiers:i.modifiers||Dh},s=l.useState({styles:{popper:{position:r.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),c=s[0],u=s[1],d=l.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);a.flushSync((function(){u({styles:kh(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:kh(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),h=l.useMemo((function(){var e={onFirstUpdate:r.onFirstUpdate,placement:r.placement,strategy:r.strategy,modifiers:[].concat(r.modifiers,[d,{name:"applyStyles",enabled:!1}])};return n(gh)(o.current,e)?o.current||e:(o.current=e,e)}),[r.onFirstUpdate,r.placement,r.strategy,r.modifiers,d]),p=l.useRef();return Eh((function(){p.current&&p.current.setOptions(h)}),[h]),Eh((function(){if(null!=e&&null!=t){var n=(i.createPopper||_l)(e,t,h);return p.current=n,function(){n.destroy(),p.current=null}}}),[e,t,i.createPopper]),{state:p.current?p.current.state:null,styles:c.styles,attributes:c.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}},Ah={};e(Ah,"container",(function(){return _h}),(function(e){return _h=e})),e(Ah,"enter",(function(){return Ch}),(function(e){return Ch=e})),e(Ah,"leave",(function(){return xh}),(function(e){return xh=e})),e(Ah,"hide",(function(){return Sh}),(function(e){return Sh=e})),e(Ah,"show",(function(){return wh}),(function(e){return wh=e})),_h="container_2abbe2",Ch="enter_2abbe2",xh="leave_2abbe2",Sh="hide_2abbe2",wh="show_2abbe2";const Rh=e=>{const t=(0,l.useRef)(null),[i,o]=(0,l.useState)(null),{styles:r,attributes:a}=Ih(e.reference,i,{placement:"top"});return(0,s.jsx)(Hd,{children:(0,s.jsx)("div",{className:n(Ah).container,ref:t,style:r.popper,...a.popper,children:(0,s.jsx)(ah,{show:e.open,enter:n(Ah).enter,enterFrom:n(Ah).hide,enterTo:n(Ah).show,leave:n(Ah).leave,leaveFrom:n(Ah).show,leaveTo:n(Ah).hide,as:l.Fragment,beforeEnter:()=>o(t.current),afterEnter:e.afterEnter,afterLeave:()=>o(null),children:e.children})})})};l=r("gQRSt");const Lh=e=>{const{reference:t}=e,n=(0,l.useCallback)((()=>{const e=t?.querySelector("button")??null;if(null===e)throw Error("No button to open Popover");e.click()}),[t]);return Dc({keys:e.keys,callback:n}),null};var Mh,Th,Nh={};e(Nh,"container",(function(){return Mh}),(function(e){return Mh=e})),e(Nh,"hr",(function(){return Th}),(function(e){return Th=e})),Mh="container_dc1884",Th="hr_dc1884";const Ph=()=>(0,s.jsx)("div",{className:n(Nh).container,children:(0,s.jsx)("hr",{className:n(Nh).hr})});var Oh,Fh={};e(Fh,"help",(function(){return Oh}),(function(e){return Oh=e})),Oh="help_ae4ced";const zh=({help:e})=>(0,s.jsx)("div",{className:n(Fh).help,children:e.content}),Bh=e=>{switch(e){case"command":case"meta":return"";case"ctrl":return"";case"alt":case"option":return"";case"shift":return"";case"mod":return be()?"":"";default:return e.toUpperCase()}},Hh=e=>(0,s.jsx)("span",{children:e.keys.split("+").map(Bh).join("")});var Wh,jh,Vh,Kh,Uh,qh={};e(qh,"button",(function(){return Wh}),(function(e){return Wh=e})),e(qh,"active",(function(){return jh}),(function(e){return jh=e})),e(qh,"focus",(function(){return Vh}),(function(e){return Vh=e})),e(qh,"label",(function(){return Kh}),(function(e){return Kh=e})),e(qh,"shortcut",(function(){return Uh}),(function(e){return Uh=e})),Wh="button_6fce24",jh="active_6fce24",Vh="focus_6fce24",Kh="label_6fce24",Uh="shortcut_6fce24";const $h=({action:e})=>(0,s.jsx)(ad.Item,{children:({active:t})=>(0,s.jsxs)("button",{className:[n(qh).button,t?n(qh).focus:"",e.active?n(qh).active:""].join(" "),onClick:e.action,children:[(0,s.jsx)("span",{className:n(qh).label,children:e.label}),e.shortcut&&(0,s.jsx)("span",{className:n(qh).shortcut,children:(0,s.jsx)(Hh,{keys:e.shortcut})})]})});var Gh,Qh={};e(Qh,"heading",(function(){return Gh}),(function(e){return Gh=e})),Gh="heading_da14d0";const Xh=({heading:e})=>(0,s.jsx)("div",{className:n(Qh).heading,children:e.text});var Zh,Jh={};e(Jh,"items",(function(){return Zh}),(function(e){return Zh=e})),Zh="items_9136fb";const Yh=({group:e})=>(0,s.jsxs)("div",{className:n(Jh).container,children:[(0,s.jsx)(Xh,{heading:e.heading}),(0,s.jsx)("div",{className:n(Jh).items,children:e.actions.map(((e,t)=>(0,s.jsx)("div",{className:n(Jh).item,children:(0,s.jsx)($h,{action:e})},t)))})]}),ep=({link:e})=>(0,s.jsx)(ad.Item,{children:({active:t})=>(0,s.jsx)("a",{href:e.url,className:[n(qh).button,t?n(qh).focus:""].join(" "),target:e.target,children:(0,s.jsx)("span",{className:n(qh).label,children:e.label})})}),tp=({item:e})=>{switch(e.type){case"divider":return(0,s.jsx)(Ph,{});case"heading":return(0,s.jsx)(Xh,{heading:e});case"help":return(0,s.jsx)(zh,{help:e});case"action":return(0,s.jsx)($h,{action:e});case"link":return(0,s.jsx)(ep,{link:e});case"group":return(0,s.jsx)(Yh,{group:e})}};var np,ip={};e(ip,"list",(function(){return np}),(function(e){return np=e})),np="list_f7dc0e";const op=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)(uh,{children:""}),(0,s.jsx)("span",{children:" "}),(0,s.jsx)(uh,{children:""}),(0,s.jsx)("span",{children:" to navigate, "}),(0,s.jsx)(uh,{children:""}),(0,s.jsx)("span",{children:" to select"})]}),rp=e=>{const[t,i]=(0,l.useState)(null);return(0,s.jsxs)(s.Fragment,{children:[void 0!==e.shortcut&&(0,s.jsx)(Lh,{keys:e.shortcut,reference:t}),(0,s.jsx)("div",{ref:i,children:(0,s.jsx)(ad.Button,{as:fp,ref:e.buttonRef,selected:e.open,...e.button})}),(0,s.jsx)(Rh,{open:e.open,reference:t,children:(0,s.jsxs)(ad.Items,{static:!0,className:[n(ph).container,n(ip).list].join(" "),children:[e.items.map(((e,t)=>(0,s.jsx)(tp,{item:e},t))),(0,s.jsx)(Ph,{}),(0,s.jsx)(zh,{help:{content:(0,s.jsx)(op,{})}})]})})]})},sp=(0,l.forwardRef)(((e,t)=>(0,s.jsx)(ad,{children:({open:n})=>(0,s.jsx)(rp,{...e,open:n,buttonRef:t})})));var ap,lp,cp,up,dp,hp,pp,gp={};e(gp,"container",(function(){return ap}),(function(e){return ap=e})),e(gp,"button",(function(){return lp}),(function(e){return lp=e})),e(gp,"error",(function(){return cp}),(function(e){return cp=e})),e(gp,"icon",(function(){return up}),(function(e){return up=e})),e(gp,"selected",(function(){return dp}),(function(e){return dp=e})),e(gp,"primary",(function(){return hp}),(function(e){return hp=e})),e(gp,"more",(function(){return pp}),(function(e){return pp=e})),ap="container_cacb6b",lp="button_cacb6b",cp="error_cacb6b",up="icon_cacb6b",dp="selected_cacb6b",hp="primary_cacb6b",pp="more_cacb6b";const fp=(0,l.forwardRef)(((e,t)=>(0,s.jsxs)("div",{className:[n(gp).container].join(" "),children:[(0,s.jsxs)("button",{className:[n(gp).button,n(gp).primary,e.selected?n(gp).selected:"",e.error?n(gp).error:""].join(" "),onClick:e.onClick,ref:t,children:[(0,s.jsx)("span",{className:n(gp).icon,children:(0,s.jsx)(e.Icon,{size:24})}),e.shortcut&&(0,s.jsx)(Hh,{keys:e.shortcut})]}),e.more&&(0,s.jsx)("div",{className:n(gp).more,children:(0,s.jsx)(sp,{items:e.more,button:{Icon:Wc}})})]}))),mp=()=>(0,s.jsxs)("div",{children:[(0,s.jsx)(uh,{children:""}),(0,s.jsx)("span",{children:" to navigate, "}),(0,s.jsx)(uh,{children:""}),(0,s.jsx)("span",{children:" to select"})]}),vp=e=>{const[t,i]=(0,l.useState)(null);return(0,s.jsxs)(s.Fragment,{children:[void 0!==e.shortcut&&(0,s.jsx)(Lh,{keys:e.shortcut,reference:t}),(0,s.jsx)("div",{ref:i,children:(0,s.jsx)(Md.Button,{ref:e.buttonRef,as:fp,selected:e.open,...e.button})}),(0,s.jsx)(Rh,{open:e.open,reference:t,afterEnter:e.afterEnter,children:(0,s.jsxs)(Md.Panel,{className:n(ph).container,children:[e.children,(0,s.jsxs)("div",{className:n(ph).help,children:[(0,s.jsx)(Ph,{}),(0,s.jsx)(zh,{help:{content:(0,s.jsx)(mp,{})}})]})]})})]})},bp=(0,l.forwardRef)(((e,t)=>(0,s.jsx)(Md,{children:({open:n})=>(0,s.jsx)(vp,{...e,buttonRef:t,open:n})})));var yp,_p,Cp,xp,Sp={};e(Sp,"container",(function(){return yp}),(function(e){return yp=e})),e(Sp,"selected",(function(){return _p}),(function(e){return _p=e})),e(Sp,"x",(function(){return Cp}),(function(e){return Cp=e})),e(Sp,"caret",(function(){return xp}),(function(e){return xp=e})),yp="container_90c826",_p="selected_90c826",Cp="x_90c826",xp="caret_90c826";const wp=e=>{const t=ve[e.name],i=t.colors;return(0,s.jsx)(Lc,{content:t.name,singleton:e.singleton,children:(0,s.jsxs)("button",{className:[n(Sp).container,e.name===e.prefs.theme?n(Sp).selected:""].join(" "),onClick:()=>e.prefs.setTheme(e.name),style:{background:i.bg.hex()},children:[(0,s.jsx)("span",{className:n(Sp).text,style:{color:i.text.hex()},children:"Aa"}),(0,s.jsx)("span",{className:n(Sp).caret,style:{background:i.caret.hex()}})]})})};var kp,Ep={};e(Ep,"container",(function(){return kp}),(function(e){return kp=e})),kp="container_6cff81";const Dp=e=>{const[t,i]=wc();return(0,s.jsxs)("div",{className:n(Ep).container,children:[(0,s.jsx)(Rc,{singleton:t}),me.map((t=>(0,s.jsx)("div",{children:(0,s.jsx)(wp,{singleton:i,name:t,prefs:e.prefs})},t)))]})};var Ip,Ap={};e(Ap,"container",(function(){return Ip}),(function(e){return Ip=e})),Ip="container_dd705f";var Rp,Lp,Mp,Tp,Np={};e(Np,"fill",(function(){return Rp}),(function(e){return Rp=e})),e(Np,"container",(function(){return Lp}),(function(e){return Lp=e})),e(Np,"select",(function(){return Mp}),(function(e){return Mp=e})),e(Np,"arrow",(function(){return Tp}),(function(e){return Tp=e})),Rp="fill_fc4cbb",Lp="container_fc4cbb",Mp="select_fc4cbb",Tp="arrow_fc4cbb";const Pp=(e,t)=>e.options.find((e=>e.value===t))?.id,Op=e=>t=>{if(void 0===e.setValue)return;const n=t.target.value,i=e.options.find((e=>e.id===n));if(!i)throw Error(`Option not found: "${n}"`);e.setValue(i.value)},Fp=e=>{const t=Pp(e,e.value),i=Pp(e,e.defaultValue);return(0,s.jsxs)("div",{className:[n(Np).container,n(Np).fill,e.className].join(" "),children:[(0,s.jsx)("select",{...e.native,className:n(Np).select,disabled:e.disabled,autoFocus:e.autoFocus,defaultValue:i,ref:e.forwardedRef,value:t,onChange:Op(e),children:e.options.map((e=>(0,s.jsx)("option",{value:e.id,disabled:e.disabled,children:e.label},e.id)))}),(0,s.jsx)(Wc,{size:16,className:n(Np).arrow})]})};var zp,Bp={};e(Bp,"slider",(function(){return zp}),(function(e){return zp=e})),zp="slider_156755";const Hp=e=>(0,s.jsx)("input",{...e.native,type:"range",className:n(Bp).slider,min:e.min,max:e.max,value:e.value,onChange:t=>{e.setValue(t.target.valueAsNumber)}});var Wp,jp,Vp,Kp={};e(Kp,"container",(function(){return Wp}),(function(e){return Wp=e})),e(Kp,"select",(function(){return jp}),(function(e){return jp=e})),e(Kp,"slider",(function(){return Vp}),(function(e){return Vp=e})),Wp="container_c58219",jp="select_c58219",Vp="slider_c58219";const Up=e=>(0,s.jsxs)("div",{className:n(Kp).container,children:[(0,s.jsx)("div",{className:n(Kp).select,children:(0,s.jsx)(Fp,{value:e.prefs.size,setValue:t=>e.prefs.setSize(t),options:S.map((e=>({id:e,label:e,value:e}))),native:{"aria-label":"Editor size select"}})}),(0,s.jsx)("div",{className:n(Kp).slider,children:(0,s.jsx)(Hp,{native:{"aria-label":"Editor size slider"},min:0,max:S.length-1,value:S.indexOf(e.prefs.size),setValue:t=>{const n=S[t];e.prefs.setSize(n)}})})]}),qp=e=>(0,s.jsx)("div",{tabIndex:0,ref:e.focusRef,"aria-label":"Dummy focus anchor. Press tab to navigate."}),$p=e=>(0,s.jsxs)("div",{className:n(Ap).container,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(qp,{...e}),(0,s.jsx)(Xh,{heading:{text:"Editor size"}})]}),(0,s.jsx)(Up,{prefs:e.prefs}),(0,s.jsx)(Xh,{heading:{text:"Theme"}}),(0,s.jsx)(Dp,{prefs:e.prefs})]}),Gp=e=>{const t=(0,l.useRef)(null);return(0,s.jsx)(Lc,{content:"Preferences",singleton:e.singleton,children:(0,s.jsx)(bp,{button:{Icon:jc,shortcut:Vc.prefs},afterEnter:()=>{const e=t.current;if(null===e)throw Error("No element to focus");e.focus()},shortcut:Vc.prefs,children:(0,s.jsx)($p,{prefs:e.prefs,focusRef:t})})})};l=r("gQRSt");const Qp=e=>t=>({action:()=>{e.setPreviewTemplate(t)},label:na[t].name,active:e.previewTemplate===t}),Xp=e=>[{type:"group",heading:{text:"Preview Template"},actions:ta.map(Qp(e))}],Zp=e=>{return[...(t=e.prefs,[{type:"group",heading:{text:"Preview Layout"},actions:[{action:()=>t.setPreviewSplit(!0),label:"Split",active:!0===t.previewSplit},{action:()=>t.setPreviewSplit(!1),label:"Full",active:!1===t.previewSplit}]}]),...Xp(e.prefs)];var t},Jp=e=>{const t=(e=>{const{editor:t}=e,{setPreviewVisible:n,previewVisible:i,previewSplit:o}=e.prefs;return{withMouse:(0,l.useCallback)((()=>{n((e=>!e))}),[n]),withKeyboard:(0,l.useCallback)((()=>{n(!i),!0!==o&&!1!==i&&window.setTimeout((()=>t.focus()),0)}),[o,i,n,t])}})(e);return Dc({keys:Vc.preview,callback:t.withKeyboard}),(0,s.jsx)(Lc,{content:"Toggle Preview",singleton:e.singleton,children:(0,s.jsx)(fp,{onClick:t.withMouse,Icon:Hc,shortcut:Vc.preview,more:Zp(e),selected:e.prefs.previewVisible})})};var Yp,eg,tg,ng,ig,og,rg={};e(rg,"buffer",(function(){return Yp}),(function(e){return Yp=e})),e(rg,"container",(function(){return eg}),(function(e){return eg=e})),e(rg,"show",(function(){return tg}),(function(e){return tg=e})),e(rg,"body",(function(){return ng}),(function(e){return ng=e})),e(rg,"divider",(function(){return ig}),(function(e){return ig=e})),e(rg,"grow",(function(){return og}),(function(e){return og=e})),Yp="buffer_a4c53f",eg="container_a4c53f",tg="show_a4c53f",ng="body_a4c53f",ig="divider_a4c53f",og="grow_a4c53f";l=r("gQRSt");function sg(e){return(0,Mc.GenIcon)({tag:"svg",attr:{version:"1.1",viewBox:"0 0 34 32"},child:[{tag:"path",attr:{d:"M18.752 19.442c0.042 0.042 0.125 0.105 0.188 0.105h1.109c0.063 0 0.146-0.063 0.188-0.105l0.293-0.314c0.042-0.042 0.063-0.084 0.063-0.125l0.314-1.067c0.021-0.105 0-0.209-0.063-0.272l-0.23-0.188c-0.042-0.042-0.125-0.021-0.188-0.021h-1.004l-0.063-0.063c-0.042 0-0.084-0.021-0.126 0.021l-0.398 0.251c-0.042 0-0.063 0.105-0.084 0.146l-0.335 1.025c-0.042 0.105-0.021 0.23 0.063 0.314l0.272 0.293zM18.919 24.966l-0.084 0.021h-0.251l1.507-4.415c0.042-0.146-0.021-0.314-0.167-0.356l-0.084-0.021h-2.532c-0.105 0.021-0.188 0.105-0.209 0.209l-0.146 0.523c-0.042 0.146 0.063 0.272 0.209 0.314l0.063-0.021h0.377l-1.528 4.373c-0.042 0.146 0.021 0.335 0.167 0.398l0.084 0.063h2.344c0.125 0 0.23-0.105 0.272-0.23l0.146-0.502c0.063-0.147-0.021-0.314-0.167-0.356v0zM30.031 20.844l-0.398-0.523v-0.021c-0.063-0.063-0.125-0.125-0.209-0.125h-1.507c-0.084 0-0.146 0.084-0.209 0.125l-0.419 0.502h-0.649l-0.439-0.502v-0.021c-0.042-0.063-0.126-0.105-0.209-0.105h-0.837l4.227-4.227-4.729-4.687 4.227-4.352v-1.883l-0.586-0.753h-8.558l-0.691 0.732v0.607l-2.365-2.385-1.611 1.569-0.502-0.523h-8.454l-0.67 0.774v1.967l0.628 0.607h0.628v5.461l-2.929 2.929 2.929 2.93v6.696l1.088 0.607h2.427l1.904-1.988 4.52 4.52 3.034-3.034c0.021 0.084 0.084 0.105 0.188 0.146l0.084-0.042h1.967c0.126 0 0.23-0.021 0.251-0.125l0.146-0.418c0.042-0.146-0.021-0.272-0.167-0.314l-0.084 0.021h-0.084l0.712-2.239 0.481-0.481h1.046l-1.046 3.327c-0.042 0.146 0.042 0.23 0.188 0.293l0.084-0.042h1.904c0.105 0 0.209-0.021 0.251-0.125l0.167-0.377c0.063-0.146-0.021-0.272-0.146-0.335-0.021-0.021-0.063 0-0.105 0h-0.084l0.879-2.72h1.276l-1.067 3.327c-0.042 0.146 0.042 0.23 0.188 0.272l0.084-0.063h2.093c0.105 0 0.209-0.021 0.251-0.125l0.167-0.418c0.063-0.146-0.021-0.272-0.167-0.314-0.021-0.021-0.063 0.021-0.105 0.021h-0.146l1.172-3.871c0.042-0.105 0.021-0.23-0.021-0.293v0zM16.68 3.623l2.365 2.365v0.984l0.711 0.858h0.335l-6.068 5.859v-5.859h0.691l0.565-0.879v-1.862l-0.042-0.063 1.444-1.402zM4.167 16.010l2.532-2.532v5.064l-2.532-2.532zM12.307 24.025l12.22-12.555 4.478 4.499-4.227 4.227h-0.021c-0.063 0.021-0.105 0.063-0.146 0.105l-0.439 0.502h-0.607l-0.46-0.502c-0.042-0.063-0.126-0.125-0.209-0.125h-1.841c-0.125 0-0.23 0.084-0.272 0.209l-0.167 0.523c-0.042 0.146 0.021 0.272 0.167 0.335h0.314l-1.339 3.955-3.16 3.181-4.29-4.352z"}}]})(e)}const ag=e=>{const{setVim:t}=e.prefs,n=(0,l.useCallback)((()=>t((e=>!e))),[t]);return Dc({keys:Vc.vim,callback:n}),(0,s.jsx)(Lc,{content:"Toggle Vim mode",singleton:e.singleton,children:(0,s.jsx)(fp,{onClick:n,Icon:sg,selected:e.prefs.vim,shortcut:Vc.vim})})},lg=e=>t=>{"Escape"===t.key&&(e.focus(),t.stopPropagation())},cg=e=>{const{file:t,editor:i,prefs:o}=e,{size:r}=e.prefs,a=(0,l.useRef)(null),[c,u]=wc();(e=>{const t=(0,l.useCallback)((()=>{const t=e.current;if(null===t)throw Error("Toolbar ref is not attached");const n=t.querySelector("button");if(null===n)throw Error("Toolbar doesn't have any button");n.focus()}),[e]);Dc({keys:Vc.toolbar,callback:t})})(a);const d=(0,s.jsxs)("div",{className:n(rg).body,style:{maxWidth:E({size:r})},ref:a,onKeyDown:lg(i),children:[(0,s.jsx)(Rc,{singleton:c}),(0,s.jsx)(Jp,{singleton:u,prefs:o,editor:i}),(0,s.jsx)(ag,{singleton:u,prefs:o}),(0,s.jsx)("div",{className:n(rg).grow}),(0,s.jsx)(Gp,{singleton:u,prefs:o})]});return(0,s.jsx)("div",{className:[n(rg).buffer,e.show?n(rg).show:""].join(" "),children:(0,s.jsx)("div",{className:n(rg).container,children:d})})},ug=()=>{const[e,t]=Bs({defaultValue:!1,storageKey:"preview-visible"}),[n,i]=Bs({defaultValue:!0,storageKey:"preview-split"});return{previewVisible:e,setPreviewVisible:t,previewSplit:n,setPreviewSplit:i}},dg=()=>{const[e,t]=Bs({storageKey:"theme",defaultValue:"bushido"});return{theme:e,setTheme:t}},hg=()=>{const[e,t]=Bs({storageKey:"size",defaultValue:"L"});return{size:e,setSize:t}},pg=()=>{const[e,t]=Bs({storageKey:"vim",defaultValue:!1});return{vim:e,setVim:t}},gg=e=>{const t=ve[e];return`:root {\n\t\t${(({colors:e})=>{const t=[];return Object.keys(e).forEach((n=>{const i=e[n];t.push(`--${n}-color: ${i.hex()};`);const o=`${i.red()}, ${i.green()}, ${i.blue()}`;t.push(`--${n}-color-rgb: ${o};`)})),t.join("\n")})(t)}\n\t\t${(({scheme:e})=>`\n--shadow-opacity: ${"light"===e?"0.05":"0.2"};\n--border-inset: 0 0 0 1px ${"light"===e?"white inset":"black"};\n`)(t)}\n\t}`},fg=e=>(0,s.jsx)("style",{children:gg(e.theme)});var mg,vg,bg,yg,_g={};e(_g,"app",(function(){return mg}),(function(e){return mg=e})),e(_g,"body",(function(){return vg}),(function(e){return vg=e})),e(_g,"toolbar",(function(){return bg}),(function(e){return bg=e})),e(_g,"muted",(function(){return yg}),(function(e){return yg=e})),mg="app_9d169f",vg="body_9d169f",bg="toolbar_9d169f",yg="muted_9d169f";var Cg,xg={};e(xg,"container",(function(){return Cg}),(function(e){return Cg=e})),Cg="container_c8ece8";const Sg=()=>(0,s.jsx)("div",{className:n(xg).container,children:(0,s.jsx)("p",{className:n(xg).body,children:"Drop file here to open"})});l=r("gQRSt");class wg extends Error{}const kg={editorNull:new wg("Editor is not ready"),dropType:new wg("Dropped content is not a file"),fileFolder:new wg("Folder is not supported yet"),recentNull:new wg("No recent file. This is coding error."),permission:new wg("Permission is not granted")},Eg=async e=>{if(!1===await(async(e,t)=>"granted"===await e.queryPermission({mode:t})||"granted"===await e.requestPermission({mode:t}))(e,"read"))throw kg.permission;const t=await e.getFile();return t.handle=e,t};r("7wr9L");v=r("gWzAP");const Dg=async e=>{if(!0===e.fileDirty){if(!1===await(async()=>window.confirm(["There are unsaved changes that will be lost if you continue.","Are you sure you want to continue?"].join("\n")))())return}e.setFileModel(e.fileModel),e.setFileDirty(!1),await(async e=>{const{editor:t,fileModel:n}=e;if(null===t)throw kg.editorNull;t.getModel()?.dispose();const i=null===n?"":await n.text(),o=v.editor.createModel(i,"markdown");t.setModel(o),setTimeout((()=>t.focus()),0)})(e)},Ig=async e=>{const t=e.dataTransfer.items[0];if("function"==typeof t.getAsFileSystemHandle){const e=await t.getAsFileSystemHandle();if(null===e)throw kg.dropType;if(!(e instanceof FileSystemFileHandle))throw kg.fileFolder;return Eg(e)}{const e=t.getAsFile();if(null===e)throw kg.dropType;return e}},Ag=e=>{const t=(0,l.useRef)(0),[n,i]=(0,l.useState)(!1);return{handlers:{onDrop:async n=>{n.preventDefault(),i(!1),t.current=0;const o=await Ig(n);Dg({editor:e.editor.value,fileDirty:e.file.dirty,setFileDirty:e.file.setDirty,fileModel:o,setFileModel:e.file.setModel})},onDragEnter:e=>{e.preventDefault(),0===t.current&&i(!0),t.current=t.current+1},onDragLeave:e=>{1===t.current&&i(!1),t.current=t.current-1},onDragOver:e=>{e.preventDefault()}},dragging:n}};var Rg;Rg=r("5jJ5p")();var Lg;l=r("gQRSt");var Mg,Tg=(Mg=l)&&"object"==typeof Mg&&"default"in Mg?Mg.default:Mg;function Ng(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pg=!("undefined"==typeof window||!window.document||!window.document.createElement);Lg=function(e,t,n){if("function"!=typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!=typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if(void 0!==n&&"function"!=typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(i){if("function"!=typeof i)throw new Error("Expected WrappedComponent to be a React component.");var o,r=[];function s(){o=e(r.map((function(e){return e.props}))),a.canUseDOM?t(o):n&&(o=n(o))}var a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a.peek=function(){return o},a.rewind=function(){if(a.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=o;return o=void 0,r=[],e};var l=a.prototype;return l.UNSAFE_componentWillMount=function(){r.push(this),s()},l.componentDidUpdate=function(){s()},l.componentWillUnmount=function(){var e=r.indexOf(this);r.splice(e,1),s()},l.render=function(){return Tg.createElement(i,this.props)},a}(l.PureComponent);return Ng(a,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(i)+")"),Ng(a,"canUseDOM",Pg),a}};l=r("gQRSt");var Og,Fg,zg,Bg,Hg=r("bcl6z"),Wg="bodyAttributes",jg="htmlAttributes",Vg="titleAttributes",Kg={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},Ug=(Object.keys(Kg).map((function(e){return Kg[e]})),"charset"),qg="cssText",$g="href",Gg="http-equiv",Qg="innerHTML",Xg="itemprop",Zg="name",Jg="property",Yg="rel",ef="src",tf="target",nf={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},of="defaultTitle",rf="defer",sf="encodeSpecialCharacters",af="onChangeClientState",lf="titleTemplate",cf=Object.keys(nf).reduce((function(e,t){return e[nf[t]]=t,e}),{}),uf=[Kg.NOSCRIPT,Kg.SCRIPT,Kg.STYLE],df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},pf=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),gf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ff=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},mf=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},vf=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},bf=function(e){var t=Sf(e,Kg.TITLE),n=Sf(e,lf);if(n&&t)return n.replace(/%s/g,(function(){return Array.isArray(t)?t.join(""):t}));var i=Sf(e,of);return t||i||void 0},yf=function(e){return Sf(e,af)||function(){}},_f=function(e,t){return t.filter((function(t){return void 0!==t[e]})).map((function(t){return t[e]})).reduce((function(e,t){return gf({},e,t)}),{})},Cf=function(e,t){return t.filter((function(e){return void 0!==e[Kg.BASE]})).map((function(e){return e[Kg.BASE]})).reverse().reduce((function(t,n){if(!t.length)for(var i=Object.keys(n),o=0;o<i.length;o++){var r=i[o].toLowerCase();if(-1!==e.indexOf(r)&&n[r])return t.concat(n)}return t}),[])},xf=function(e,t,i){var o={};return i.filter((function(t){return!!Array.isArray(t[e])||(void 0!==t[e]&&If("Helmet: "+e+' should be of type "Array". Instead found type "'+df(t[e])+'"'),!1)})).map((function(t){return t[e]})).reverse().reduce((function(e,i){var r={};i.filter((function(e){for(var n=void 0,i=Object.keys(e),s=0;s<i.length;s++){var a=i[s],l=a.toLowerCase();-1===t.indexOf(l)||n===Yg&&"canonical"===e[n].toLowerCase()||l===Yg&&"stylesheet"===e[l].toLowerCase()||(n=l),-1===t.indexOf(a)||a!==Qg&&a!==qg&&a!==Xg||(n=a)}if(!n||!e[n])return!1;var c=e[n].toLowerCase();return o[n]||(o[n]={}),r[n]||(r[n]={}),!o[n][c]&&(r[n][c]=!0,!0)})).reverse().forEach((function(t){return e.push(t)}));for(var s=Object.keys(r),a=0;a<s.length;a++){var l=s[a],c=n(Hg)({},o[l],r[l]);o[l]=c}return e}),[]).reverse()},Sf=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.hasOwnProperty(t))return i[t]}return null},wf=(Og=Date.now(),function(e){var t=Date.now();t-Og>16?(Og=t,e(t)):setTimeout((function(){wf(e)}),0)}),kf=function(e){return clearTimeout(e)},Ef="undefined"!=typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||wf:t.requestAnimationFrame||wf,Df="undefined"!=typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||kf:t.cancelAnimationFrame||kf,If=function(e){return console&&"function"==typeof console.warn&&console.warn(e)},Af=null,Rf=function(e,t){var n=e.baseTag,i=e.bodyAttributes,o=e.htmlAttributes,r=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.onChangeClientState,c=e.scriptTags,u=e.styleTags,d=e.title,h=e.titleAttributes;Tf(Kg.BODY,i),Tf(Kg.HTML,o),Mf(d,h);var p={baseTag:Nf(Kg.BASE,n),linkTags:Nf(Kg.LINK,r),metaTags:Nf(Kg.META,s),noscriptTags:Nf(Kg.NOSCRIPT,a),scriptTags:Nf(Kg.SCRIPT,c),styleTags:Nf(Kg.STYLE,u)},g={},f={};Object.keys(p).forEach((function(e){var t=p[e],n=t.newTags,i=t.oldTags;n.length&&(g[e]=n),i.length&&(f[e]=p[e].oldTags)})),t&&t(),l(e,g,f)},Lf=function(e){return Array.isArray(e)?e.join(""):e},Mf=function(e,t){void 0!==e&&document.title!==e&&(document.title=Lf(e)),Tf(Kg.TITLE,t)},Tf=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var i=n.getAttribute("data-react-helmet"),o=i?i.split(","):[],r=[].concat(o),s=Object.keys(t),a=0;a<s.length;a++){var l=s[a],c=t[l]||"";n.getAttribute(l)!==c&&n.setAttribute(l,c),-1===o.indexOf(l)&&o.push(l);var u=r.indexOf(l);-1!==u&&r.splice(u,1)}for(var d=r.length-1;d>=0;d--)n.removeAttribute(r[d]);o.length===r.length?n.removeAttribute("data-react-helmet"):n.getAttribute("data-react-helmet")!==s.join(",")&&n.setAttribute("data-react-helmet",s.join(","))}},Nf=function(e,t){var n=document.head||document.querySelector(Kg.HEAD),i=n.querySelectorAll(e+"[data-react-helmet]"),o=Array.prototype.slice.call(i),r=[],s=void 0;return t&&t.length&&t.forEach((function(t){var n=document.createElement(e);for(var i in t)if(t.hasOwnProperty(i))if(i===Qg)n.innerHTML=t.innerHTML;else if(i===qg)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var a=void 0===t[i]?"":t[i];n.setAttribute(i,a)}n.setAttribute("data-react-helmet","true"),o.some((function(e,t){return s=t,n.isEqualNode(e)}))?o.splice(s,1):r.push(n)})),o.forEach((function(e){return e.parentNode.removeChild(e)})),r.forEach((function(e){return n.appendChild(e)})),{oldTags:o,newTags:r}},Pf=function(e){return Object.keys(e).reduce((function(t,n){var i=void 0!==e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+i:i}),"")},Of=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[nf[n]||n]=e[n],t}),t)},Ff=function(e,t,i){switch(e){case Kg.TITLE:return{toComponent:function(){return e=t.title,i=t.titleAttributes,(o={key:e})["data-react-helmet"]=!0,r=Of(i,o),[n(l).createElement(Kg.TITLE,r,e)];var e,i,o,r},toString:function(){return function(e,t,n,i){var o=Pf(n),r=Lf(t);return o?"<"+e+' data-react-helmet="true" '+o+">"+vf(r,i)+"</"+e+">":"<"+e+' data-react-helmet="true">'+vf(r,i)+"</"+e+">"}(e,t.title,t.titleAttributes,i)}};case Wg:case jg:return{toComponent:function(){return Of(t)},toString:function(){return Pf(t)}};default:return{toComponent:function(){return function(e,t){return t.map((function(t,i){var o,r=((o={key:i})["data-react-helmet"]=!0,o);return Object.keys(t).forEach((function(e){var n=nf[e]||e;if(n===Qg||n===qg){var i=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:i}}else r[n]=t[e]})),n(l).createElement(e,r)}))}(e,t)},toString:function(){return function(e,t,n){return t.reduce((function(t,i){var o=Object.keys(i).filter((function(e){return!(e===Qg||e===qg)})).reduce((function(e,t){var o=void 0===i[t]?t:t+'="'+vf(i[t],n)+'"';return e?e+" "+o:o}),""),r=i.innerHTML||i.cssText||"",s=-1===uf.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+o+(s?"/>":">"+r+"</"+e+">")}),"")}(e,t,i)}}}},zf=function(e){var t=e.baseTag,n=e.bodyAttributes,i=e.encode,o=e.htmlAttributes,r=e.linkTags,s=e.metaTags,a=e.noscriptTags,l=e.scriptTags,c=e.styleTags,u=e.title,d=void 0===u?"":u,h=e.titleAttributes;return{base:Ff(Kg.BASE,t,i),bodyAttributes:Ff(Wg,n,i),htmlAttributes:Ff(jg,o,i),link:Ff(Kg.LINK,r,i),meta:Ff(Kg.META,s,i),noscript:Ff(Kg.NOSCRIPT,a,i),script:Ff(Kg.SCRIPT,l,i),style:Ff(Kg.STYLE,c,i),title:Ff(Kg.TITLE,{title:d,titleAttributes:h},i)}},Bf=n(Lg)((function(e){return{baseTag:Cf([$g,tf],e),bodyAttributes:_f(Wg,e),defer:Sf(e,rf),encode:Sf(e,sf),htmlAttributes:_f(jg,e),linkTags:xf(Kg.LINK,[Yg,$g],e),metaTags:xf(Kg.META,[Zg,Ug,Gg,Jg,Xg],e),noscriptTags:xf(Kg.NOSCRIPT,[Qg],e),onChangeClientState:yf(e),scriptTags:xf(Kg.SCRIPT,[ef,Qg],e),styleTags:xf(Kg.STYLE,[qg],e),title:bf(e),titleAttributes:_f(Vg,e)}}),(function(e){Af&&Df(Af),e.defer?Af=Ef((function(){Rf(e,(function(){Af=null}))})):(Rf(e),Af=null)}),zf)((function(){return null})),Hf=(Fg=Bf,Bg=zg=function(e){function t(){return hf(this,t),mf(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){return!n(gh)(this.props,e)},t.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case Kg.SCRIPT:case Kg.NOSCRIPT:return{innerHTML:t};case Kg.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},t.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,i=e.arrayTypeChildren,o=e.newChildProps,r=e.nestedChildren;return gf({},i,((t={})[n.type]=[].concat(i[n.type]||[],[gf({},o,this.mapNestedChildrenToProps(n,r))]),t))},t.prototype.mapObjectTypeChildren=function(e){var t,n,i=e.child,o=e.newProps,r=e.newChildProps,s=e.nestedChildren;switch(i.type){case Kg.TITLE:return gf({},o,((t={})[i.type]=s,t.titleAttributes=gf({},r),t));case Kg.BODY:return gf({},o,{bodyAttributes:gf({},r)});case Kg.HTML:return gf({},o,{htmlAttributes:gf({},r)})}return gf({},o,((n={})[i.type]=gf({},r),n))},t.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=gf({},t);return Object.keys(e).forEach((function(t){var i;n=gf({},n,((i={})[t]=e[t],i))})),n},t.prototype.warnOnInvalidChildren=function(e,t){return!0},t.prototype.mapChildrenToProps=function(e,t){var i=this,o={};return n(l).Children.forEach(e,(function(e){if(e&&e.props){var n=e.props,r=n.children,s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce((function(t,n){return t[cf[n]||n]=e[n],t}),t)}(ff(n,["children"]));switch(i.warnOnInvalidChildren(e,r),e.type){case Kg.LINK:case Kg.META:case Kg.NOSCRIPT:case Kg.SCRIPT:case Kg.STYLE:o=i.flattenArrayTypeChildren({child:e,arrayTypeChildren:o,newChildProps:s,nestedChildren:r});break;default:t=i.mapObjectTypeChildren({child:e,newProps:t,newChildProps:s,nestedChildren:r})}}})),t=this.mapArrayTypeChildrenToProps(o,t)},t.prototype.render=function(){var e=this.props,t=e.children,i=ff(e,["children"]),o=gf({},i);return t&&(o=this.mapChildrenToProps(t,o)),n(l).createElement(Fg,o)},pf(t,null,[{key:"canUseDOM",set:function(e){Fg.canUseDOM=e}}]),t}(n(l).Component),zg.propTypes={base:n(Rg).object,bodyAttributes:n(Rg).object,children:n(Rg).oneOfType([n(Rg).arrayOf(n(Rg).node),n(Rg).node]),defaultTitle:n(Rg).string,defer:n(Rg).bool,encodeSpecialCharacters:n(Rg).bool,htmlAttributes:n(Rg).object,link:n(Rg).arrayOf(n(Rg).object),meta:n(Rg).arrayOf(n(Rg).object),noscript:n(Rg).arrayOf(n(Rg).object),onChangeClientState:n(Rg).func,script:n(Rg).arrayOf(n(Rg).object),style:n(Rg).arrayOf(n(Rg).object),title:n(Rg).string,titleAttributes:n(Rg).object,titleTemplate:n(Rg).string},zg.defaultProps={defer:!0,encodeSpecialCharacters:!0},zg.peek=Fg.peek,zg.rewind=function(){var e=Fg.rewind();return e||(e=zf({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),e},Bg);Hf.renderStatic=Hf.rewind;const Wf=e=>{return(0,s.jsx)(Hf,{children:(0,s.jsx)("title",{children:(t=e.file,`${t.dirty?"* ":""}${t.model?.name??"Untitled"} - Samuwrite`)})});var t};l=r("gQRSt");const jf=e=>{const t=e.editor.value,[n,i]=(0,l.useState)(!1),[o,r]=(0,l.useState)(!0);(0,l.useEffect)((()=>{if(null===t)return;const e=[t.onDidChangeModelContent((()=>{r(!1)})),t.onDidScrollChange((e=>{e.scrollTopChanged&&r(!1)}))];return()=>e.forEach((e=>e.dispose()))}),[t]),(0,l.useEffect)((()=>{if(null===t)return;const e=[t.onMouseDown((()=>{i(!0)})),t.onMouseUp((()=>{i(!1)}))];return()=>e.forEach((e=>e.dispose()))}),[t]);return{handlers:{onMouseOver:()=>{r(!0)},onFocus:()=>{r(!0)}},mute:n,show:o}},Vf=document.getElementById("app");if(null===Vf)throw Error("`#app` is null");a.render((0,s.jsx)((()=>{const e=c(),t=f(),i={...dg(),...ug(),...ia(),...pg(),...hg()},o=jf({editor:e}),r=Ag({editor:e,file:t});return(0,s.jsxs)("div",{className:n(_g).app,...r.handlers,children:[(0,s.jsx)(Wf,{file:t}),(0,s.jsx)(fg,{theme:i.theme}),null!==e.value&&(0,s.jsx)("div",{className:[n(_g).toolbar,o.mute?n(_g).muted:""].join(" "),...o.handlers,children:(0,s.jsx)(cg,{show:o.show,editor:e.value,file:t,prefs:i})}),(0,s.jsx)("div",{className:n(_g).body,children:(0,s.jsx)(pa,{editor:e,file:t,prefs:i})}),r.dragging&&(0,s.jsx)(Sg,{})]})}),{}),Vf);